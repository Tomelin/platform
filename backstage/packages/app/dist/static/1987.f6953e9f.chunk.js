"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1987],{21987:(w,v,e)=>{e.r(v),e.d(v,{AboutCard:()=>Ke,AboutContent:()=>ie,AboutField:()=>E});var p=e(24978),C=e(8554),c=e(30593),S=e(94339),R=e(24579),x=e(32552),q=e(85256),G=e(61837),N=e(79692),W=e(87603),z=e(52267),n=e(2784),_=e(12524),b=e.n(_),f=e(35292),T=e(95544),u=e(90436);const Z=(0,N.Z)(s=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:s.palette.text.secondary,cursor:"default"},primary:{color:s.palette.primary.main},secondary:{color:s.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:s.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function h({color:s="primary",disabled:t=!1,href:o="#",icon:l=n.createElement(f.Z,null),label:a,onClick:r,title:m}){const d=Z();return t?n.createElement(T.Z,{title:m,className:b()(d.link,d.disabled)},l,n.createElement(u.Z,{variant:"caption",component:"span",className:d.label},a)):n.createElement(W.rU,{title:m,className:b()(d.link,d[s]),to:o,onClick:r},l,n.createElement(u.Z,{variant:"caption",component:"span",className:d.label},a))}const i=(0,N.Z)(s=>({links:{margin:s.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:s.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function M(s){const{links:t}=s,o=i();return n.createElement("nav",{className:o.links},t.map((l,a)=>n.createElement(h,{key:a+1,...l})))}var ee=e(38389),he=e(73250),ae=e(70666);const Ee=s=>{var r;const{type:t}=s,o=(0,ae.q)(),l=he.Z,a=t&&(r=o.getSystemIcon(t))!=null?r:l;return n.createElement(a,null)};var P=e(59274),ye=e(95475),Ce=e(5191),se=e(51491),Se=e(89173),le=e(23200),oe=e(17393);function Ze(s,t){var l;const o=(l=s.metadata.annotations)==null?void 0:l[c.M6];if(o)try{const a=(0,oe.Ou)(o),r=t.byUrl(a.target);return{locationTargetUrl:a.target,integrationType:r==null?void 0:r.type}}catch{return}}var re=e(66351),K=e(9277),j=e(14914),X=e(19631),Ae=e(7089),ce=e(60905),Le=e(22769),Ie=e(32430);const Te=(0,N.Z)(s=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:s.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function E(s){const{label:t,value:o,gridSizes:l,children:a}=s,r=Te(),m=(0,Ie.v)(a,O=>O.getElements()),d=m.length>0?m:n.createElement(u.Z,{variant:"body2",className:r.value},o||"unknown");return n.createElement(ce.Z,{item:!0,...l},n.createElement(u.Z,{variant:"h2",className:r.label},t),d)}var Re=e(30339);const xe=(0,N.Z)({description:{wordBreak:"break-word"}});function Ne(s,t,o){if(t==="url"||s.includes("://"))return s;const l=o.type==="file"?`file://${o.target}`:o.target;return t==="file"||o.type==="file"?new URL(s,l).href:l}function ie(s){var D,L,Q,J,F,B,k,I;const{entity:t}=s,o=xe(),l=t.kind.toLocaleLowerCase("en-US")==="system",a=t.kind.toLocaleLowerCase("en-US")==="resource",r=t.kind.toLocaleLowerCase("en-US")==="component",m=t.kind.toLocaleLowerCase("en-US")==="api",d=t.kind.toLocaleLowerCase("en-US")==="template",O=t.kind.toLocaleLowerCase("en-US")==="location",H=t.kind.toLocaleLowerCase("en-US")==="group",A=(0,j.h)(t,K.cz,{kind:"system"}),U=(0,j.h)(t,K.cz,{kind:"component"}),V=(0,j.h)(t,K.cz,{kind:"domain"}),$=(0,j.h)(t,K.S4);let g;try{g=(0,oe.CV)(t)}catch{g=void 0}return n.createElement(ce.Z,{container:!0},n.createElement(E,{label:"Description",gridSizes:{xs:12}},n.createElement(Le.S,{className:o.description,content:((D=t==null?void 0:t.metadata)==null?void 0:D.description)||"No description"})),n.createElement(E,{label:"Owner",value:"No Owner",gridSizes:{xs:12,sm:6,lg:4}},$.length>0&&n.createElement(X.r,{entityRefs:$,defaultKind:"group"})),(l||V.length>0)&&n.createElement(E,{label:"Domain",value:"No Domain",gridSizes:{xs:12,sm:6,lg:4}},V.length>0&&n.createElement(X.r,{entityRefs:V,defaultKind:"domain"})),(m||r||a||A.length>0)&&n.createElement(E,{label:"System",value:"No System",gridSizes:{xs:12,sm:6,lg:4}},A.length>0&&n.createElement(X.r,{entityRefs:A,defaultKind:"system"})),r&&U.length>0&&n.createElement(E,{label:"Parent Component",value:"No Parent Component",gridSizes:{xs:12,sm:6,lg:4}},n.createElement(X.r,{entityRefs:U,defaultKind:"component"})),(m||r||a||d||H||O||typeof((L=t==null?void 0:t.spec)==null?void 0:L.type)=="string")&&n.createElement(E,{label:"Type",value:(Q=t==null?void 0:t.spec)==null?void 0:Q.type,gridSizes:{xs:12,sm:6,lg:4}}),(m||r||typeof((J=t==null?void 0:t.spec)==null?void 0:J.lifecycle)=="string")&&n.createElement(E,{label:"Lifecycle",value:(F=t==null?void 0:t.spec)==null?void 0:F.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),n.createElement(E,{label:"Tags",value:"No Tags",gridSizes:{xs:12,sm:6,lg:4}},(((B=t==null?void 0:t.metadata)==null?void 0:B.tags)||[]).map(y=>n.createElement(Ae.Z,{key:y,size:"small",label:y}))),O&&(((k=t==null?void 0:t.spec)==null?void 0:k.targets)||((I=t==null?void 0:t.spec)==null?void 0:I.target))&&n.createElement(E,{label:"Targets",gridSizes:{xs:12}},n.createElement(Re.s,{cols:1,items:(t.spec.targets||[t.spec.target]).map(y=>y).map(y=>{var Y;return{text:y,href:Ne(y,((Y=t==null?void 0:t.spec)==null?void 0:Y.type)||"unknown",g)}})})))}var ze=e(52866),Oe=e(88188),De=e(30254),He=e(27604),Ue=e(83741),Be=e(75098),ke=e(38571),Ge=e(64279);const We="backstage.io/source-template",Me=s=>{const t=(0,P.h_)(le.A),{value:o}=(0,Ge.Z)(async()=>{var r;const l=(r=s.metadata.annotations)==null?void 0:r[We];let a;if(l)try{const m=await t.getEntityByRef(l);return a=(0,C.of)(l),m!==void 0?a:void 0}catch{return}},[t,s]);return o};var Pe=e(95689),Ve=e(39203);const Fe="backstage.io/techdocs-ref",te="backstage.io/techdocs-entity",be=(0,N.Z)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function Ke(s){var me,de,ue,fe,ge,ve,pe;const{variant:t}=s,o=(0,ae.q)(),l=be(),{entity:a}=(0,Se.X2)(),r=(0,P.h_)(ee.q),m=(0,P.h_)(le.A),d=(0,P.h_)(ye.$),O=(0,P.h_)(Ce.V),H=(0,se.t)(re.jU),A=(0,se.t)(re.ql),U=Me(a),{allowed:V}=(0,Be.N)(ke.es),{allowed:$}=(0,Ve.g)({permission:Pe.Wq}),g=Ze(a,r),D=(me=a.metadata.annotations)==null?void 0:me[p.Tf];let L;if((de=a.metadata.annotations)!=null&&de[te])try{L=(0,C.of)((ue=a.metadata.annotations)==null?void 0:ue[te])}catch{L=void 0}const Q={label:"View Source",disabled:!g,icon:n.createElement(Ee,{type:g==null?void 0:g.integrationType}),href:g==null?void 0:g.locationTargetUrl},J={label:"View TechDocs",disabled:!((fe=a.metadata.annotations)!=null&&fe[Fe]||(ge=a.metadata.annotations)!=null&&ge[te])||!H,icon:n.createElement(De.Z,null),href:H&&H(L?{namespace:L.namespace||p.zG,kind:L.kind,name:L.name}:{namespace:a.metadata.namespace||p.zG,kind:a.kind,name:a.metadata.name})},F=[Q,J];if((0,Ue.t)(a)){const ne=(ve=o.getSystemIcon("scaffolder"))!=null?ve:Oe.Z,je={label:"Launch Template",icon:n.createElement(ne,null),disabled:!A||!$,href:A&&A({templateName:a.metadata.name,namespace:a.metadata.namespace||p.zG})};F.push(je)}let B="";t==="gridItem"?B=l.gridItemCard:t==="fullHeight"&&(B=l.fullHeightCard);let k="";t==="gridItem"?k=l.gridItemCardContent:t==="fullHeight"&&(k=l.fullHeightCardContent);const I=(pe=a.metadata.annotations)==null?void 0:pe[c.P1],y=(I==null?void 0:I.startsWith("url:"))||(I==null?void 0:I.startsWith("file:")),Y=(0,n.useCallback)(async()=>{try{await m.refreshEntity((0,C.eE)(a)),d.post({message:"Refresh scheduled",severity:"info",display:"transient"})}catch(ne){O.post(ne)}},[m,d,O,a]);return n.createElement(S.Z,{className:B},n.createElement(x.Z,{title:"About",action:n.createElement(n.Fragment,null,y&&V&&n.createElement(G.Z,{"aria-label":"Refresh",title:"Schedule entity refresh",onClick:Y},n.createElement(ze.Z,null)),n.createElement(G.Z,{component:W.rU,"aria-label":"Edit",disabled:!D,title:"Edit Metadata",to:D!=null?D:"#"},n.createElement(He.Z,null)),U&&A&&n.createElement(G.Z,{component:W.rU,title:"Create something similar",to:A({namespace:U.namespace,templateName:U.name})},n.createElement(z.yO,{id:"scaffolder"}))),subheader:n.createElement(M,{links:F})}),n.createElement(q.Z,null),n.createElement(R.Z,{className:k},n.createElement(ie,{entity:a})))}},30339:(w,v,e)=>{e.d(v,{s:()=>b});var p=e(90348),C=e(11861),c=e(2784),S=e(95544),R=e(90436),x=e(79692),q=e(52160),G=e(87603);const N=(0,x.Z)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function W(f){const{href:T,text:u,Icon:Z}=f,h=N();return c.createElement(S.Z,{display:"flex"},c.createElement(S.Z,{mr:1,className:h.svgIcon},c.createElement(R.Z,{component:"div"},Z?c.createElement(Z,null):c.createElement(q.Z,null))),c.createElement(S.Z,{flexGrow:"1"},c.createElement(G.rU,{to:T,target:"_blank",rel:"noopener"},u||T)))}var z=e(41156);const n={xs:1,sm:1,md:1,lg:2,xl:3};function _(f){var Z,h;const T=[(0,z.Z)(i=>i.breakpoints.up("xl"))?"xl":null,(0,z.Z)(i=>i.breakpoints.up("lg"))?"lg":null,(0,z.Z)(i=>i.breakpoints.up("md"))?"md":null,(0,z.Z)(i=>i.breakpoints.up("sm"))?"sm":null,(0,z.Z)(i=>i.breakpoints.up("xs"))?"xs":null];let u=1;if(typeof f=="number")u=f;else{const i=(Z=T.find(M=>M!==null))!=null?Z:"xs";u=(h=f==null?void 0:f[i])!=null?h:n[i]}return u}function b(f){const{items:T,cols:u=void 0}=f,Z=_(u);return c.createElement(p.Z,{rowHeight:"auto",cols:Z},T.map(({text:h,href:i,Icon:M},ee)=>c.createElement(C.Z,{key:ee},c.createElement(W,{href:i,text:h!=null?h:i,Icon:M}))))}},52866:(w,v,e)=>{var p,C=e(71600),c=e(34590);p={value:!0},v.Z=void 0;var S=c(e(2784)),R=C(e(50175)),x=(0,R.default)(S.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");v.Z=x},73250:(w,v,e)=>{var p,C=e(71600),c=e(34590);p={value:!0},v.Z=void 0;var S=c(e(2784)),R=C(e(50175)),x=(0,R.default)(S.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");v.Z=x}}]);})();

//# sourceMappingURL=1987.f6953e9f.chunk.js.map