"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7784],{75997:(K,C,e)=>{e.d(C,{O:()=>t});var v=e(79692),o=e(80030),d=e(2784),y=e(90436);const a=(0,v.Z)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:r})=>r||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function t(r){var l;const O=a(r);return d.createElement(o.ZP,{title:(l=r.title)!=null?l:r.text||"",placement:r.placement},d.createElement(y.Z,{className:O.typo,variant:"inherit"},r.text))}},73601:(K,C,e)=>{e.d(C,{n:()=>a});var v=e(90436),o=e(2784),d=e(72509),y=e(59274);const a=t=>{const{apiEntity:r}=t,l=(0,y.h_)(d.Z).getApiDefinitionWidget(r),L=l?l.title:r.spec.type;return o.createElement(v.Z,{component:"span"},L)}},7784:(K,C,e)=>{e.r(C),e.d(C,{ConsumedApisCard:()=>w,HasApisCard:()=>_,ProvidedApisCard:()=>q});var v=e(9277),o=e(90436),d=e(89173),y=e(55223),a=e(55073),t=e(2784),r=e(15933),O=e(13737),l=e(73601),L=e(59274),B=e(95544),S=e(77277),n=e(8629),T=e(49429),g=e(38724),u=e(79249),P=e(6487),c=e(99152),i=e(79692),M=e(72509),x=e(27076);const E=(0,i.Z)(s=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",height:"100%"},tabs:{borderRight:`1px solid ${s.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"},title:{color:s.palette.text.primary,wordBreak:"break-word",fontSize:s.typography.h3.fontSize,marginBottom:0},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:s.spacing(1),color:s.palette.text.primary}}));function h(s){const{children:m,value:f,index:p,...D}=s,R=E();return t.createElement("div",{role:"tabpanel",hidden:f!==p,id:`vertical-tabpanel-${p}`,"aria-labelledby":`vertical-tab-${p}`,className:R.tabContents,...D},f===p&&t.createElement(B.Z,{pl:3,pr:3},m))}function U(s){return{id:`vertical-tab-${s}`,"aria-controls":`vertical-tabpanel-${s}`}}function $(s){var Q,V,Y;const{open:m,entity:f,onClose:p}=s,[D,R]=t.useState(0),A=E();(0,t.useEffect)(()=>{R(0)},[m]);const I=(0,L.h_)(M.Z).getApiDefinitionWidget(f);let H=0,J=0;return t.createElement(n.Z,{fullWidth:!0,maxWidth:"xl",open:m,onClose:p,"aria-labelledby":"api-definition-dialog-title",PaperProps:{className:A.fullHeightDialog}},t.createElement(u.Z,{id:"api-definition-dialog-title",disableTypography:!0},t.createElement(o.Z,{className:A.type},"API - ",(Q=I==null?void 0:I.title)!=null?Q:"Raw"),t.createElement(o.Z,{className:A.title,variant:"h1"},(V=f.metadata.title)!=null?V:f.metadata.name)),t.createElement(g.Z,{dividers:!0,className:A.root},t.createElement(c.Z,{orientation:"vertical",variant:"scrollable",value:D,onChange:(ne,ee)=>R(ee),"aria-label":"API definition options",className:A.tabs},I?t.createElement(P.Z,{label:I.title,...U(H++)}):null,t.createElement(P.Z,{label:"Raw",...U(H++)})),I?t.createElement(h,{value:D,index:J++},I.component(f.spec.definition)):null,t.createElement(h,{value:D,index:J++},t.createElement(x.R,{definition:f.spec.definition,language:(Y=I==null?void 0:I.rawLanguage)!=null?Y:f.spec.type}))),t.createElement(T.Z,null,t.createElement(S.Z,{onClick:p,color:"primary"},"Close")))}function W(){return{title:"Type",field:"spec.type",render:s=>t.createElement(l.n,{apiEntity:s})}}const z=({apiEntity:s})=>{const[m,f]=(0,t.useState)(!1);return t.createElement(t.Fragment,null,t.createElement(O.Z,{"aria-label":"Toggle API Definition Dialog",onClick:()=>f(!m),value:m},t.createElement(r.Z,null)),t.createElement($,{entity:s,open:m,onClose:()=>f(!1)}))};function j(){return{title:"API Definition",render:s=>t.createElement(z,{apiEntity:s})}}const N=[a.u.columns.createEntityRefColumn({defaultKind:"API"}),a.u.columns.createSystemColumn(),a.u.columns.createOwnerColumn(),W(),a.u.columns.createSpecLifecycleColumn(),a.u.columns.createMetadataDescriptionColumn(),j()];var b=e(93006),Z=e(37630),F=e(92600),G=e(67977),X=e(87603);const w=s=>{const{variant:m="gridItem",columns:f=N}=s,{entity:p}=(0,d.X2)(),{entities:D,loading:R,error:A}=(0,y.e)(p,{type:v.Dg});return R?t.createElement(b.r,{variant:m,title:"Consumed APIs"},t.createElement(Z.E,null)):A||!D?t.createElement(b.r,{variant:m,title:"Consumed APIs"},t.createElement(F.G,{severity:"error",title:"Could not load APIs",message:t.createElement(G.O,{text:`${A}`,language:"text"})})):t.createElement(a.u,{title:"Consumed APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not consume any APIs."),t.createElement(o.Z,{variant:"body2"},t.createElement(X.rU,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:f,entities:D})},k=[a.u.columns.createEntityRefColumn({defaultKind:"API"}),a.u.columns.createOwnerColumn(),W(),a.u.columns.createSpecLifecycleColumn(),a.u.columns.createMetadataDescriptionColumn()],_=s=>{const{variant:m="gridItem",columns:f=k}=s,{entity:p}=(0,d.X2)(),{entities:D,loading:R,error:A}=(0,y.e)(p,{type:v.aS,kind:"API"});return R?t.createElement(b.r,{variant:m,title:"APIs"},t.createElement(Z.E,null)):A||!D?t.createElement(b.r,{variant:m,title:"APIs"},t.createElement(F.G,{severity:"error",title:"Could not load APIs",message:t.createElement(G.O,{text:`${A}`,language:"text"})})):t.createElement(a.u,{title:"APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not contain any APIs."),t.createElement(o.Z,{variant:"body2"},t.createElement(X.rU,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api"},"Learn how to change this."))),columns:f,entities:D})},q=s=>{const{variant:m="gridItem",columns:f=N}=s,{entity:p}=(0,d.X2)(),{entities:D,loading:R,error:A}=(0,y.e)(p,{type:v.M_});return R?t.createElement(b.r,{variant:m,title:"Provided APIs"},t.createElement(Z.E,null)):A||!D?t.createElement(b.r,{variant:m,title:"Provided APIs"},t.createElement(F.G,{severity:"error",title:"Could not load APIs",message:t.createElement(G.O,{text:`${A}`,language:"text"})})):t.createElement(a.u,{title:"Provided APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.Z,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not provide any APIs."),t.createElement(o.Z,{variant:"body2"},t.createElement(X.rU,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:f,entities:D})}},27076:(K,C,e)=>{e.d(C,{R:()=>d});var v=e(2784),o=e(67977);const d=y=>v.createElement(o.O,{text:y.definition,language:y.language,showCopyCodeButton:!0})},55073:(K,C,e)=>{e.d(C,{u:()=>T});var v=e(79692),o=e(2784),d=e(9277),y=e(75997),a=e(14914),t=e(85056),r=e(19631),O=e(51847);const l=Object.freeze({createEntityRefColumn(g){const{defaultKind:u}=g;function P(c){var i;return((i=c.metadata)==null?void 0:i.title)||(0,O.$)(c,{defaultKind:u})}return{title:"Name",highlight:!0,customFilterAndSearch(c,i){return P(i).includes(c)},customSort(c,i){return P(c).localeCompare(P(i))},render:c=>{var i;return o.createElement(t.d,{entityRef:c,defaultKind:u,title:(i=c.metadata)==null?void 0:i.title})}}},createEntityRelationColumn(g){const{title:u,relation:P,defaultKind:c,filter:i}=g;function M(E){return(0,a.h)(E,P,i)}function x(E){return M(E).map(h=>(0,O.$)(h,{defaultKind:c})).join(", ")}return{title:u,customFilterAndSearch(E,h){return x(h).includes(E)},customSort(E,h){return x(E).localeCompare(x(h))},render:E=>o.createElement(r.r,{entityRefs:M(E),defaultKind:c})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:d.S4,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:d.cz,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:d.cz,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:g=>o.createElement(y.O,{text:g.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),L=[l.createEntityRefColumn({defaultKind:"system"}),l.createDomainColumn(),l.createOwnerColumn(),l.createMetadataDescriptionColumn()],B=[l.createEntityRefColumn({defaultKind:"component"}),l.createSystemColumn(),l.createOwnerColumn(),l.createSpecTypeColumn(),l.createSpecLifecycleColumn(),l.createMetadataDescriptionColumn()];var S=e(26535);const n=(0,v.Z)(g=>({empty:{padding:g.spacing(2),display:"flex",justifyContent:"center"}})),T=g=>{const{entities:u,title:P,emptyContent:c,variant:i="gridItem",columns:M,tableOptions:x={}}=g,E=n(),h={minWidth:"0",width:"100%"};return i==="gridItem"&&(h.height="calc(100% - 10px)"),o.createElement(S.i,{columns:M,title:P,style:h,emptyContent:c&&o.createElement("div",{className:E.empty},c),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...x},data:u})};T.columns=l,T.systemEntityColumns=L,T.componentEntityColumns=B},55223:(K,C,e)=>{e.d(C,{e:()=>a});var v=e(8554),o=e(59274),d=e(4812),y=e(23200);function a(t,r){var T,g;const O=(T=r==null?void 0:r.type)==null?void 0:T.toLocaleLowerCase("en-US"),l=(g=r==null?void 0:r.kind)==null?void 0:g.toLocaleLowerCase("en-US"),L=(0,o.h_)(y.A),{loading:B,value:S,error:n}=(0,d.Z)(async()=>{var c;const u=(c=t.relations)==null?void 0:c.filter(i=>(!O||i.type.toLocaleLowerCase("en-US")===O)&&(!l||(0,v.of)(i.targetRef).kind===l));if(!(u!=null&&u.length))return[];const{items:P}=await L.getEntitiesByRefs({entityRefs:u.map(i=>i.targetRef)});return P.filter(i=>!!i)},[t,O,l]);return{entities:S,loading:B,error:n}}},13737:(K,C,e)=>{e.d(C,{Z:()=>B});var v=e(59740),o=e(7896),d=e(2784),y=e(6277),a=e(41128),t=e(15459),r=e(60345),O=e(97580),l=function(n){return{root:(0,o.Z)({},n.typography.button,{boxSizing:"border-box",borderRadius:n.shape.borderRadius,padding:11,border:"1px solid ".concat((0,a.Fq)(n.palette.action.active,.12)),color:(0,a.Fq)(n.palette.action.active,.38),"&$selected":{color:n.palette.action.active,backgroundColor:(0,a.Fq)(n.palette.action.active,.12),"&:hover":{backgroundColor:(0,a.Fq)(n.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,a.Fq)(n.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,a.Fq)(n.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:n.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:n.typography.pxToRem(15)}}},L=d.forwardRef(function(n,T){var g=n.children,u=n.classes,P=n.className,c=n.disabled,i=c===void 0?!1:c,M=n.disableFocusRipple,x=M===void 0?!1:M,E=n.onChange,h=n.onClick,U=n.selected,$=n.size,W=$===void 0?"medium":$,z=n.value,j=(0,v.Z)(n,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),N=function(Z){h&&(h(Z,z),Z.isDefaultPrevented())||E&&E(Z,z)};return d.createElement(r.Z,(0,o.Z)({className:(0,y.default)(u.root,P,i&&u.disabled,U&&u.selected,W!=="medium"&&u["size".concat((0,O.Z)(W))]),disabled:i,focusRipple:!x,ref:T,onClick:N,onChange:E,value:z,"aria-pressed":U},j),d.createElement("span",{className:u.label},g))});const B=(0,t.Z)(l,{name:"MuiToggleButton"})(L)}}]);})();

//# sourceMappingURL=7784.e7176794.chunk.js.map