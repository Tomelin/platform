"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[410],{63003:(y,s,t)=>{t.d(s,{q:()=>Y});var e=t(70666),o=t(95544),l=t(77277),E=t(49429),m=t(61837),i=t(86136),u=t(49378),r=t(12231),c=t(50758),n=t(79784),O=t(79692),I=t(90436),B=t(41156),a=t(2784),W=t(76635),Z=t.n(W),x=t(19126),F=t.n(x),N=t(10467),L=t(52267),$=t(87603),z=t(74309),G=t(71911);const V=(0,O.Z)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),Q=({icon:v})=>{var d;const C=(0,e.q)(),A=v&&(d=C.getSystemIcon(v))!=null?d:L.by;return a.createElement(A,null)},K=({link:v})=>{var C;return a.createElement($.rU,{to:v.url},(C=v.title)!=null?C:v.url)},g=({item:v})=>{var C;return a.createElement(r.Z,null,a.createElement(i.Z,null,a.createElement(Q,{icon:v.icon})),a.createElement(u.Z,{primary:v.title,secondary:(C=v.links)==null?void 0:C.reduce((A,d,f)=>[...A,f>0&&a.createElement("br",{key:f}),a.createElement(K,{link:d,key:d.url})],[])}))};function Y(v){const{t:C}=(0,G.i)(z.v),{title:A,items:d,children:f}=v,{items:j}=(0,N.v)(),[J,_]=(0,a.useState)(!1),[M,p]=(0,a.useState)(null),T=V(),P=(0,B.Z)(D=>D.breakpoints.down("sm")),R=D=>{p(D.currentTarget),_(!0)},h=()=>{_(!1)};return a.createElement(a.Fragment,null,a.createElement(o.Z,{display:"flex",ml:1},P?a.createElement(m.Z,{color:"primary",size:"small",onClick:R,"data-testid":"support-button","aria-label":"Support"},a.createElement(L.by,null)):a.createElement(l.Z,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:R,startIcon:a.createElement(L.by,null)},C("supportButton.title"))),a.createElement(n.ZP,{"data-testid":"support-button-popover",open:J,anchorEl:M,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:h},a.createElement(c.Z,{className:T.popoverList,autoFocusItem:!!M},A&&a.createElement(r.Z,{button:!1,alignItems:"flex-start",className:T.menuItem},a.createElement(I.Z,{variant:"subtitle1"},A)),a.Children.map(f,(D,S)=>a.createElement(r.Z,{alignItems:"flex-start",key:`child-${S}`,className:T.menuItem},D)),(d!=null?d:j).map((D,S)=>a.createElement(g,{item:D,key:`item-${S}`}))),a.createElement(E.Z,null,a.createElement(l.Z,{color:"primary",onClick:h,"aria-label":"Close"},C("supportButton.close")))))}},16820:(y,s,t)=>{t.d(s,{O:()=>u});var e=t(95544),o=t(12420),l=t(79692),E=t(2784);const m=r=>(0,o.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:r.spacing(2)}}),i=(0,l.Z)(m,{name:"BackstageItemCardGrid"});function u(r){const{children:c,...n}=r,O=i(n);return E.createElement(e.Z,{className:O.root,...n},c)}},44614:(y,s,t)=>{t.d(s,{h:()=>r});var e=t(95544),o=t(12420),l=t(79692),E=t(90436),m=t(2784);const i=c=>(0,o.Z)({root:{color:c.palette.common.white,padding:c.spacing(2,2,3),backgroundImage:c.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),u=(0,l.Z)(i,{name:"BackstageItemCardHeader"});function r(c){const{title:n,subtitle:O,children:I}=c,B=u(c);return m.createElement(e.Z,{className:B.root},O&&m.createElement(E.Z,{variant:"subtitle2",component:"h3"},O),n&&m.createElement(E.Z,{variant:"h6",component:"h4"},n),I)}},99980:(y,s,t)=>{t.d(s,{g:()=>E});var e=t(2784),o=t(90996),l=t(92980);function E(m){const{themeId:i,children:u,...r}=m;return e.createElement(l.T,{themeId:i},e.createElement(o.h,{...r}),u)}},26166:(y,s,t)=>{t.d(s,{D:()=>e});function e(o,l){return l.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?o:o.toLocaleLowerCase("en-US")}},98696:(y,s,t)=>{t.d(s,{H:()=>Z});var e=t(2784),o=t(99949),l=t(51491),E=t(59274),m=t(58185),i=t(9277),u=t(14914),r=t(51847),c=t(12864),n=t(26535),O=t(15698),I=t(55990),B=t(94935),a=t(92366),W=t(26166);const Z=x=>{const{entities:F,title:N,loading:L,columns:$,actions:z,options:G}=x,[,V]=(0,o.Z)(),Q=(0,l.t)(c.Fw),K=(0,E.h_)(m.D);if(!F)return null;const g=F.map(d=>{var j;const f=(0,u.h)(d,i.S4);return{entity:d,resolved:{docsUrl:Q({namespace:(0,W.D)((j=d.metadata.namespace)!=null?j:"default",K),kind:(0,W.D)(d.kind,K),name:(0,W.D)(d.metadata.name,K)}),ownedByRelations:f,ownedByRelationsTitle:f.map(J=>(0,r.$)(J,{defaultKind:"group"})).join(", ")}}}),Y=[a.N.createNameColumn(),a.N.createOwnerColumn(),a.N.createKindColumn(),a.N.createTypeColumn()],v=[B.n.createCopyDocsUrlAction(V)],C=20,A=g&&g.length>C;return e.createElement(e.Fragment,null,L||g&&g.length>0?e.createElement(n.i,{isLoading:L,options:{paging:A,pageSize:C,search:!0,actionsColumnIndex:-1,...G},data:g,columns:$||Y,actions:z||v,title:N?`${N} (${g.length})`:`All (${g.length})`}):e.createElement(O.u,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(I.Q,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};Z.columns=a.N,Z.actions=B.n},94935:(y,s,t)=>{t.d(s,{n:()=>u});var e=t(2784),o=t(39981),l=t(15459),E=t(11640),m=t(28347);const i=(0,l.Z)({root:{color:"#f3ba37"}})(E.Z),u={createCopyDocsUrlAction(r){return c=>({icon:()=>e.createElement(o.Z,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>r(`${window.location.origin}${c.resolved.docsUrl}`)})},createStarEntityAction(r,c){return n=>{const O=n.entity,I=r(O);return{cellStyle:{paddingLeft:"1em"},icon:()=>I?e.createElement(i,null):e.createElement(m.Z,null),tooltip:I?"Remove from favorites":"Add to favorites",onClick:()=>c(O)}}}}},92366:(y,s,t)=>{t.d(s,{N:()=>c});var e=t(2784),o=t(95544),l=t(79692);const E=(0,l.Z)(n=>({value:{marginBottom:n.spacing(.75)},subvalue:{color:n.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function m(n){const{value:O,subvalue:I}=n,B=E();return e.createElement(e.Fragment,null,e.createElement(o.Z,{className:B.value},O),e.createElement(o.Z,{className:B.subvalue},I))}var i=t(87603),u=t(19631);function r(n){return n.metadata.title||n.metadata.name}const c={createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,render:n=>e.createElement(m,{value:e.createElement(i.rU,{to:n.resolved.docsUrl},r(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(u.r,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},30410:(y,s,t)=>{t.r(s),t.d(s,{TechDocsCustomHome:()=>J});var e=t(2784),o=t(4812),l=t(79692),E=t(9277),m=t(8554),i=t(59274),u=t(62039),r=t(14914);function c(){const _=(0,i.h_)(u.$),{loading:M,value:p}=(0,o.Z)(async()=>{const{ownershipEntityRefs:P}=await _.getBackstageIdentity();return P},[]),T=(0,e.useMemo)(()=>{const P=new Set(p!=null?p:[]);return R=>{const h=(0,r.h)(R,E.S4).map(m.eE);for(const D of h)if(P.has(D))return!0;return!1}},[p]);return{loading:M,isOwnedEntity:T}}var n=t(23200),O=t(73359),I=t(98696),B=t(12864),a=t(26166),W=t(51491),Z=t(58185),x=t(16820),F=t(44614),N=t(55990),L=t(94339),$=t(14503),z=t(24579),G=t(16111);const V=_=>{const{entities:M}=_,p=(0,W.t)(B.Fw),T=(0,i.h_)(Z.D);return M?e.createElement(x.O,{"data-testid":"docs-explore"},M!=null&&M.length?M.map((P,R)=>{var h,D;return e.createElement(L.Z,{key:R},e.createElement(G.Z,null,e.createElement(F.h,{title:(h=P.metadata.title)!=null?h:P.metadata.name})),e.createElement(z.Z,null,P.metadata.description),e.createElement($.Z,null,e.createElement(N.Q,{to:p({namespace:(0,a.D)((D=P.metadata.namespace)!=null?D:"default",T),kind:(0,a.D)(P.kind,T),name:(0,a.D)(P.metadata.name,T)}),color:"primary","data-testid":"read_docs"},"Read Docs")))}):null):null};var Q=t(70289),K=t(63003),g=t(35182),Y=t(37630),v=t(92600),C=t(67977),A=t(29420),d=t(11091);const f={DocsTable:I.H,DocsCardGrid:V},j=({config:_,entities:M,index:p})=>{const P=(0,l.Z)({panelContainer:{marginBottom:"2rem",..._.panelCSS?_.panelCSS:{}}})(),{loading:R,isOwnedEntity:h}=c(),D=f[_.panelType],S=M.filter(U=>_.filterPredicate==="ownedByUser"?R?!1:h(U):typeof _.filterPredicate=="function"&&_.filterPredicate(U));return e.createElement(e.Fragment,null,e.createElement(Q.y,{title:_.title,description:_.description},p===0?e.createElement(K.q,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:P.panelContainer},e.createElement(D,{"data-testid":"techdocs-custom-panel",entities:S})))},J=_=>{const{tabsConfig:M}=_,[p,T]=(0,e.useState)(0),P=(0,i.h_)(n.A),{value:R,loading:h,error:D}=(0,o.Z)(async()=>(await P.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":O.n},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(H=>{var X;return!!((X=H.metadata.annotations)!=null&&X["backstage.io/techdocs-ref"])})),S=M[p];return h?e.createElement(d.j,null,e.createElement(g.V,null,e.createElement(Y.E,null))):D?e.createElement(d.j,null,e.createElement(g.V,null,e.createElement(v.G,{severity:"error",title:"Could not load available documentation."},e.createElement(C.O,{language:"text",text:D.toString()})))):e.createElement(d.j,null,e.createElement(A.a,{selectedIndex:p,onChange:U=>T(U),tabs:M.map(({label:U},H)=>({id:H.toString(),label:U}))}),e.createElement(g.V,{"data-testid":"techdocs-content"},S.panels.map((U,H)=>e.createElement(j,{key:H,config:U,entities:R||[],index:H}))))}},11091:(y,s,t)=>{t.d(s,{j:()=>m});var e=t(2784),o=t(99980),l=t(59274),E=t(58185);const m=i=>{var n;const{children:u}=i,c=`Documentation available in ${(n=(0,l.h_)(E.D).getOptionalString("organization.name"))!=null?n:"Backstage"}`;return e.createElement(o.g,{title:"Documentation",subtitle:c,themeId:"documentation"},u)}},39981:(y,s,t)=>{var e,o=t(71600),l=t(34590);e={value:!0},s.Z=void 0;var E=l(t(2784)),m=o(t(50175)),i=(0,m.default)(E.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");s.Z=i}}]);})();

//# sourceMappingURL=410.bdbf5e96.chunk.js.map