"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3298],{75997:(D,f,t)=>{t.d(f,{O:()=>e});var C=t(79692),m=t(80030),c=t(2784),p=t(90436);const E=(0,C.Z)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:a})=>a||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function e(a){var s;const d=E(a);return c.createElement(m.ZP,{title:(s=a.title)!=null?s:a.text||"",placement:a.placement},c.createElement(p.Z,{className:d.typo,variant:"inherit"},a.text))}},63298:(D,f,t)=>{t.r(f),t.d(f,{ConsumingComponentsCard:()=>O,ProvidingComponentsCard:()=>R});var C=t(9277),m=t(90436),c=t(89173),p=t(55223),E=t(55073),e=t(2784),a=t(93006),d=t(37630),s=t(92600),g=t(67977),h=t(87603);const O=u=>{const{variant:r="gridItem"}=u,{entity:l}=(0,c.X2)(),{entities:i,loading:o,error:n}=(0,p.e)(l,{type:C.X9});return o?e.createElement(a.r,{variant:r,title:"Consumers"},e.createElement(d.E,null)):n||!i?e.createElement(a.r,{variant:r,title:"Consumers"},e.createElement(s.G,{severity:"error",title:"Could not load components",message:e.createElement(g.O,{text:`${n}`,language:"text"})})):e.createElement(E.u,{title:"Consumers",variant:r,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(m.Z,{variant:"body1"},"No component consumes this API."),e.createElement(m.Z,{variant:"body2"},e.createElement(h.rU,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:E.u.componentEntityColumns,entities:i})},R=u=>{const{variant:r="gridItem"}=u,{entity:l}=(0,c.X2)(),{entities:i,loading:o,error:n}=(0,p.e)(l,{type:C.Zj});return o?e.createElement(a.r,{variant:r,title:"Providers"},e.createElement(d.E,null)):n||!i?e.createElement(a.r,{variant:r,title:"Providers"},e.createElement(s.G,{severity:"error",title:"Could not load components",message:e.createElement(g.O,{text:`${n}`,language:"text"})})):e.createElement(E.u,{title:"Providers",variant:r,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(m.Z,{variant:"body1"},"No component provides this API."),e.createElement(m.Z,{variant:"body2"},e.createElement(h.rU,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:E.u.componentEntityColumns,entities:i})}},55073:(D,f,t)=>{t.d(f,{u:()=>u});var C=t(79692),m=t(2784),c=t(9277),p=t(75997),E=t(14914),e=t(85056),a=t(19631),d=t(51847);const s=Object.freeze({createEntityRefColumn(r){const{defaultKind:l}=r;function i(o){var n;return((n=o.metadata)==null?void 0:n.title)||(0,d.$)(o,{defaultKind:l})}return{title:"Name",highlight:!0,customFilterAndSearch(o,n){return i(n).includes(o)},customSort(o,n){return i(o).localeCompare(i(n))},render:o=>{var n;return m.createElement(e.d,{entityRef:o,defaultKind:l,title:(n=o.metadata)==null?void 0:n.title})}}},createEntityRelationColumn(r){const{title:l,relation:i,defaultKind:o,filter:n}=r;function L(y){return(0,E.h)(y,i,n)}function P(y){return L(y).map(v=>(0,d.$)(v,{defaultKind:o})).join(", ")}return{title:l,customFilterAndSearch(y,v){return P(v).includes(y)},customSort(y,v){return P(y).localeCompare(P(v))},render:y=>m.createElement(a.r,{entityRefs:L(y),defaultKind:o})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:c.S4,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:c.cz,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:c.cz,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:r=>m.createElement(p.O,{text:r.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),g=[s.createEntityRefColumn({defaultKind:"system"}),s.createDomainColumn(),s.createOwnerColumn(),s.createMetadataDescriptionColumn()],h=[s.createEntityRefColumn({defaultKind:"component"}),s.createSystemColumn(),s.createOwnerColumn(),s.createSpecTypeColumn(),s.createSpecLifecycleColumn(),s.createMetadataDescriptionColumn()];var O=t(26535);const R=(0,C.Z)(r=>({empty:{padding:r.spacing(2),display:"flex",justifyContent:"center"}})),u=r=>{const{entities:l,title:i,emptyContent:o,variant:n="gridItem",columns:L,tableOptions:P={}}=r,y=R(),v={minWidth:"0",width:"100%"};return n==="gridItem"&&(v.height="calc(100% - 10px)"),m.createElement(O.i,{columns:L,title:i,style:v,emptyContent:o&&m.createElement("div",{className:y.empty},o),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...P},data:l})};u.columns=s,u.systemEntityColumns=g,u.componentEntityColumns=h},55223:(D,f,t)=>{t.d(f,{e:()=>E});var C=t(8554),m=t(59274),c=t(4812),p=t(23200);function E(e,a){var u,r;const d=(u=a==null?void 0:a.type)==null?void 0:u.toLocaleLowerCase("en-US"),s=(r=a==null?void 0:a.kind)==null?void 0:r.toLocaleLowerCase("en-US"),g=(0,m.h_)(p.A),{loading:h,value:O,error:R}=(0,c.Z)(async()=>{var o;const l=(o=e.relations)==null?void 0:o.filter(n=>(!d||n.type.toLocaleLowerCase("en-US")===d)&&(!s||(0,C.of)(n.targetRef).kind===s));if(!(l!=null&&l.length))return[];const{items:i}=await g.getEntitiesByRefs({entityRefs:l.map(n=>n.targetRef)});return i.filter(n=>!!n)},[e,d,s]);return{entities:O,loading:h,error:R}}}}]);})();

//# sourceMappingURL=3298.d64bdfa8.chunk.js.map