"use strict";(()=>{var ir=Object.defineProperty;var Xa=k=>{throw TypeError(k)};var lr=(k,v,e)=>v in k?ir(k,v,{enumerable:!0,configurable:!0,writable:!0,value:e}):k[v]=e;var Ee=(k,v,e)=>lr(k,typeof v!="symbol"?v+"":v,e),ka=(k,v,e)=>v.has(k)||Xa("Cannot "+e);var Re=(k,v,e)=>(ka(k,v,"read from private field"),e?e.call(k):v.get(k)),Rt=(k,v,e)=>v.has(k)?Xa("Cannot add the same private member more than once"):v instanceof WeakSet?v.add(k):v.set(k,e),Zt=(k,v,e,t)=>(ka(k,v,"write to private field"),t?t.call(k,e):v.set(k,e),e),gn=(k,v,e)=>(ka(k,v,"access private method"),e);(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1850],{29273:(k,v,e)=>{var ea,Nn,xn,ta,Fn,sa,zn,na,Oa,jn,Un,bn,ia,aa,Pn,Qa,Ta,_a,la;e.d(v,{r:()=>sr});const t="Invalid discovery URL pattern,";class i{constructor(a){this.parts=a}static compile(a){const g=a.split(/\{\{\s*pluginId\s*\}\}/),A=g.join("pluginId");let w;try{w=new URL(A)}catch{throw new Error(`${t} URL '${A}' is invalid`)}if(w.hash)throw new Error(`${t} URL must not have a hash`);if(w.search)throw new Error(`${t} URL must not have a query`);if(A.endsWith("/"))throw new Error(`${t} URL must not end with a slash`);return new i(g)}async getBaseUrl(a){return this.parts.join(encodeURIComponent(a))}}var d=e(92400);class n{constructor(){Ee(this,"subject",new d.J)}post(a){this.subject.next(a)}alert$(){return this.subject}}class E{captureEvent(a){}}class l{constructor(a,g){this.alertApi=a,this.errorApi=g}post(a,g){return g!=null&&g.hidden||this.alertApi.post({message:a.message,severity:"error"}),this.errorApi.post(a,g)}error$(){return this.errorApi.error$()}}class u{constructor(){Ee(this,"subject",new d.J)}post(a,g){this.subject.next({error:a,context:g})}error$(){return this.subject}}class c{static forward(a,g){window.addEventListener("unhandledrejection",A=>{a.post(A.reason,g)})}}var r=e(82394),s=e.n(r);const m=new Map,Bn=class Bn{constructor(a,g){Ee(this,"subscribers",new Set);Ee(this,"observable",new(s())(a=>(this.subscribers.add(a),()=>{this.subscribers.delete(a)})));this.namespace=a,this.errorApi=g}static create(a){var g;return new Bn((g=a.namespace)!=null?g:"",a.errorApi)}static addStorageEventListener(){window.addEventListener("storage",a=>{var g;for(const[A,w]of m.entries())(g=a.key)!=null&&g.startsWith(A)&&w.handleStorageChange(a.key)})}get(a){return this.snapshot(a).value}snapshot(a){let g,A="absent";try{const w=localStorage.getItem(this.getKeyName(a));w&&(g=JSON.parse(w,(Q,ce)=>(typeof ce=="object"&&ce!==null&&Object.freeze(ce),ce)),A="present")}catch{this.errorApi.post(new Error(`Error when parsing JSON config from storage for: ${a}`))}return{key:a,value:g,presence:A}}forBucket(a){const g=`${this.namespace}/${a}`;return m.has(g)||m.set(g,new Bn(g,this.errorApi)),m.get(g)}async set(a,g){localStorage.setItem(this.getKeyName(a),JSON.stringify(g)),this.notifyChanges(a)}async remove(a){localStorage.removeItem(this.getKeyName(a)),this.notifyChanges(a)}observe$(a){return Bn.hasSubscribed||(Bn.addStorageEventListener(),Bn.hasSubscribed=!0),this.observable.filter(({key:g})=>g===a)}handleStorageChange(a){if(!(a!=null&&a.startsWith(this.namespace)))return;const g=a==null?void 0:a.slice(`${this.namespace}/`.length);g.includes("/")||this.notifyChanges(decodeURIComponent(g))}getKeyName(a){return`${this.namespace}/${encodeURIComponent(a)}`}notifyChanges(a){const g=this.snapshot(a);for(const A of this.subscribers)A.next(g)}};Ee(Bn,"hasSubscribed",!1);let f=Bn;function p(I){var A;let a=I.baseImplementation||e.g.fetch;const g=[(A=I.middleware)!=null?A:[]].flat().reverse();for(const w of g)a=w.apply(a);return{fetch:a}}class y{constructor(a,g,A,w){this.identityApi=a,this.allowUrl=g,this.headerName=A,this.headerValue=w}static create(a){var Q,ce;const g=C(a),A=((Q=a.header)==null?void 0:Q.name)||"authorization",w=((ce=a.header)==null?void 0:ce.value)||(pe=>`Bearer ${pe}`);return new y(a.identityApi,g,A,w)}apply(a){return async(g,A)=>{const w=new Request(g,A),{token:Q}=await this.identityApi.getCredentials();return w.headers.get(this.headerName)||typeof Q!="string"||!Q||!this.allowUrl(w.url)?a(g,A):(w.headers.set(this.headerName,this.headerValue(Q)),a(w))}}}function C(I){return I.allowUrl?I.allowUrl:I.urlPrefixAllowlist?h(I.urlPrefixAllowlist):I.config?h([I.config.getString("backend.baseUrl")]):()=>!1}function h(I){const a=I.map(g=>g.replace(/\/$/,""));return g=>a.some(A=>g===A||g.startsWith(`${A}/`))}function R(I,a){return!a||a==="/"?I:`${I.replace(/\/$/,"")}/${a.replace(/^\//,"")}`}class O{constructor(a){this.discoveryApi=a}apply(a){return async(g,A)=>{const w=new Request(g,A),Q="plugin://";if(!w.url.startsWith(Q))return a(g,A);const{hostname:ce,pathname:pe,search:Te,hash:Fe,username:rt,password:Tt}=new URL(`http://${w.url.substring(Q.length)}`);let At=await this.discoveryApi.getBaseUrl(ce);if(rt||Tt){const zt=new URL(At),jt=`${rt}${Tt?`:${Tt}`:""}@`;At=`${zt.protocol}//${jt}${zt.host}${zt.pathname}`}const Qt=`${R(At,pe)}${Te}${Fe}`;return a(Qt,typeof g=="string"||D(g)?A:g)}}}function D(I){return typeof I=="object"&&(I==null?void 0:I.constructor)===URL}class x{static resolvePluginProtocol(a){return new O(a.discoveryApi)}static injectIdentityAuth(a){return y.create(a)}constructor(){}}function B(I,a){for(const g of a)if(!I.has(g))return!1;return!0}function o(I,...a){const g=new Set(I);for(const A of a)for(const w of A)g.add(w);return g}class T{constructor(){Ee(this,"requests",[]);Ee(this,"subject",new d.X(this.getCurrentPending()))}request(a){return new Promise((g,A)=>{this.requests.push({scopes:a,resolve:g,reject:A}),this.subject.next(this.getCurrentPending())})}resolve(a,g){this.requests=this.requests.filter(A=>B(a,A.scopes)?(A.resolve(g),!1):!0),this.subject.next(this.getCurrentPending())}reject(a){this.requests.forEach(g=>g.reject(a)),this.requests=[],this.subject.next(this.getCurrentPending())}pending(){return this.subject}getCurrentPending(){const a=this.requests.length===0?void 0:this.requests.slice(1).reduce((g,A)=>o(g,A.scopes),this.requests[0].scopes);return{scopes:a,resolve:g=>{a&&this.resolve(a,g)},reject:g=>{a&&this.reject(g)}}}}class W{constructor(){Ee(this,"subject",new d.X([]));Ee(this,"currentRequests",[]);Ee(this,"handlerCount",0)}createAuthRequester(a){const g=new T,A=this.handlerCount;return this.handlerCount++,g.pending().subscribe({next:w=>{const Q=this.currentRequests.slice(),ce=this.makeAuthRequest(w,a);ce?Q[A]=ce:delete Q[A],this.currentRequests=Q,this.subject.next(Q.filter(Boolean))}}),w=>g.request(w)}makeAuthRequest(a,g){const{scopes:A}=a;if(A)return{provider:g.provider,trigger:async()=>{const w=await g.onAuthRequest(A);a.resolve(w)},reject:()=>{const w=new Error("Login failed, rejected by user");w.name="RejectedError",a.reject(w)}}}authRequest$(){return this.subject}}var F=e(85190);const H={id:"google",title:"Google",icon:()=>null},z="https://www.googleapis.com/auth/";class J{static create(a){const{configApi:g,discoveryApi:A,oauthRequestApi:w,environment:Q="development",provider:ce=H,defaultScopes:pe=["openid",`${z}userinfo.email`,`${z}userinfo.profile`]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:w,provider:ce,environment:Q,defaultScopes:pe,scopeTransform(Te){return Te.map(Fe=>Fe==="openid"?Fe:Fe==="profile"||Fe==="email"?`${z}userinfo.${Fe}`:Fe.startsWith(z)?Fe:`${z}${Fe}`)}})}}const Z={id:"microsoft",title:"Microsoft",icon:()=>null},vn=class vn{constructor(a){Ee(this,"oauth2");Ee(this,"configApi");Ee(this,"environment");Ee(this,"provider");Ee(this,"oauthRequestApi");Ee(this,"discoveryApi");Ee(this,"scopeTransform");const{configApi:g,environment:A="development",provider:w=Z,oauthRequestApi:Q,discoveryApi:ce,defaultScopes:pe=["openid","offline_access","profile","email","User.Read"],scopeTransform:Te=Fe=>Fe.concat("offline_access")}=a;this.configApi=g,this.environment=A,this.provider=w,this.oauthRequestApi=Q,this.discoveryApi=ce,this.scopeTransform=Te,this.oauth2={[vn.MicrosoftGraphID]:F.Z.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform,defaultScopes:pe})}}static create(a){return new vn(a)}microsoftGraph(){return this.oauth2[vn.MicrosoftGraphID]}static resourceForScopes(a){var w;const g=[...new Set(a.split(" ").map(vn.resourceForScope).filter(Q=>Q!=="openid"))];if(g.length>1)return Promise.reject(new Error(`Requested access token with scopes from multiple Azure resources: ${g.join(", ")}. Access tokens can only have a single audience.`));const A=(w=g[0])!=null?w:vn.MicrosoftGraphID;return Promise.resolve(A)}static resourceForScope(a){var A;const g=(A=a.match(/^(?<resourceURI>.*)\/(?<scp>[^\/]*)$/))==null?void 0:A.groups;if(g){const{resourceURI:w}=g;return w.replace(/^api:\/\//,"")}switch(a){case"email":case"openid":case"offline_access":case"profile":return"openid";default:return vn.MicrosoftGraphID}}async getAccessToken(a,g){const A=a===void 0?vn.MicrosoftGraphID:await vn.resourceForScopes(Array.isArray(a)?a.join(" "):a);return A in this.oauth2||(this.oauth2[A]=F.Z.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform})),this.oauth2[A].getAccessToken(a,g)}getIdToken(a){return this.microsoftGraph().getIdToken(a)}getProfile(a){return this.microsoftGraph().getProfile(a)}getBackstageIdentity(a){return this.microsoftGraph().getBackstageIdentity(a)}signIn(){return this.microsoftGraph().signIn()}signOut(){return this.microsoftGraph().signOut()}sessionState$(){return this.microsoftGraph().sessionState$()}};Ee(vn,"MicrosoftGraphID","00000003-0000-0000-c000-000000000000");let L=vn;const $={id:"github",title:"GitHub",icon:()=>null};class U{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=$,oauthRequestApi:ce,defaultScopes:pe=["read:user"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:pe})}}const Y={id:"okta",title:"Okta",icon:()=>null},S=new Set(["openid","profile","email","phone","address","groups","offline_access"]),b="okta.";class K{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=Y,oauthRequestApi:ce,defaultScopes:pe=["openid","email","profile","offline_access"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:pe,scopeTransform(Te){return Te.map(Fe=>S.has(Fe)||Fe.startsWith(b)?Fe:`${b}${Fe}`)}})}}const se={id:"gitlab",title:"GitLab",icon:()=>null};class le{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=se,oauthRequestApi:ce,defaultScopes:pe=["read_user"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:pe})}}const _={id:"onelogin",title:"onelogin",icon:()=>null},te=new Set(["openid","profile","email","phone","address","groups","offline_access"]),de="onelogin.";class re{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=_,oauthRequestApi:ce}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:["openid","email","profile","offline_access"],scopeTransform(pe){return pe.map(Te=>te.has(Te)||Te.startsWith(de)?Te:`${de}${Te}`)}})}}const ae={id:"bitbucket",title:"Bitbucket",icon:()=>null};class oe{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=ae,oauthRequestApi:ce,defaultScopes:pe=["account"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:pe})}}const ne={id:"bitbucketServer",title:"Bitbucket Server",icon:()=>null};class he{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=ne,oauthRequestApi:ce,defaultScopes:pe=["PROJECT_ADMIN"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w,defaultScopes:pe})}}const Le={id:"atlassian",title:"Atlassian",icon:()=>null};class ke{static create(a){const{configApi:g,discoveryApi:A,environment:w="development",provider:Q=Le,oauthRequestApi:ce}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:ce,provider:Q,environment:w})}}const _e={id:"vmwareCloudServices",title:"VMware Cloud",icon:()=>null};class xe{static create(a){const{configApi:g,discoveryApi:A,oauthRequestApi:w,environment:Q="development",provider:ce=_e,defaultScopes:pe=["openid"]}=a;return F.Z.create({configApi:g,discoveryApi:A,oauthRequestApi:w,provider:ce,environment:Q,defaultScopes:pe})}}var fe=e(39798),Me=e(86477),Ce=e(58185),Ae=e(95475),Be=e(38188),ht=e(5191),Lt=e(86987),Bt=e(75341),ft=e(62039),ze=e(17893),ie=e(31108),we=e(20721),Ze=e(32272),Xe=e(96279),ct=e.n(Xe),Pt=e(91004),Ge=e(30195),yt=e(11025);const qe=Ge.z.lazy(()=>Ge.z.object({rule:Ge.z.string(),resourceType:Ge.z.string(),params:Ge.z.record(Ge.z.any()).optional()}).or(Ge.z.object({anyOf:Ge.z.array(qe).nonempty()})).or(Ge.z.object({allOf:Ge.z.array(qe).nonempty()})).or(Ge.z.object({not:qe}))),Ie=Ge.z.object({result:Ge.z.literal(yt.r.ALLOW).or(Ge.z.literal(yt.r.DENY))}),We=Ge.z.union([Ge.z.object({result:Ge.z.literal(yt.r.ALLOW).or(Ge.z.literal(yt.r.DENY))}),Ge.z.object({result:Ge.z.literal(yt.r.CONDITIONAL),pluginId:Ge.z.string(),resourceType:Ge.z.string(),conditions:qe})]),Je=(I,a)=>Ge.z.object({items:Ge.z.array(Ge.z.intersection(Ge.z.object({id:Ge.z.string()}),I)).refine(g=>g.length===a.size&&g.every(({id:A})=>a.has(A)),{message:"Items in response do not match request"})});class et{constructor(a){Ee(this,"enabled");Ee(this,"discovery");var g;this.discovery=a.discovery,this.enabled=(g=a.config.getOptionalBoolean("permission.enabled"))!=null?g:!1}async authorize(a,g){return this.makeRequest(a,Ie,g)}async authorizeConditional(a,g){return this.makeRequest(a,We,g)}async makeRequest(a,g,A){if(!this.enabled)return a.map(rt=>({result:yt.r.ALLOW}));const w={items:a.map(rt=>({id:Pt.Z(),...rt}))},Q=await this.discovery.getBaseUrl("permission"),ce=await ct()(`${Q}/authorize`,{method:"POST",body:JSON.stringify(w),headers:{...this.getAuthorizationHeader(A==null?void 0:A.token),"content-type":"application/json"}});if(!ce.ok)throw await Ze.VL.fromResponse(ce);const pe=await ce.json(),Fe=Je(g,new Set(w.items.map(({id:rt})=>rt))).parse(pe).items.reduce((rt,Tt)=>(rt[Tt.id]=Tt,rt),{});return w.items.map(rt=>Fe[rt.id])}getAuthorizationHeader(a){return a?{Authorization:`Bearer ${a}`}:{}}}class Ve{constructor(a,g){this.permissionClient=a,this.identityApi=g}static create(a){const{config:g,discovery:A,identity:w}=a,Q=new et({discovery:A,config:g});return new Ve(Q,w)}async authorize(a){return(await this.permissionClient.authorize([a],await this.identityApi.getCredentials()))[0]}}const Ke=[(0,fe.n)({api:Me.N,deps:{configApi:Ce.D},factory:({configApi:I})=>i.compile(`${I.getString("backend.baseUrl")}/api/{{ pluginId }}`)}),(0,fe.n)({api:Ae.$,deps:{},factory:()=>new n}),(0,fe.n)({api:Be.v,deps:{},factory:()=>new E}),(0,fe.n)({api:ht.V,deps:{alertApi:Ae.$},factory:({alertApi:I})=>{const a=new l(I,new u);return c.forward(a,{hidden:!1}),a}}),(0,fe.n)({api:Lt.E,deps:{errorApi:ht.V},factory:({errorApi:I})=>f.create({errorApi:I})}),(0,fe.n)({api:Bt.g,deps:{configApi:Ce.D,identityApi:ft.$,discoveryApi:Me.N},factory:({configApi:I,identityApi:a,discoveryApi:g})=>p({middleware:[x.resolvePluginProtocol({discoveryApi:g}),x.injectIdentityAuth({identityApi:a,config:I})]})}),(0,fe.n)({api:ze.Z,deps:{},factory:()=>new W}),(0,fe.n)({api:ie.Kp,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>J.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.p_,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>L.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.F4,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>U.create({configApi:g,discoveryApi:I,oauthRequestApi:a,defaultScopes:["read:user"],environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.D,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>K.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.ux,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>le.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.gW,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>re.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.bq,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>oe.create({configApi:g,discoveryApi:I,oauthRequestApi:a,defaultScopes:["account"],environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.Km,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>he.create({configApi:g,discoveryApi:I,oauthRequestApi:a,defaultScopes:["REPO_READ"]})}),(0,fe.n)({api:ie.uB,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>ke.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:ie.fE,deps:{discoveryApi:Me.N,oauthRequestApi:ze.Z,configApi:Ce.D},factory:({discoveryApi:I,oauthRequestApi:a,configApi:g})=>xe.create({configApi:g,discoveryApi:I,oauthRequestApi:a,environment:g.getOptionalString("auth.environment")})}),(0,fe.n)({api:we.R,deps:{discovery:Me.N,identity:ft.$,config:Ce.D},factory:({config:I,discovery:a,identity:g})=>Ve.create({config:I,discovery:a,identity:g})})];var $e=e(2784),dt=e(77277),ut=e(17182),mt=e(44303),ve=e(37630),G=e(73557),V=e(39857);function me({children:I}){return(0,G.GV)()?$e.createElement($e.Fragment,null,I):$e.createElement(G.VA,null,I)}const be=()=>$e.createElement(ut.m,{status:"404",statusMessage:"PAGE NOT FOUND"}),Oe=({step:I,error:a})=>{let g="";return I==="load-config"?g=`The configuration failed to load, someone should have a look at this error: ${a.message}`:I==="load-chunk"&&(g=`Lazy loaded chunk failed to load, try to reload the page: ${a.message}`),$e.createElement(me,null,$e.createElement(ut.m,{statusMessage:g,stack:a.stack}))},ot=({error:I,resetError:a,plugin:g})=>$e.createElement(mt.y,{title:`Error in ${g==null?void 0:g.getId()}`,defaultExpanded:!0,error:I},$e.createElement(dt.Z,{variant:"outlined",onClick:a},"Retry")),Qe={Progress:ve.E,Router:V.VK,NotFoundErrorPage:be,BootErrorPage:Oe,ErrorBoundaryFallback:ot};var St=e(43642),Mt=e(80079),_t=e(90941),Yt=e(32915),ee=e(40562),M=e(21853),j=e(60744),ue=e(66569),De=e(30254),je=e(13384),nt=e(15933),Nt=e(58838),wt=e(86737),Ht=e(4989),tn=e(44407),rn=e(18628),Ft=e(84219),Wt=e(98685),on=e(39781),sn=e(62607),dn=e(78258);const hn={brokenImage:Mt.Z,catalog:rn.Z,scaffolder:Yt.Z,techdocs:ee.Z,search:M.Z,chat:j.Z,dashboard:ue.Z,docs:De.Z,email:je.Z,github:Nt.Z,group:Ft.Z,help:wt.Z,"kind:api":nt.Z,"kind:component":tn.Z,"kind:domain":St.Z,"kind:group":Ft.Z,"kind:location":Ht.Z,"kind:system":_t.Z,"kind:user":Wt.Z,"kind:resource":sn.Z,"kind:template":dn.Z,user:Wt.Z,warning:on.Z};var wn=e(42648),Rn=e(18939),Wn=e(10619);const un={light:(0,Wn.ay)({palette:Rn.z.light}),dark:(0,Wn.ay)({palette:Rn.z.dark})};var nn=e(98192),$n=e(15222);const kn=[{id:"light",title:"Light Theme",variant:"light",icon:$e.createElement($n.Z,null),Provider:({children:I})=>$e.createElement(wn.I,{theme:un.light,children:I})},{id:"dark",title:"Dark Theme",variant:"dark",icon:$e.createElement(nn.Z,null),Provider:({children:I})=>$e.createElement(wn.I,{theme:un.dark,children:I})}];var cn=e(4812),ra=e(13980),Mn=e.n(ra);class Sn{constructor(...a){Ee(this,"holders");this.holders=a}get(a){for(const g of this.holders){const A=g.get(a);if(A)return A}}}var pn=e(18473);const _n=(0,pn.CT)("api-context"),Gn=I=>{var Q;const{apis:a,children:g}=I,A=(Q=(0,$e.useContext)(_n))==null?void 0:Q.atVersion(1),w=A?new Sn(a,A):a;return $e.createElement(_n.Provider,{value:(0,pn.EI)({1:w}),children:g})};Gn.propTypes={apis:Mn().shape({get:Mn().func.isRequired}).isRequired,children:Mn().node};class mn{constructor(a){Ee(this,"apis",new Map);this.factories=a}static validateFactories(a,g){for(const A of g){const w=[A],Q=new Set;for(;w.length;){const ce=w.shift(),pe=a.get(ce);if(pe)for(const Te of Object.values(pe.deps)){if(Te.id===A.id)throw new Error(`Circular dependency of api factory for ${A}`);Q.has(Te)||(Q.add(Te),w.push(Te))}}}}get(a){return this.load(a)}load(a,g=[]){const A=this.apis.get(a.id);if(A)return A;const w=this.factories.get(a);if(!w)return;if(g.includes(w.api))throw new Error(`Circular dependency of api factory for ${w.api}`);const Q=this.loadDeps(a,w.deps,[...g,w.api]),ce=w.factory(Q);return this.apis.set(a.id,ce),ce}loadDeps(a,g,A){const w={};for(const Q in g)if(g.hasOwnProperty(Q)){const ce=g[Q],pe=this.load(ce,A);if(!pe)throw new Error(`No API factory available for dependency ${ce} of dependent ${a}`);w[Q]=pe}return w}}var ge=(I=>(I[I.default=10]="default",I[I.app=50]="app",I[I.static=100]="static",I))(ge||{});class Se{constructor(){Ee(this,"factories",new Map)}register(a,g){const A=ge[a],w=this.factories.get(g.api.id);return w&&w.priority>=A?!1:(this.factories.set(g.api.id,{priority:A,factory:g}),!0)}get(a){const g=this.factories.get(a.id);if(g)return g.factory}getAllApis(){const a=new Set;for(const{factory:g}of this.factories.values())a.add(g.api);return a}}var Ye=e(17834),Ne=e(30029);const He="theme";class at{constructor(a){Ee(this,"activeThemeId");Ee(this,"subject",new d.X(void 0));this.themes=a}static createWithStorage(a){var w;const g=new at(a);if(!window.localStorage)return g;const A=(w=window.localStorage.getItem(He))!=null?w:void 0;return g.setActiveThemeId(A),g.activeThemeId$().subscribe(Q=>{Q?window.localStorage.setItem(He,Q):window.localStorage.removeItem(He)}),window.addEventListener("storage",Q=>{var ce;if(Q.key===He){const pe=(ce=localStorage.getItem(He))!=null?ce:void 0;g.setActiveThemeId(pe)}}),g}getInstalledThemes(){return this.themes.slice()}activeThemeId$(){return this.subject}getActiveThemeId(){return this.activeThemeId}setActiveThemeId(a){this.activeThemeId=a,this.subject.next(a)}}const tt=null;function bt(I,a){let g,A=!1;const w={};try{g=a!=null&&a.key?I.getConfig(a.key):I;for(const Q of tt){const ce=g.getOptionalNumber(Q);ce!==void 0&&(w[Q]=ce,A=!0)}}catch(Q){throw new InputError(`Failed to read duration from config, ${Q}`)}try{if(!A){const ce=tt.map(pe=>`'${pe}'`).join(", ");throw new Error(`Needs one or more of ${ce}`)}const Q=g.keys().filter(ce=>!tt.includes(ce));if(Q.length){const ce=Q.length===1?"property":"properties",pe=Q.map(Fe=>`'${Fe}'`).join(", "),Te=tt.map(Fe=>`'${Fe}'`).join(", ");throw new Error(`Unknown ${ce} ${pe}; expected one or more of ${Te}`)}}catch(Q){let ce="Failed to read duration from config";throw a!=null&&a.key&&(ce+=` at '${a.key}'`),new InputError(`${ce}, ${Q}`)}return w}var Et=Object.defineProperty,Dt=(I,a,g)=>a in I?Et(I,a,{enumerable:!0,configurable:!0,writable:!0,value:g}):I[a]=g,pt=(I,a,g)=>(Dt(I,typeof a!="symbol"?a+"":a,g),g);const Kt=/^[a-z][a-z0-9]*(?:[-_][a-z][a-z0-9]*)*$/i;function xt(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function Ot(I){return typeof I!="object"||I===null?I:Array.isArray(I)?I.map(Ot):Object.fromEntries(Object.entries(I).map(([a,g])=>[a,Ot(g)]))}function $t(I,a){if(I===null)return;if(I===void 0)return a===void 0?void 0:$t(a);if(typeof I!="object"||Array.isArray(I))return I;const g=xt(a)?a:{},A={};for(const w of new Set([...Object.keys(I),...Object.keys(g)])){const Q=$t(I[w],g[w]);Q!==void 0&&(A[w]=Q)}return A}function Jt(I){if(I===null)return"null";if(Array.isArray(I))return"array";const a=typeof I;return a==="number"&&isNaN(I)?"nan":a==="string"&&I===""?"empty-string":a}const gt={type(I,a,g,A){return`Invalid type in config for key '${I}' in '${a}', got ${g}, wanted ${A}`},missing(I,a){return`Missing required config value at '${I}' in '${a}'`},convert(I,a,g){return`Unable to convert config value for key '${I}' in '${a}' to a ${g}`}};class en{constructor(a,g="mock-config",A,w=""){this.data=a,this.context=g,this.fallback=A,this.prefix=w,pt(this,"filteredKeys"),pt(this,"notifiedFilteredKeys",new Set)}static fromConfigs(a){return a.length===0?new en(void 0):a.reduce((g,{data:A,context:w,filteredKeys:Q,deprecatedKeys:ce})=>{const pe=new en(A,w,g);if(pe.filteredKeys=Q,ce)for(const{key:Te,description:Fe}of ce)console.warn(`The configuration key '${Te}' of ${w} is deprecated and may be removed soon. ${Fe||""}`);return pe},void 0)}has(a){var g,A;const w=this.readValue(a);return w===null?!1:w!==void 0?!0:(A=(g=this.fallback)==null?void 0:g.has(a))!=null?A:!1}keys(){var a,g;const A=this.data?Object.keys(this.data):[],w=(g=(a=this.fallback)==null?void 0:a.keys())!=null?g:[];return[...new Set([...A,...w])].filter(Q=>{var ce;return((ce=this.data)==null?void 0:ce[Q])!==null})}get(a){const g=this.getOptional(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a!=null?a:""),this.context));return g}getOptional(a){var g,A;const w=Ot(this.readValue(a)),Q=(g=this.fallback)==null?void 0:g.getOptional(a);if(w!==null)return w===void 0?$t(Q):Q===void 0?$t(w):$t(w,Q)}getConfig(a){const g=this.getOptionalConfig(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalConfig(a){var g;const A=this.readValue(a),w=(g=this.fallback)==null?void 0:g.getOptionalConfig(a);if(xt(A))return this.copy(A,a,w);if(A!==null){if(A!==void 0)throw new TypeError(gt.type(this.fullKey(a),this.context,Jt(A),"object"));return w}}getConfigArray(a){const g=this.getOptionalConfigArray(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalConfigArray(a){var g;const A=this.readConfigValue(a,w=>{if(!Array.isArray(w))return{expected:"object-array"};for(const[Q,ce]of w.entries())if(!xt(ce))return{expected:"object-array",value:ce,key:`${a}[${Q}]`};return!0});if(A)return A.map((w,Q)=>this.copy(w,`${a}[${Q}]`))}getNumber(a){const g=this.getOptionalNumber(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalNumber(a){const g=this.readConfigValue(a,w=>typeof w=="number"||typeof w=="string"||{expected:"number"});if(typeof g=="number"||g===void 0)return g;const A=Number(g);if(!Number.isFinite(A))throw new Error(gt.convert(this.fullKey(a),this.context,"number"));return A}getBoolean(a){const g=this.getOptionalBoolean(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalBoolean(a){const g=this.readConfigValue(a,w=>typeof w=="boolean"||typeof w=="number"||typeof w=="string"||{expected:"boolean"});if(typeof g=="boolean"||g===void 0)return g;const A=String(g).trim();if(/^(?:y|yes|true|1|on)$/i.test(A))return!0;if(/^(?:n|no|false|0|off)$/i.test(A))return!1;throw new Error(gt.convert(this.fullKey(a),this.context,"boolean"))}getString(a){const g=this.getOptionalString(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalString(a){return this.readConfigValue(a,g=>typeof g=="string"&&g!==""||{expected:"string"})}getStringArray(a){const g=this.getOptionalStringArray(a);if(g===void 0)throw new Error(gt.missing(this.fullKey(a),this.context));return g}getOptionalStringArray(a){return this.readConfigValue(a,g=>{if(!Array.isArray(g))return{expected:"string-array"};for(const[A,w]of g.entries())if(typeof w!="string"||w==="")return{expected:"string-array",value:w,key:`${a}[${A}]`};return!0})}fullKey(a){return`${this.prefix}${this.prefix?".":""}${a}`}copy(a,g,A){const w=new en(a,this.context,A,this.fullKey(g));return w.filteredKeys=this.filteredKeys,w}readConfigValue(a,g){var A,w;const Q=this.readValue(a);if(Q===void 0)return(w=this.fallback)==null?void 0:w.readConfigValue(a,g);if(Q===null)return;const ce=g(Q);if(ce!==!0){const{key:pe=a,value:Te=Q,expected:Fe}=ce;throw new TypeError(gt.type(this.fullKey(pe),this.context,Jt(Te),Fe))}return Q}readValue(a){const g=a?a.split("."):[];for(const w of g)if(!Kt.test(w))throw new TypeError(`Invalid config key '${a}'`);if(this.data===void 0)return;let A=this.data;for(const[w,Q]of g.entries())if(xt(A))A=A[Q];else if(A!=null){const ce=this.fullKey(g.slice(0,w).join("."));throw new TypeError(gt.type(ce,this.context,Jt(A),"object"))}return A}}function Vt(I){if(I.length<3)throw new Error(`The '${I}' feature flag must have a minimum length of three characters.`);if(I.length>150)throw new Error(`The '${I}' feature flag must not exceed 150 characters.`);if(!I.match(/^[a-z]+[a-z0-9-]+$/))throw new Error(`The '${I}' feature flag must start with a lowercase letter and only contain lowercase letters, numbers and hyphens. Examples: feature-flag-one, alpha, release-2020`)}class In{constructor(){Ee(this,"registeredFeatureFlags",[]);Ee(this,"flags")}registerFlag(a){Vt(a.name),this.registeredFeatureFlags.push(a)}getRegisteredFlags(){return this.registeredFeatureFlags.slice()}isActive(a){return this.flags||(this.flags=this.load()),this.flags.get(a)===Ne.C.Active}save(a){this.flags||(this.flags=this.load()),a.merge||this.flags.clear();for(const[A,w]of Object.entries(a.states))this.flags.set(A,w);const g=Array.from(this.flags.entries()).filter(([,A])=>A===Ne.C.Active);window.localStorage.setItem("featureFlags",JSON.stringify(Object.fromEntries(g)))}load(){try{const a=window.localStorage.getItem("featureFlags");if(!a)return new Map;const g=JSON.parse(a);if(typeof g!="object"||g===null||Array.isArray(g))return new Map;const A=Object.entries(g).filter(([w,Q])=>(Vt(w),Q===Ne.C.Active));return new Map(A)}catch{return new Map}}}var En=e(10093),Hn=e(56690);function Vn(I){const a={};for(const A in I.collectors)I.collectors.hasOwnProperty(A)&&(a[A]=I.collectors[A]());const g=[{node:$e.Children.toArray(I.root),parent:void 0,contexts:{}}];for(;g.length!==0;){const{node:A,parent:w,contexts:Q}=g.shift();$e.Children.forEach(A,ce=>{if(!(0,$e.isValidElement)(ce))return;const pe={};for(const Te in a)if(a.hasOwnProperty(Te)){const Fe=a[Te];pe[Te]=Fe.visit(Fe.accumulator,ce,w,Q[Te])}for(const Te of I.discoverers){const Fe=Te(ce);Fe&&g.push({node:Fe,parent:ce,contexts:pe})}})}return Object.fromEntries(Object.entries(a).map(([A,w])=>[A,w.accumulator]))}function yn(I,a){return()=>({accumulator:I(),visit:a})}function Zn(I){var a;return(a=I.props)==null?void 0:a.children}function Yn(I){var a,g,A;if((a=I.props)!=null&&a.path&&((g=I.props)!=null&&g.element))return(A=I.props)==null?void 0:A.element}var ln=e(22230);const On=yn(()=>new Set,(I,a)=>{const g=(0,ln.I)(a,"core.plugin");g&&I.add(g)});var ca=e(59274);const da=I=>{const{children:a}=I,g=(0,ca.h_)(Ne.W),A="with"in I?g.isActive(I.with):!g.isActive(I.without);return $e.createElement($e.Fragment,null,A?a:null)};(0,ln.R)(da,"core.featureFlagged",!0);const Jn={caseSensitive:!1,path:"*",element:"match-all",routeRefs:new Set,plugins:new Set};function Xn(I){var g,A;const a=I;return a!=null&&a.type?(A=(g=a.type.displayName)!=null?g:a.type.name)!=null?A:String(a.type):String(a)}const ua=I=>{const a=new Set;return I&&a.add(I),a};function ma(I,a=new Array){return $e.Children.forEach(I,g=>{if(!(0,$e.isValidElement)(g))return;const A=(0,ln.I)(g,"core.mountPoint");if(A){const w=(0,ln.I)(g,"core.plugin");a.push({routeRef:A,plugin:w})}ma(g.props.children,a)}),a}const ga=yn(()=>({paths:new Map,parents:new Map,objects:new Array}),(I,a,g,A)=>{var pe,Te,Fe,rt,Tt,At,Qt;if(A!=null&&A.isElementAncestor)return A;if((g==null?void 0:g.props.element)===a)return{...A,isElementAncestor:!0};const w=(pe=a.props)==null?void 0:pe.path,Q=(0,ln.I)(a,"core.mountPoint");if(Q&&w)throw new Error(`Path property may not be set directly on a routable extension "${Xn(a)}"`);const ce=(Fe=(Te=A==null?void 0:A.obj)==null?void 0:Te.children)!=null?Fe:I.objects;if(w!==void 0){if(typeof w!="string")throw new Error(`Element path must be a string at "${Xn(a)}"`);const zt=w.startsWith("/")?w.slice(1):w,jt=a.props.element;if((0,ln.I)(a,"core.gatherMountPoints")){if(jt)throw new Error(`Mount point gatherers may not have an element prop "${Xn(a)}"`);const an={path:zt,element:"gathered",routeRefs:new Set,caseSensitive:!!((rt=a.props)!=null&&rt.caseSensitive),children:[Jn],plugins:new Set};return ce.push(an),{obj:an,gatherPath:zt,routeRef:A==null?void 0:A.routeRef,gatherRouteRef:A==null?void 0:A.routeRef}}if(jt){const[an,...Cn]=ma(jt);if(Cn.length>0)throw new Error(`Route element with path "${w}" may not contain multiple routable extensions`);if(!an)return A;const{routeRef:qt,plugin:An}=an,Ja={path:zt,element:"mounted",routeRefs:new Set([qt]),caseSensitive:!!((Tt=a.props)!=null&&Tt.caseSensitive),children:[Jn],plugins:ua(An)};return ce.push(Ja),I.paths.set(qt,zt),I.parents.set(qt,A==null?void 0:A.routeRef),{obj:Ja,routeRef:qt!=null?qt:A==null?void 0:A.routeRef,gatherPath:zt,gatherRouteRef:A==null?void 0:A.gatherRouteRef}}}if(Q){if((A==null?void 0:A.gatherPath)===void 0)throw new Error(`Routable extension "${Xn(a)}" with mount point "${Q}" must be assigned a path`);(At=A==null?void 0:A.obj)==null||At.routeRefs.add(Q);const zt=(0,ln.I)(a,"core.plugin");return zt&&((Qt=A==null?void 0:A.obj)==null||Qt.plugins.add(zt)),I.paths.set(Q,A.gatherPath),I.parents.set(Q,A==null?void 0:A.gatherRouteRef),{...A,routeRef:Q}}return A}),ha=yn(()=>({paths:new Map,parents:new Map,objects:new Array}),(I,a,g,A)=>{var zt,jt,an,Cn,qt;if((g==null?void 0:g.props.element)===a)return A;let w=A==null?void 0:A.obj,Q=A==null?void 0:A.routeRef,ce=A==null?void 0:A.sticky;const pe=(zt=a.props)==null?void 0:zt.path,Te=(jt=w==null?void 0:w.children)!=null?jt:I.objects,Fe=!!((an=a.props)!=null&&an.caseSensitive);let rt=A==null?void 0:A.path;if((0,ln.I)(a,"core.gatherMountPoints")){if(!pe)throw new Error("Mount point gatherer must have a path");rt=pe}const Tt=(Cn=a.props)==null?void 0:Cn.element;let At=(0,ln.I)(a,"core.mountPoint");if(!At&&(0,$e.isValidElement)(Tt)&&(At=(0,ln.I)(Tt,"core.mountPoint")),At){let An=pe;if(rt&&(An?rt=void 0:An=rt),!An)throw new Error("Mounted routable extension must have a path");I.paths.set(At,An),Q&&ce?(I.parents.set(At,Q),pe&&(Q=At,ce=!1)):(I.parents.set(At,Q),Q=At),pe?(w={caseSensitive:Fe,path:pe,element:"mounted",routeRefs:new Set([At]),children:[Jn],plugins:ua((0,ln.I)(a.props.element,"core.plugin"))},Te.push(w)):w==null||w.routeRefs.add(At)}if((0,ln.I)(a,"core.gatherMountPoints")&&(ce=!0),(0,ln.I)(a,"core.gatherMountPoints")){if(!pe)throw new Error("Mount point gatherer must have a path");At||(w={caseSensitive:Fe,path:pe,element:"gathered",routeRefs:new Set,children:[Jn],plugins:((qt=A==null?void 0:A.obj)==null?void 0:qt.plugins)||new Set},Te.push(w))}return{obj:w,path:rt,routeRef:Q,sticky:ce}}),Ra=yn(()=>new Set,(I,a)=>{if(a.type===da){const g=a.props;I.add("with"in g?g.with:g.without)}});var fa=e(16060);const Kn=(0,pn.uW)("route-ref-type",()=>Symbol("route-ref-type"));function pa(I){return I[Kn]==="absolute"}function kt(I){return I[Kn]==="sub"}function Ga(I){return I[Kn]==="external"}function Qn(...I){const a=I.join("/").replace(/\/\/+/g,"/");return a!=="/"&&a.endsWith("/")?a.slice(0,-1):a}var Sa=e(34519),Ia=e.n(Sa);function Da(I,a,g){let A,w="";if(pa(I))A=I;else if(kt(I))A=I.parent,w=I.path;else if(Ga(I)){const pe=g.get(I);if(!pe)return[void 0,""];if(pa(pe))A=pe;else if(kt(pe))A=pe.parent,w=pe.path;else throw new Error(`ExternalRouteRef was bound to invalid target, ${pe}`)}else throw I[Kn]?new Error(`Unknown or invalid route ref type, ${I[Kn]}`):new Error(`Unknown object passed to useRouteRef, got ${I}`);if(!A)return[void 0,""];const Q=a.get(A);if(Q===void 0)return[void 0,""];const ce=Qn(Q,w);return[A,ce]}function Ea(I,a,g,A,w){var rt;const Q=(rt=(0,fa.fp)(w,a))!=null?rt:[],ce=Array();let pe=-1;for(let Tt=I;Tt&&(pe=Q.findIndex(At=>At.route.routeRefs.has(Tt)),pe===-1);Tt=A.get(Tt))ce.unshift(Tt);ce.length===0&&(pe-=1);const Te=pe===-1?"":Q[pe].pathname,Fe=ce.slice(0,-1).map(Tt=>{const At=g.get(Tt);if(At===void 0)throw new Error(`No path for ${Tt}`);if(At.includes(":"))throw new Error(`Cannot route to ${I} with parent ${Tt} as it has parameters`);return At});return`${Qn(Te,...Fe)}/`}class ba{constructor(a,g,A,w,Q){this.routePaths=a,this.routeParents=g,this.routeObjects=A,this.routeBindings=w,this.appBasePath=Q}resolve(a,g){const[A,w]=Da(a,this.routePaths,this.routeBindings);if(!A)return;let Q;typeof g=="string"?Q=this.trimPath(g):g.pathname?Q={...g,pathname:this.trimPath(g.pathname)}:Q=g;const ce=this.appBasePath+Ea(A,Q,this.routePaths,this.routeParents,this.routeObjects);return(...[Te])=>{const Fe=Te&&Ia()(Te,rt=>typeof rt=="string"?rt.replaceAll(/[&?#;\/]/g,Tt=>encodeURIComponent(Tt)):rt);return Qn(ce,(0,fa.Gn)(w,Fe))}}trimPath(a){return a&&(a.startsWith(this.appBasePath)?a.slice(this.appBasePath.length):a)}}const Ma=(0,pn.CT)("routing-context"),Ha=({routePaths:I,routeParents:a,routeObjects:g,routeBindings:A,basePath:w="",children:Q})=>{const ce=new ba(I,a,g,A,w),pe=(0,pn.EI)({1:ce});return $e.createElement(Ma.Provider,{value:pe},Q)};function La(I,a){const g=new Set(a.values());g.delete(void 0);for(const A of a.keys()){if(g.has(A))continue;let w=A,Q="";for(;w;){const pe=I.get(w);if(pe===void 0)throw new Error(`No path for ${w}`);Q=Qn(pe,Q),w=a.get(w)}const ce=Q.match(/:(\w+)/g);if(ce){for(let pe=0;pe<ce.length;pe++)for(let Te=pe+1;Te<ce.length;Te++)if(ce[Te]===ce[pe])throw new Error(`Parameter ${ce[Te]} is duplicated in path ${Q}`)}}}function Ba(I,a){for(const g of a)if(g.externalRoutes){for(const[A,w]of Object.entries(g.externalRoutes))if(!w.optional&&!I.has(w))throw new Error(`External route '${A}' of the '${g.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`)}}const ya=(0,pn.CT)("app-context"),Va=({appContext:I,children:a})=>{const g=(0,pn.EI)({1:I});return $e.createElement(ya.Provider,{value:g,children:a})},xa="app",Ua=`${xa}-auth-cookie-expires-at`,wa=5*6e4,va=5e3,Wa=2,$a=5*6e4;function Za({discoveryApi:I,fetchApi:a,errorApi:g}){let A=!1,w,Q=!0,ce=va;const pe="BroadcastChannel"in window?new BroadcastChannel(Ua):void 0,Te=At=>{const Qt=(1+3*Math.random())*6e4;return Math.max(At-Date.now(),wa)-Qt},Fe=async()=>{try{const Qt=`${await I.getBaseUrl(xa)}/.backstage/auth/v1/cookie`,zt=await a.fetch(Qt,{credentials:"include"});if(!zt.ok)throw new Error(`Request failed with status ${zt.status} ${zt.statusText}, see request towards ${Qt} for more details`);const jt=await zt.json();if(!jt.expiresAt)throw new Error("No expiration date in response");const an=Date.parse(jt.expiresAt);if(Number.isNaN(an))throw new Error("Invalid expiration date in response");Q=!0,pe==null||pe.postMessage({action:"COOKIE_REFRESH_SUCCESS",payload:{expiresAt:new Date(an).toISOString()}}),Tt(Te(an))}catch(At){Q?(Q=!1,ce=va):(ce=Math.min($a,ce*Wa),console.error("Session cookie refresh failed",At),g.post(new Error("Session refresh failed, see developer console for details"))),Tt(ce)}},rt=At=>{const{data:Qt}=At;if(!(Qt===null||typeof Qt!="object")&&"action"in Qt&&Qt.action==="COOKIE_REFRESH_SUCCESS"){const zt=Date.parse(Qt.payload.expiresAt);if(Number.isNaN(zt)){console.warn("Received invalid expiration from session refresh channel");return}Tt(Te(zt))}};function Tt(At){A||(w&&clearTimeout(w),w=setTimeout(Fe,At))}return pe==null||pe.addEventListener("message",rt),Fe(),()=>{A=!0,w&&clearTimeout(w),pe==null||pe.removeEventListener("message",rt),pe==null||pe.close()}}function Pa(I){return new Error(`Tried to access IdentityApi ${I} before app was loaded`)}function oa(I){console.warn(`WARNING: Call to ${I} is deprecated and will break in the future`)}class Ka{constructor(){Ee(this,"target");Ee(this,"waitForTarget");Ee(this,"resolveTarget",()=>{});Ee(this,"signOutTargetUrl","/");Rt(this,ea);this.waitForTarget=new Promise(a=>{this.resolveTarget=a})}setTarget(a,g){this.target=a,this.signOutTargetUrl=g.signOutTargetUrl,this.resolveTarget(a)}getUserId(){if(!this.target)throw Pa("getUserId");if(!this.target.getUserId)throw new Error("IdentityApi does not implement getUserId");return oa("getUserId"),this.target.getUserId()}getProfile(){if(!this.target)throw Pa("getProfile");if(!this.target.getProfile)throw new Error("IdentityApi does not implement getProfile");return oa("getProfile"),this.target.getProfile()}async getProfileInfo(){return this.waitForTarget.then(a=>a.getProfileInfo())}async getBackstageIdentity(){const a=await this.waitForTarget.then(g=>g.getBackstageIdentity());return a.userEntityRef.match(/^.*:.*\/.*$/)||console.warn(`WARNING: The App IdentityApi provided an invalid userEntityRef, '${a.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`),a}async getCredentials(){return this.waitForTarget.then(a=>a.getCredentials())}async getIdToken(){return this.waitForTarget.then(a=>{if(!a.getIdToken)throw new Error("IdentityApi does not implement getIdToken");return oa("getIdToken"),a.getIdToken()})}async signOut(){var a;await this.waitForTarget.then(g=>g.signOut()),await((a=Re(this,ea))==null?void 0:a.call(this)),window.location.href=this.signOutTargetUrl}enableCookieAuth(a){if(Re(this,ea))return;const g=Za(a);Zt(this,ea,async()=>{g();const A=await a.discoveryApi.getBaseUrl("app");try{await a.fetchApi.fetch(`${A}/.backstage/auth/v1/cookie`,{method:"DELETE"})}catch{}})}}ea=new WeakMap;var Ca=e(13350);function Na(I,a,g){if(I!==void 0){const w=g.find(Q=>Q.id===I);if(w)return w}if(a){const w=g.find(Q=>Q.variant==="dark");if(w)return w}const A=g.find(w=>w.variant==="light");return A||g[0]}const Ya=()=>{const I=(0,$e.useMemo)(()=>window.matchMedia("(prefers-color-scheme: dark)"),[]),[a,g]=(0,$e.useState)(I.matches);return(0,$e.useEffect)(()=>{const A=w=>{g(w.matches)};return I.addListener(A),()=>{I.removeListener(A)}},[I]),a};function Tn({children:I}){const a=(0,ca.h_)(Ye.h),g=(0,Ca.Z)(a.activeThemeId$(),a.getActiveThemeId()),A=window.matchMedia?Ya():!1,w=Na(g,A,a.getInstalledThemes());if(!w)throw new Error("App has no themes");return $e.createElement(w.Provider,{children:I})}const P=async()=>N();function N(I=/*__APP_INJECTED_CONFIG_MARKER__*/"[{\"context\":\"app\",\"deprecatedKeys\":[],\"data\":{\"app\":{\"title\":\"Developer portal\",\"baseUrl\":\"http://localhost:3000\",\"support\":{\"url\":\"https://bywhats\",\"items\":[{\"title\":\"Suport pelo whatsapp\",\"icon\":\"chat\",\"links\":[{\"url\":\"https://api.whatsapp.com/send?phone=5551984104084&text=Suporte para o developer Portal\",\"title\":\"Support by whatsapp\"}]}]}},\"organization\":{\"name\":\"Synera\"},\"backend\":{\"baseUrl\":\"http://localhost:7007\"},\"integrations\":{\"github\":[{\"host\":\"github.com\"}]},\"sonarqube\":{\"baseUrl\":\"https://sonarcloud.io\"},\"techdocs\":{\"builder\":\"local\"},\"auth\":{\"environment\":\"development\",\"providers\":{\"auth0\":{},\"github\":{}}},\"catalog\":{\"import\":{\"entityFilename\":\"catalog-info.yaml\",\"pullRequestBranchName\":\"backstage-integration\"}}}}]"/*__INJECTED_END__*/){const a=[{context:"app-config.yaml",data:{app:{title:"Developer portal",baseUrl:"http://localhost:3000",support:{url:"https://bywhats",items:[{title:"Suport pelo whatsapp",icon:"chat",links:[{url:"https://api.whatsapp.com/send?phone=5551984104084&text=Suporte para o developer Portal",title:"Support by whatsapp"}]}]}},organization:{name:"Synera"},permission:{enabled:!0},backend:{baseUrl:"http://localhost:7007"},integrations:{github:[{host:"github.com"}]},sonarqube:{baseUrl:"https://sonarcloud.io"},techdocs:{builder:"local"},auth:{environment:"development",providers:{auth0:{},github:{}}},catalog:{import:{entityFilename:"catalog-info.yaml",pullRequestBranchName:"backstage-integration"}}}}];if(!a)throw new Error("No static configuration provided");if(!Array.isArray(a))throw new Error("Static configuration has invalid format");const g=a.slice();if(I!=="__app_injected_runtime_config__".toLocaleUpperCase("en-US"))try{const w=JSON.parse(I);Array.isArray(w)?g.push(...w):g.push({data:w,context:"env"})}catch(w){throw new Error(`Failed to load runtime configuration, ${w}`)}const A=window.__APP_CONFIG__;return A&&g.push({context:"window",data:A}),g}class X{constructor(){Ee(this,"apis",[])}add(a,g){return this.apis.push([a.id,g]),g}build(){return new q(new Map(this.apis))}}class q{constructor(a){this.apis=a}static builder(){return new X}static from(a){return new q(new Map(a.map(([g,A])=>[g.id,A])))}static with(a,g){return new q(new Map([[a.id,g]]))}with(a,g){return new q(new Map([...this.apis,[a.id,g]]))}get(a){return this.apis.get(a.id)}}function ye(I){var A,w;const a=new Map,g=new Map;for(const Q of I){for(const[ce,pe]of Object.entries((A=Q.routes)!=null?A:{})){const Te=`${Q.getId()}.${ce}`;if(a.has(Te))throw new Error(`Unexpected duplicate route '${Te}'`);a.set(Te,pe)}for(const[ce,pe]of Object.entries((w=Q.externalRoutes)!=null?w:{})){const Te=`${Q.getId()}.${ce}`;if(g.has(Te))throw new Error(`Unexpected duplicate external route '${Te}'`);g.set(Te,pe)}}return{routes:a,externalRoutes:g}}function Pe(I,a,g){var pe;const A=ye(g),w=new Map;I&&I({bind:(Fe,rt)=>{for(const[Tt,At]of Object.entries(rt)){const Qt=Fe[Tt];if(!Qt)throw new Error(`Key ${Tt} is not an existing external route`);if(!At&&!Qt.optional)throw new Error(`External route ${Tt} is required but was undefined`);At&&w.set(Qt,At)}}});const Q=(pe=a.getOptionalConfig("app.routes.bindings"))==null?void 0:pe.get(),ce=new Set;if(Q)for(const[Te,Fe]of Object.entries(Q)){if(!Ue(Fe))throw new Error(`Invalid config at app.routes.bindings['${Te}'], value must be a non-empty string or false`);const rt=A.externalRoutes.get(Te);if(!rt)throw new Error(`Invalid config at app.routes.bindings, '${Te}' is not a valid external route`);if(Fe===!1)ce.add(rt),w.delete(rt);else if(!w.has(rt)){const Tt=A.routes.get(Fe);if(!Tt)throw new Error(`Invalid config at app.routes.bindings['${Te}'], '${Fe}' is not a valid route`);w.set(rt,Tt)}}for(const Te of A.externalRoutes.values())if(!w.has(Te)&&!ce.has(Te)){const Fe="getDefaultTarget"in Te?Te.getDefaultTarget():void 0;if(Fe){const rt=A.routes.get(Fe);rt&&w.set(Te,rt)}}return w}function Ue(I){return!!(I===!1||typeof I=="string"&&I)}var st=e(80661),lt=e(45919),Ct=e(33280);const Ut="language",It="en",Aa=class Aa{constructor(a,g){Rt(this,Nn);Rt(this,xn);Rt(this,ta);Zt(this,Nn,a),Zt(this,xn,g),Zt(this,ta,new d.X({language:Re(this,xn)}))}static create(a){var w,Q;const g=(w=a==null?void 0:a.availableLanguages)!=null?w:[It];if(g.length!==new Set(g).size)throw new Error(`Supported languages may not contain duplicates, got '${g.join("', '")}'`);if(!g.includes(It))throw new Error(`Supported languages must include '${It}'`);const A=(Q=a==null?void 0:a.defaultLanguage)!=null?Q:It;if(!g.includes(A))throw new Error(`Initial language must be one of the supported languages, got '${A}'`);return new Aa(g,A)}static createWithStorage(a){const g=Aa.create(a);if(!window.localStorage)return g;const A=window.localStorage.getItem(Ut),{languages:w}=g.getAvailableLanguages();return A&&w.includes(A)&&g.setLanguage(A),g.language$().subscribe(({language:Q})=>{Q!==window.localStorage.getItem(Ut)&&window.localStorage.setItem(Ut,Q)}),window.addEventListener("storage",Q=>{var ce;if(Q.key===Ut){const pe=(ce=localStorage.getItem(Ut))!=null?ce:void 0;pe&&g.setLanguage(pe)}}),g}getAvailableLanguages(){return{languages:Re(this,Nn).slice()}}setLanguage(a){const g=a!=null?a:It;if(g!==Re(this,xn)){if(g&&!Re(this,Nn).includes(g))throw new Error(`Failed to change language to '${g}', available languages are '${Re(this,Nn).join("', '")}'`);Zt(this,xn,g),Re(this,ta).next({language:g})}}getLanguage(){return{language:Re(this,xn)}}language$(){return Re(this,ta)}};Nn=new WeakMap,xn=new WeakMap,ta=new WeakMap;let it=Aa;var Xt=e(24991);function Gt(I){const a=I;if(a.$$type!=="@backstage/TranslationResource")throw new Error(`Invalid translation resource, bad type '${a.$$type}'`);if(a.version!=="v1")throw new Error(`Invalid translation resource, bad version '${a.version}'`);return a}function vt(I){const a=I;if(a.$$type!=="@backstage/TranslationRef")throw new Error(`Invalid translation ref, bad type '${a.$$type}'`);if(a.version!=="v1")throw new Error(`Invalid translation ref, bad version '${a.version}'`);return a}function fn(I){return Object.fromEntries(Object.entries(I).filter(a=>a[1]!==null))}class Dn{constructor(a){Rt(this,na);Rt(this,Fn,new Set);Rt(this,sa,new Map);Rt(this,zn,new Map);this.onLoad=a}addTranslationResource(a){const g=Gt(a);for(const A of g.resources){const w=gn(this,na,Oa).call(this,A.language,g.id);Re(this,zn).has(w)||Re(this,zn).set(w,A.loader)}}needsLoading(a,g){const A=gn(this,na,Oa).call(this,a,g);return Re(this,zn).get(A)?!Re(this,Fn).has(A):!1}async load(a,g){const A=gn(this,na,Oa).call(this,a,g),w=Re(this,zn).get(A);if(!w||Re(this,Fn).has(A))return;const Q=Re(this,sa).get(A);if(Q){await Q;return}const ce=w().then(pe=>{this.onLoad({language:a,namespace:g,messages:pe.messages}),Re(this,Fn).add(A)},pe=>{throw Re(this,Fn).add(A),pe});Re(this,sa).set(A,ce),await ce}}Fn=new WeakMap,sa=new WeakMap,zn=new WeakMap,na=new WeakSet,Oa=function(a,g){return`${a}/${g}`};const ja=class ja{constructor(a,g,A){Rt(this,Pn);Rt(this,jn);Rt(this,Un);Rt(this,bn);Rt(this,ia,new Set);Rt(this,aa,new Set);Zt(this,jn,a),Zt(this,Un,g),Zt(this,bn,A)}static create(a){const{languages:g}=a.languageApi.getAvailableLanguages(),A=(0,Xt.Fs)({fallbackLng:It,supportedLngs:g,interpolation:{escapeValue:!1},ns:[],defaultNS:!1,fallbackNS:!1,initImmediate:!1});if(A.init(),!A.isInitialized)throw new Error("i18next was unexpectedly not initialized");const{language:w}=a.languageApi.getLanguage();w!==It&&A.changeLanguage(w);const Q=new Dn(Te=>{A.addResourceBundle(Te.language,Te.namespace,fn(Te.messages),!1,!0)}),ce=(a==null?void 0:a.resources)||[];for(let Te=ce.length-1;Te>=0;Te--){const Fe=ce[Te];Fe.$$type==="@backstage/TranslationResource"?Q.addTranslationResource(Fe):Fe.$$type==="@backstage/TranslationMessages"&&A.addResourceBundle(It,Fe.id,fn(Fe.messages),!0,!1)}const pe=new ja(A,Q,a.languageApi.getLanguage().language);return a.languageApi.language$().subscribe(({language:Te})=>{var Fe;gn(Fe=pe,Pn,Qa).call(Fe,Te)}),pe}getTranslation(a){const g=vt(a);return gn(this,Pn,_a).call(this,g),gn(this,Pn,Ta).call(this,g)}translation$(a){const g=vt(a);return gn(this,Pn,_a).call(this,g),new(s())(A=>{let w={};const Q=()=>{w={};const pe=w;Re(this,Un).load(Re(this,bn),g.id).then(()=>{if(pe===w){const Te=gn(this,Pn,Ta).call(this,g);Te.ready&&A.next(Te)}},Te=>{pe===w&&A.error(Array.isArray(Te)?Te[0]:Te)})},ce=()=>{const pe=gn(this,Pn,Ta).call(this,g);pe.ready?A.next(pe):Q()};return Re(this,Un).needsLoading(Re(this,bn),g.id)&&Q(),Re(this,aa).add(ce),()=>{Re(this,aa).delete(ce)}})}};jn=new WeakMap,Un=new WeakMap,bn=new WeakMap,ia=new WeakMap,aa=new WeakMap,Pn=new WeakSet,Qa=function(a){Re(this,bn)!==a&&(Zt(this,bn,a),Re(this,jn).changeLanguage(a),Re(this,aa).forEach(g=>g()))},Ta=function(a){return Re(this,Un).needsLoading(Re(this,bn),a.id)?{ready:!1}:{ready:!0,t:Re(this,jn).getFixedT(null,a.id)}},_a=function(a){if(Re(this,ia).has(a.id))return;Re(this,ia).add(a.id);const g=a.getDefaultMessages();Re(this,jn).addResourceBundle(It,a.id,g,!0,!1);const A=a.getDefaultResource();A&&Re(this,Un).addTranslationResource(A)};let Ln=ja;function qn(I){const a=new URL(I);return a.protocol=document.location.protocol,a.hostname=document.location.hostname,a.port=document.location.port,a.toString().replace(/\/$/,"")}function Fa(I){const a=en.fromConfigs(I),g=a.getOptionalString("app.baseUrl"),A=a.getOptionalString("backend.baseUrl");let w=I,Q,ce;if(g&&A){const pe=new URL(g).origin,Te=new URL(A).origin;if(pe===Te){const Fe=qn(A);A!==Fe&&(Q=Fe)}}if(g){const pe=qn(g);g!==pe&&(ce=pe)}return(ce||Q)&&(w=w.concat({data:{app:ce&&{baseUrl:ce},backend:Q&&{baseUrl:Q}},context:"relative-resolver"})),w}function za(){var g;const I=document.querySelector('meta[name="backstage-app-mode"]');return((g=I==null?void 0:I.getAttribute("content"))!=null?g:"public")==="protected"}function nr(I,a,g){var Te;const A=!!I,w=(0,cn.Z)(I||(()=>Promise.resolve([])));let Q;if(A&&w.loading){const{Progress:Fe}=a;Q=$e.createElement(Fe,null)}else if(w.error){const{BootErrorPage:Fe}=a;Q=$e.createElement(Fe,{step:"load-config",error:w.error})}const{ThemeProvider:ce=Tn}=a;return Q?{node:$e.createElement(Gn,{apis:q.with(Ye.h,g)},$e.createElement(ce,null,Q))}:{api:en.fromConfigs((Te=w.value)!=null&&Te.length?Fa(w.value):[])}}class ar{constructor(a){this.app=a}getPlugins(){return this.app.getPlugins()}getSystemIcon(a){return this.app.getSystemIcon(a)}getSystemIcons(){return this.app.getSystemIcons()}getComponents(){return this.app.getComponents()}}class rr{constructor(a){Ee(this,"apiHolder");Ee(this,"configApi");Ee(this,"apis");Ee(this,"icons");Ee(this,"plugins");Ee(this,"featureFlags");Ee(this,"components");Ee(this,"themes");Ee(this,"configLoader");Ee(this,"defaultApis");Ee(this,"bindRoutes");Ee(this,"appLanguageApi");Ee(this,"translationResources");Ee(this,"appIdentityProxy",new Ka);Ee(this,"apiFactoryRegistry");Rt(this,la,!1);var g,A,w,Q,ce,pe,Te,Fe,rt;this.apis=(g=a.apis)!=null?g:[],this.icons=a.icons,this.plugins=new Set((A=a.plugins)!=null?A:[]),this.featureFlags=(w=a.featureFlags)!=null?w:[],this.components=a.components,this.themes=a.themes,this.configLoader=(Q=a.configLoader)!=null?Q:P,this.defaultApis=(ce=a.defaultApis)!=null?ce:[],this.bindRoutes=a.bindRoutes,this.apiFactoryRegistry=new Se,this.appLanguageApi=it.createWithStorage({defaultLanguage:(pe=a.__experimentalTranslations)==null?void 0:pe.defaultLanguage,availableLanguages:(Te=a.__experimentalTranslations)==null?void 0:Te.availableLanguages}),this.translationResources=(rt=(Fe=a.__experimentalTranslations)==null?void 0:Fe.resources)!=null?rt:[]}getPlugins(){return Array.from(this.plugins)}getSystemIcon(a){return this.icons[a]}getSystemIcons(){return this.icons}getComponents(){return this.components}createRoot(a){const g=this.getProvider();return()=>$e.createElement(g,null,a)}getProvider(){if(Re(this,la))throw new Error("app.getProvider() or app.createRoot() has already been called, and can only be called once");Zt(this,la,!0);const a=new ar(this);let g,A;return({children:Q})=>{const ce=(0,$e.useRef)(!0),pe=(0,$e.useMemo)(()=>at.createWithStorage(this.themes),[]),{routing:Te,featureFlags:Fe}=(0,$e.useMemo)(()=>{const jt=(0,st.j)();jt&&console.warn(`
DEPRECATION WARNING: React Router Beta is deprecated and support for it will be removed in a future release.
                     Please migrate to use React Router v6 stable.
                     See https://backstage.io/docs/tutorials/react-router-stable-migration
`);const an=Vn({root:Q,discoverers:[Zn,Yn],collectors:{routing:jt?ha:ga,collectedPlugins:On,featureFlags:Ra}});return an.collectedPlugins.forEach(Cn=>this.plugins.add(Cn)),this.verifyPlugins(this.plugins),this.getApiHolder(),an},[Q]),rt=nr(this.configLoader,this.components,pe),Tt="api"in rt;if(Tt){const{api:jt}=rt;this.configApi=jt}if("node"in rt)return rt.node;if(A)throw A;if(!g)try{g=Pe(this.bindRoutes,rt.api,this.plugins),La(Te.paths,Te.parents),Ba(g,this.plugins)}catch(jt){throw A=jt,jt}if(Tt&&ce.current){ce.current=!1;const jt=this.getApiHolder().get(Ne.W);if(jt){for(const qt of this.featureFlags)jt.registerFlag({...qt,pluginId:""});for(const qt of this.plugins.values())if("getFeatureFlags"in qt)for(const An of qt.getFeatureFlags())jt.registerFlag({name:An.name,pluginId:qt.getId()});else for(const An of qt.output())An.type==="feature-flag"&&jt.registerFlag({name:An.name,pluginId:qt.getId()});const an=jt.getRegisteredFlags(),Cn=new Set(an.map(qt=>qt.name));for(const qt of Fe)Cn.has(qt)||jt.registerFlag({name:qt,pluginId:""})}}const{ThemeProvider:At=Tn,Progress:Qt}=this.components,zt=this.getApiHolder();if(za()){const jt=zt.get(ht.V),an=zt.get(Bt.g),Cn=zt.get(Me.N);if(!jt||!an||!Cn)throw new Error("App is running in protected mode but missing required APIs");this.appIdentityProxy.enableCookieAuth({errorApi:jt,fetchApi:an,discoveryApi:Cn})}return $e.createElement(Gn,{apis:zt},$e.createElement(Va,{appContext:a},$e.createElement(At,null,$e.createElement(Ha,{routePaths:Te.paths,routeParents:Te.parents,routeObjects:Te.objects,routeBindings:g,basePath:(0,Ct.b)(rt.api)},$e.createElement(lt.Q.Provider,{value:{routeObjects:Te.objects,appIdentityProxy:this.appIdentityProxy}},$e.createElement($e.Suspense,{fallback:$e.createElement(Qt,null)},Q))))))}}getRouter(){return Ct.W}getApiHolder(){if(this.apiHolder){for(const a of this.plugins)for(const g of a.getApis())this.apiFactoryRegistry.get(g.api)||this.apiFactoryRegistry.register("default",g);return mn.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder}this.apiFactoryRegistry.register("static",{api:Ye.h,deps:{},factory:()=>at.createWithStorage(this.themes)}),this.apiFactoryRegistry.register("static",{api:Ce.D,deps:{},factory:()=>{if(!this.configApi)throw new Error("Tried to access config API before config was loaded");return this.configApi}}),this.apiFactoryRegistry.register("static",{api:ft.$,deps:{},factory:()=>this.appIdentityProxy}),this.apiFactoryRegistry.register("static",{api:En.I,deps:{},factory:()=>this.appLanguageApi}),this.apiFactoryRegistry.register("default",{api:Hn.o,deps:{languageApi:En.I},factory:({languageApi:a})=>Ln.create({languageApi:a,resources:this.translationResources})}),this.apiFactoryRegistry.register("default",{api:Ne.W,deps:{},factory:()=>new In});for(const a of this.defaultApis)this.apiFactoryRegistry.register("default",a);for(const a of this.plugins)for(const g of a.getApis())if(!this.apiFactoryRegistry.register("default",g))throw new Error(`Plugin ${a.getId()} tried to register duplicate or forbidden API factory for ${g.api}`);for(const a of this.apis)if(!this.apiFactoryRegistry.register("app",a))throw new Error(`Duplicate or forbidden API factory for ${a.api} in app`);return mn.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder=new mn(this.apiFactoryRegistry),this.apiHolder}verifyPlugins(a){const g=new Set;for(const A of a){const w=A.getId();if(g.has(w))throw new Error(`Duplicate plugin found '${w}'`);g.add(w)}}}la=new WeakMap;function or(I){return new rr(I)}function sr(I){var a,g,A,w;return or({...I,apis:(a=I==null?void 0:I.apis)!=null?a:[],bindRoutes:I==null?void 0:I.bindRoutes,components:{...Qe,...I==null?void 0:I.components},configLoader:I==null?void 0:I.configLoader,defaultApis:Ke,icons:{...hn,...I==null?void 0:I.icons},plugins:(g=I==null?void 0:I.plugins)!=null?g:[],featureFlags:(A=I==null?void 0:I.featureFlags)!=null?A:[],themes:(w=I==null?void 0:I.themes)!=null?w:kn})}},73359:(k,v,e)=>{e.d(v,{n:()=>t});const t=Symbol.for("CATALOG_FILTER_EXISTS_0e15b590c0b343a2bae3e787e84c2111")},24978:(k,v,e)=>{e.d(v,{Tf:()=>d,l2:()=>i,zG:()=>t});const t="default",i="backstage.io/view-url",d="backstage.io/edit-url",n="kubernetes.io/api-server",E="kubernetes.io/api-server-certificate-authority",l="kubernetes.io/auth-provider"},8554:(k,v,e)=>{e.d(v,{eE:()=>E,iB:()=>d,of:()=>n});var t=e(24978);function i(l){let u=l.indexOf(":");const c=l.indexOf("/");c!==-1&&c<u&&(u=-1);const r=u===-1?void 0:l.slice(0,u),s=c===-1?void 0:l.slice(u+1,c),m=l.slice(Math.max(u+1,c+1));if(r===""||s===""||m==="")throw new TypeError(`Entity reference "${l}" was not on the form [<kind>:][<namespace>/]<name>`);return{kind:r,namespace:s,name:m}}function d(l){return{kind:l.kind,namespace:l.metadata.namespace||t.zG,name:l.metadata.name}}function n(l,u){var c,r,s,m;if(!l)throw new Error("Entity reference must not be empty");const f=u==null?void 0:u.defaultKind,p=(u==null?void 0:u.defaultNamespace)||t.zG;let y,C,h;if(typeof l=="string"){const R=i(l);y=(c=R.kind)!=null?c:f,C=(r=R.namespace)!=null?r:p,h=R.name}else y=(s=l.kind)!=null?s:f,C=(m=l.namespace)!=null?m:p,h=l.name;if(y)if(C){if(!h){const R=JSON.stringify(l);throw new Error(`Entity reference ${R} had missing or empty name`)}}else{const R=JSON.stringify(l);throw new Error(`Entity reference ${R} had missing or empty namespace`)}else{const R=JSON.stringify(l);throw new Error(`Entity reference ${R} had missing or empty kind (e.g. did not start with "component:" or similar)`)}return{kind:y,namespace:C,name:h}}function E(l){var u,c;let r,s,m;return"metadata"in l?(r=l.kind,s=(u=l.metadata.namespace)!=null?u:t.zG,m=l.metadata.name):(r=l.kind,s=(c=l.namespace)!=null?c:t.zG,m=l.name),`${r.toLocaleLowerCase("en-US")}:${s.toLocaleLowerCase("en-US")}/${m.toLocaleLowerCase("en-US")}`}},9277:(k,v,e)=>{e.d(v,{$1:()=>i,Dg:()=>d,KS:()=>f,M_:()=>E,S4:()=>t,X9:()=>n,Zj:()=>l,_b:()=>r,aS:()=>y,cz:()=>p,hr:()=>m,nP:()=>u,w$:()=>c,wP:()=>s});const t="ownedBy",i="ownerOf",d="consumesApi",n="apiConsumedBy",E="providesApi",l="apiProvidedBy",u="dependsOn",c="dependencyOf",r="parentOf",s="childOf",m="memberOf",f="hasMember",p="partOf",y="hasPart"},30593:(k,v,e)=>{e.d(v,{M6:()=>d,P1:()=>t,q1:()=>i});const t="backstage.io/managed-by-location",i="backstage.io/managed-by-origin-location",d="backstage.io/source-location"},17393:(k,v,e)=>{e.d(v,{CV:()=>s,NZ:()=>r,Ou:()=>c});var t=e(76635),i=e.n(t),d=e(8554),n=e(27991),E=e.n(n),l=e(30593);const u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i;function c(m){if(typeof m!="string")throw new TypeError(`Unable to parse location ref '${m}', unexpected argument ${typeof m}`);const f=m.indexOf(":");if(f<0)throw new TypeError(`Unable to parse location ref '${m}', expected '<type>:<target>', e.g. 'url:https://host/path'`);const p=m.substring(0,f).trim(),y=m.substring(f+1).trim();if(!p||!y)throw new TypeError(`Unable to parse location ref '${m}', expected '<type>:<target>', e.g. 'url:https://host/path'`);if(p==="http"||p==="https")throw new TypeError(`Invalid location ref '${m}', please prefix it with 'url:', e.g. 'url:${m}'`);if(u.test(y))throw new TypeError(`Invalid location ref '${m}', target is a javascript: URL`);return{type:p,target:y}}function r(m){const{type:f,target:p}=m;if(f){if(!p)throw new TypeError("Unable to stringify location ref, empty target")}else throw new TypeError("Unable to stringify location ref, empty type");if(u.test(p))throw new TypeError(`Invalid location ref '${f}:${p}', target is a javascript: URL`);return`${f}:${p}`}function s(m){var f,p,y,C,h;const R=(h=(p=(f=m.metadata)==null?void 0:f.annotations)==null?void 0:p[l.M6])!=null?h:(C=(y=m.metadata)==null?void 0:y.annotations)==null?void 0:C[l.P1];if(!R)throw new Error(`Entity '${(0,d.eE)(m)}' is missing location`);return c(R)}},98679:(k,v,e)=>{e.d(v,{y:()=>n});var t=e(76635),i=e.n(t);class d{static isValidPrefixAndOrSuffix(l,u,c,r){if(typeof l!="string")return!1;const s=l.split(u);return s.length===1?r(s[0]):s.length===2?c(s[0])&&r(s[1]):!1}static isJsonSafe(l){try{return i().isEqual(l,JSON.parse(JSON.stringify(l)))}catch{return!1}}static isValidDnsSubdomain(l){return typeof l=="string"&&l.length>=1&&l.length<=253&&l.split(".").every(d.isValidDnsLabel)}static isValidDnsLabel(l){return typeof l=="string"&&l.length>=1&&l.length<=63&&/^[a-z0-9]+(?:\-+[a-z0-9]+)*$/.test(l)}static isValidTag(l){return typeof l=="string"&&l.length>=1&&l.length<=63&&/^[a-z0-9+#]+(\-[a-z0-9+#]+)*$/.test(l)}static isValidUrl(l){if(typeof l!="string")return!1;try{return new URL(l),!0}catch{return!1}}static isValidString(l){var u;return typeof l=="string"&&((u=l==null?void 0:l.trim())==null?void 0:u.length)>=1}static isNonEmptyString(l){var u;return typeof l=="string"&&((u=l==null?void 0:l.trim())==null?void 0:u.length)>=1}}class n{static isValidApiVersion(l){return d.isValidPrefixAndOrSuffix(l,"/",d.isValidDnsSubdomain,u=>u.length>=1&&u.length<=63&&/^[a-z0-9A-Z]+$/.test(u))}static isValidKind(l){return typeof l=="string"&&l.length>=1&&l.length<=63&&/^[a-zA-Z][a-z0-9A-Z]*$/.test(l)}static isValidObjectName(l){return typeof l=="string"&&l.length>=1&&l.length<=63&&/^([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9]$/.test(l)}static isValidNamespace(l){return d.isValidDnsLabel(l)}static isValidLabelKey(l){return d.isValidPrefixAndOrSuffix(l,"/",d.isValidDnsSubdomain,n.isValidObjectName)}static isValidLabelValue(l){return l===""||n.isValidObjectName(l)}static isValidAnnotationKey(l){return d.isValidPrefixAndOrSuffix(l,"/",d.isValidDnsSubdomain,n.isValidObjectName)}static isValidAnnotationValue(l){return typeof l=="string"}}},85190:(k,v,e)=>{e.d(v,{Z:()=>p});function t(y){return new Promise((C,h)=>{const R=y.width||500,O=y.height||700,D=window.screen.width/2-R/2,x=window.screen.height/2-O/2,B=window.open(y.url,y.name,`menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=${R},height=${O},top=${x},left=${D}`);let o="";if(!B||typeof B.closed=="undefined"||B.closed){const H=new Error("Failed to open auth popup.");H.name="PopupRejectedError",h(H);return}const T=H=>{if(H.source!==B||H.origin!==y.origin)return;const{data:z}=H;if(z.type==="config_info"){o=z.targetOrigin;return}if(z.type!=="authorization_response")return;const J=z;if("error"in J){const Z=new Error(J.error.message);Z.name=J.error.name,h(Z)}else C(J.response);F()},W=setInterval(()=>{if(B.closed){const H=`Login failed, ${o&&o!==window.location.origin?`Incorrect app origin, expected ${o}`:"popup was closed"}`,z=new Error(H);z.name="PopupClosedError",h(z),F()}},100);function F(){window.removeEventListener("message",T),clearInterval(W)}window.addEventListener("message",T)})}let i=!1;function d(y){return[...y].join(" ")}class n{constructor(C){Ee(this,"discoveryApi");Ee(this,"environment");Ee(this,"provider");Ee(this,"joinScopesFunc");Ee(this,"authRequester");Ee(this,"sessionTransform");Ee(this,"enableExperimentalRedirectFlow");Ee(this,"popupOptions");var W;const{configApi:h,discoveryApi:R,environment:O,provider:D,joinScopes:x=d,oauthRequestApi:B,sessionTransform:o=F=>F,popupOptions:T}=C;!i&&!h&&(console.warn("DEPRECATION WARNING: Authentication providers require a configApi instance to configure the authentication flow. Please provide one to the authentication provider constructor."),i=!0),this.enableExperimentalRedirectFlow=h&&(W=h.getOptionalBoolean("enableExperimentalRedirectFlow"))!=null?W:!1,this.authRequester=B.createAuthRequester({provider:D,onAuthRequest:async F=>this.enableExperimentalRedirectFlow?this.executeRedirect(F):this.showPopup(F)}),this.discoveryApi=R,this.environment=O,this.provider=D,this.joinScopesFunc=x,this.sessionTransform=o,this.popupOptions=T}async createSession(C){return C.instantPopup?this.enableExperimentalRedirectFlow?this.executeRedirect(C.scopes):this.showPopup(C.scopes):this.authRequester(C.scopes)}async refreshSession(C){const h=await fetch(await this.buildUrl("/refresh",{optional:!0,...C&&{scope:this.joinScopesFunc(C)}}),{headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(O=>{throw new Error(`Auth refresh request failed, ${O}`)});if(!h.ok){const O=new Error(`Auth refresh request failed, ${h.statusText}`);throw O.status=h.status,O}const R=await h.json();if(R.error){const O=new Error(R.error.message);throw R.error.name&&(O.name=R.error.name),O}return await this.sessionTransform(R)}async removeSession(){const C=await fetch(await this.buildUrl("/logout"),{method:"POST",headers:{"x-requested-with":"XMLHttpRequest"},credentials:"include"}).catch(h=>{throw new Error(`Logout request failed, ${h}`)});if(!C.ok){const h=new Error(`Logout request failed, ${C.statusText}`);throw h.status=C.status,h}}async showPopup(C){var B,o,T,W,F,H,z,J;const h=this.joinScopesFunc(C),R=await this.buildUrl("/start",{scope:h,origin:window.location.origin,flow:"popup"}),O=(o=(B=this.popupOptions)==null?void 0:B.size)!=null&&o.fullscreen?window.screen.width:((W=(T=this.popupOptions)==null?void 0:T.size)==null?void 0:W.width)||450,D=(H=(F=this.popupOptions)==null?void 0:F.size)!=null&&H.fullscreen?window.screen.height:((J=(z=this.popupOptions)==null?void 0:z.size)==null?void 0:J.height)||730,x=await t({url:R,name:`${this.provider.title} Login`,origin:new URL(R).origin,width:O,height:D});return await this.sessionTransform(x)}async executeRedirect(C){const h=this.joinScopesFunc(C);return window.location.href=await this.buildUrl("/start",{scope:h,origin:window.location.origin,redirectUrl:window.location.href,flow:"redirect"}),new Promise(()=>{})}async buildUrl(C,h){const R=await this.discoveryApi.getBaseUrl("auth"),O=this.buildQueryString({...h,env:this.environment});return`${R}/${this.provider.id}${C}${O}`}buildQueryString(C){if(!C)return"";const h=Object.entries(C).map(([R,O])=>{if(typeof O=="string")return`${encodeURIComponent(R)}=${encodeURIComponent(O)}`;if(O)return encodeURIComponent(R)}).filter(Boolean).join("&");return h?`?${h}`:""}}function E(y,C){for(const h of C)if(!y.has(h))return!1;return!0}class l{constructor(C){this.options=C}sessionExistsAndHasScope(C,h){if(!C)return!1;if(!h||this.options.sessionScopes===void 0)return!0;const R=this.options.sessionScopes(C);return E(R,h)}getExtendedScope(C,h){const R=new Set(this.options.defaultScopes);if(C&&this.options.sessionScopes!==void 0){const O=this.options.sessionScopes(C);for(const D of O)R.add(D)}if(h)for(const O of h)R.add(O);return R}}var u=e(92400),c=e(31108);class r{constructor(){Ee(this,"subject",new u.X(c.sM.SignedOut));Ee(this,"signedIn",!1)}setIsSignedIn(C){this.signedIn!==C&&(this.signedIn=C,this.subject.next(this.signedIn?c.sM.SignedIn:c.sM.SignedOut))}sessionState$(){return this.subject}}class s{constructor(C){Ee(this,"connector");Ee(this,"helper");Ee(this,"sessionScopesFunc");Ee(this,"sessionShouldRefreshFunc");Ee(this,"stateTracker",new r);Ee(this,"refreshPromise");Ee(this,"currentSession");const{connector:h,defaultScopes:R=new Set,sessionScopes:O,sessionShouldRefresh:D}=C;this.connector=h,this.sessionScopesFunc=O,this.sessionShouldRefreshFunc=D,this.helper=new l({sessionScopes:O,defaultScopes:R})}async getSession(C){if(this.helper.sessionExistsAndHasScope(this.currentSession,C.scopes)){if(!this.sessionShouldRefreshFunc(this.currentSession))return this.currentSession;try{const R=await this.collapsedSessionRefresh(C.scopes),O=this.sessionScopesFunc(this.currentSession),D=this.sessionScopesFunc(R);return E(D,O)&&(this.currentSession=R),R}catch(R){if(C.optional)return;throw R}}if(!this.currentSession&&!C.instantPopup)try{const h=await this.collapsedSessionRefresh(C.scopes);return this.currentSession=h,this.getSession(C)}catch{}if(!C.optional)return this.currentSession=await this.connector.createSession({...C,scopes:this.helper.getExtendedScope(this.currentSession,C.scopes)}),this.stateTracker.setIsSignedIn(!0),this.currentSession}async removeSession(){this.currentSession=void 0,await this.connector.removeSession(),this.stateTracker.setIsSignedIn(!1)}sessionState$(){return this.stateTracker.sessionState$()}async collapsedSessionRefresh(C){if(this.refreshPromise)return this.refreshPromise;this.refreshPromise=this.connector.refreshSession(this.helper.getExtendedScope(this.currentSession,C));try{const h=await this.refreshPromise;return this.stateTracker.setIsSignedIn(!0),h}finally{delete this.refreshPromise}}}var m=e(82394);const f={id:"oauth2",title:"Your Identity Provider",icon:()=>null};class p{constructor(C){Ee(this,"sessionManager");Ee(this,"scopeTransform");this.sessionManager=C.sessionManager,this.scopeTransform=C.scopeTransform}static create(C){const{configApi:h,discoveryApi:R,environment:O="development",provider:D=f,oauthRequestApi:x,defaultScopes:B=[],scopeTransform:o=H=>H,popupOptions:T}=C,W=new n({configApi:h,discoveryApi:R,environment:O,provider:D,oauthRequestApi:x,sessionTransform({backstageIdentity:H,...z}){const J={...z,providerInfo:{idToken:z.providerInfo.idToken,accessToken:z.providerInfo.accessToken,scopes:p.normalizeScopes(o,z.providerInfo.scope),expiresAt:z.providerInfo.expiresInSeconds?new Date(Date.now()+z.providerInfo.expiresInSeconds*1e3):void 0}};return H&&(J.backstageIdentity={token:H.token,identity:H.identity,expiresAt:H.expiresInSeconds?new Date(Date.now()+H.expiresInSeconds*1e3):void 0}),J},popupOptions:T}),F=new s({connector:W,defaultScopes:new Set(B),sessionScopes:H=>H.providerInfo.scopes,sessionShouldRefresh:H=>{var J,Z;let z=1/0;return(J=H.providerInfo)!=null&&J.expiresAt&&(z=Math.min(z,(H.providerInfo.expiresAt.getTime()-Date.now())/1e3)),(Z=H.backstageIdentity)!=null&&Z.expiresAt&&(z=Math.min(z,(H.backstageIdentity.expiresAt.getTime()-Date.now())/1e3)),z<60*5}});return new p({sessionManager:F,scopeTransform:o})}async signIn(){await this.getAccessToken()}async signOut(){await this.sessionManager.removeSession()}sessionState$(){return this.sessionManager.sessionState$()}async getAccessToken(C,h){var D;const R=p.normalizeScopes(this.scopeTransform,C),O=await this.sessionManager.getSession({...h,scopes:R});return(D=O==null?void 0:O.providerInfo.accessToken)!=null?D:""}async getIdToken(C={}){var R;const h=await this.sessionManager.getSession({...C,scopes:new Set(["openid"])});return(R=h==null?void 0:h.providerInfo.idToken)!=null?R:""}async getBackstageIdentity(C={}){const h=await this.sessionManager.getSession(C);return h==null?void 0:h.backstageIdentity}async getProfile(C={}){const h=await this.sessionManager.getSession(C);return h==null?void 0:h.profile}static normalizeScopes(C,h){if(!h)return new Set;const R=Array.isArray(h)?h:h.split(/[\s|,]/).filter(Boolean);return new Set(C(R))}}},33280:(k,v,e)=>{e.d(v,{W:()=>O,b:()=>C});var t=e(2784),i=e(59274),d=e(58185),n=e(70666),E=e(22230),l=e(45919),u=e(80661),c=e(16060),r=e(73557),s=e(92641),m=e(76777);const f=(D,x)=>{try{const B=(0,c.fp)(x,{pathname:D}),o=B==null?void 0:B.filter(z=>{var J;return((J=z==null?void 0:z.route.routeRefs)==null?void 0:J.size)>0}).pop(),T=o==null?void 0:o.route;if(!T||T.path===""&&D!=="/")return;let W;T.routeRefs.size===1&&(W=T.routeRefs.values().next().value);let F;T.plugins.size===1&&(F=T.plugins.values().next().value);const H=Object.entries((o==null?void 0:o.params)||{}).reduce((z,[J,Z])=>(Z!==void 0&&J!=="*"&&(z[J]=Z),z),{});return{extension:"App",pluginId:(F==null?void 0:F.getId())||"root",...W?{routeRef:W.id}:{},_routeNodeType:T.element,params:H}}catch{return}},p=({pathname:D,search:x,hash:B,attributes:o})=>{const T=(0,s.z)();return(0,t.useEffect)(()=>{T.captureEvent("navigate",`${D}${x}${B}`,{attributes:o})},[T,D,x,B,o]),null},y=({routeObjects:D})=>{const{pathname:x,search:B,hash:o}=(0,r.TH)(),{params:T,...W}=f(x,D)||{params:{}};return t.createElement(m.f,{attributes:W},t.createElement(p,{pathname:x,search:B,hash:o,attributes:T}))};function C(D){return(0,u.j)()?h(D):""}function h(D){var B;let{pathname:x}=new URL((B=D.getOptionalString("app.baseUrl"))!=null?B:"/","http://sample.dev");return x=x.replace(/\/*$/,""),x}function R({component:D,appIdentityProxy:x,children:B}){const[o,T]=(0,t.useState)(),W=(0,i.h_)(d.D),F=h(W);return o?(x.setTarget(o,{signOutTargetUrl:F||"/"}),t.createElement(t.Fragment,null,B)):t.createElement(D,{onSignInSuccess:T})}function O(D){const{Router:x,SignInPage:B}=(0,n.q)().getComponents(),o=(0,i.h_)(d.D),T=h(o),W=`${T}/*`,F=(0,t.useContext)(l.Q);if(!F)throw new Error("AppRouter must be rendered within the AppProvider");const{routeObjects:H,appIdentityProxy:z}=F;return B?(0,u.j)()?t.createElement(x,null,t.createElement(y,{routeObjects:H}),t.createElement(R,{component:B,appIdentityProxy:z},t.createElement(r.Z5,null,t.createElement(r.AW,{path:W,element:t.createElement(t.Fragment,null,D.children)})))):t.createElement(x,{basename:T},t.createElement(y,{routeObjects:H}),t.createElement(R,{component:B,appIdentityProxy:z},D.children)):(z.setTarget({getUserId:()=>"guest",getIdToken:async()=>{},getProfile:()=>({email:"guest@example.com",displayName:"Guest"}),getProfileInfo:async()=>({email:"guest@example.com",displayName:"Guest"}),getBackstageIdentity:async()=>({type:"user",userEntityRef:"user:default/guest",ownershipEntityRefs:["user:default/guest"]}),getCredentials:async()=>({}),signOut:async()=>{}},{signOutTargetUrl:T||"/"}),(0,u.j)()?t.createElement(x,null,t.createElement(y,{routeObjects:H}),t.createElement(r.Z5,null,t.createElement(r.AW,{path:W,element:t.createElement(t.Fragment,null,D.children)}))):t.createElement(x,{basename:T},t.createElement(y,{routeObjects:H}),D.children))}(0,E.R)(O,"core.type","AppRouter")},45919:(k,v,e)=>{e.d(v,{Q:()=>i});var t=e(2784);const i=(0,t.createContext)(void 0)},80661:(k,v,e)=>{e.d(v,{j:()=>d});var t=e(2784),i=e(73557);function d(){const[n]=(0,i.is)(t.createElement(i.AW,{index:!0,element:t.createElement("div",null)}));return!n.index}},92400:(k,v,e)=>{e.d(v,{J:()=>d,X:()=>n});var t=e(82394),i=e.n(t);class d{constructor(){Ee(this,"isClosed",!1);Ee(this,"terminatingError");Ee(this,"observable",new(i())(l=>this.isClosed?(this.terminatingError?l.error(this.terminatingError):l.complete(),()=>{}):(this.subscribers.add(l),()=>{this.subscribers.delete(l)})));Ee(this,"subscribers",new Set)}[Symbol.observable](){return this}get closed(){return this.isClosed}next(l){if(this.isClosed)throw new Error("PublishSubject is closed");this.subscribers.forEach(u=>u.next(l))}error(l){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.terminatingError=l,this.subscribers.forEach(u=>u.error(l))}complete(){if(this.isClosed)throw new Error("PublishSubject is closed");this.isClosed=!0,this.subscribers.forEach(l=>l.complete())}subscribe(l,u,c){const r=typeof l=="function"?{next:l,error:u,complete:c}:l;return this.observable.subscribe(r)}}class n{constructor(l){Ee(this,"isClosed");Ee(this,"currentValue");Ee(this,"terminatingError");Ee(this,"observable");Ee(this,"subscribers",new Set);this.isClosed=!1,this.currentValue=l,this.terminatingError=void 0,this.observable=new(i())(u=>this.isClosed?(this.terminatingError?u.error(this.terminatingError):u.complete(),()=>{}):(u.next(this.currentValue),this.subscribers.add(u),()=>{this.subscribers.delete(u)}))}[Symbol.observable](){return this}get closed(){return this.isClosed}next(l){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.currentValue=l,this.subscribers.forEach(u=>u.next(l))}error(l){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.terminatingError=l,this.subscribers.forEach(u=>u.error(l))}complete(){if(this.isClosed)throw new Error("BehaviorSubject is closed");this.isClosed=!0,this.subscribers.forEach(l=>l.complete())}subscribe(l,u,c){const r=typeof l=="function"?{next:l,error:u,complete:c}:l;return this.observable.subscribe(r)}}},94285:(k,v,e)=>{e.d(v,{w:()=>c});var t=e(2784),i=e(73557),d=e(70666),n=e(32430),E=e(22230),l=e(80661);let u=!1;const c=r=>{const s=(0,d.q)(),{NotFoundErrorPage:m}=s.getComponents(),f=(0,t.useMemo)(()=>(0,l.j)(),[]),y=[...(0,n.v)(r.children,C=>C.getElements().flatMap(h=>{var D;let R=h.props.path;if(R==="")return[];R=(D=R==null?void 0:R.replace(/\/\*$/,""))!=null?D:"/";let O=f?h:h.props.element;return!f&&!O&&(O=h,u||(console.warn("DEPRECATION WARNING: All elements within <FlatRoutes> must be of type <Route> with an element prop. Existing usages of <Navigate key=[path] to=[to] /> should be replaced with <Route path=[path] element={<Navigate to=[to] />} />."),u=!0)),[{path:R,element:O,children:h.props.children?[{path:R==="/"?"/":"*",element:h.props.children}]:void 0}]}).sort((h,R)=>R.path.localeCompare(h.path)).map(h=>({...h,path:h.path==="/"?"/":`${h.path}/*`}))),{path:"*",element:t.createElement(m,null)}];return(0,i.V$)(y)};(0,E.R)(c,"core.type","FlatRoutes")},45977:(k,v,e)=>{e.d(v,{i:()=>m});var t=e(59274),i=e(95475),d=e(71911),n=e(61837),E=e(37265),l=e(90436),u=e(87685),c=e(99688),r=e(2784),s=e(74309);function m(f){const[p,y]=(0,r.useState)([]),C=(0,t.h_)(i.$),{t:h}=(0,d.i)(s.v),{anchorOrigin:R={vertical:"top",horizontal:"center"},transientTimeoutMs:O}=f,D=O!=null?O:5e3;(0,r.useEffect)(()=>{const o=C.alert$().subscribe(T=>y(W=>W.concat(T)));return()=>{o.unsubscribe()}},[C]);const[x]=p;if((0,r.useEffect)(()=>{if(x&&x.display==="transient"){const o=setTimeout(()=>{y(T=>{const W=T.filter(F=>F!==x);return W.length===T.length?T:W})},D);return()=>clearTimeout(o)}},[x,D]),p.length===0)return null;const B=()=>{y(o=>o.filter(T=>T!==x))};return r.createElement(E.Z,{open:!0,anchorOrigin:R},r.createElement(c.Z,{action:r.createElement(n.Z,{color:"inherit",size:"small",onClick:B,"data-testid":"error-button-close"},r.createElement(u.Z,null)),severity:x.severity},r.createElement(l.Z,{component:"span"},String(x.message),p.length>1&&r.createElement("em",null,h("alertDisplay.message",{count:p.length-1})))))}},67977:(k,v,e)=>{e.d(v,{O:()=>c});var t=e(95544),i=e(60364),d=e(2784),n=e(56553),E=e(26639),l=e(39595),u=e(35570);function c(r){const{text:s,language:m,showLineNumbers:f=!1,highlightedNumbers:p,customStyle:y,showCopyCodeButton:C=!1}=r,h=(0,i.Z)(),R=h.palette.type==="dark"?E.Z:l.Z,O=h.palette.type==="dark"?"#256bf3":"#e6ffed";return d.createElement(t.Z,{position:"relative"},d.createElement(n.Z,{customStyle:y,language:m,style:R,showLineNumbers:f,wrapLines:!0,lineNumberStyle:{color:h.palette.textVerySubtle},lineProps:D=>p!=null&&p.includes(D)?{style:{backgroundColor:O}}:{}},s),C&&d.createElement(t.Z,{position:"absolute",top:0,right:0},d.createElement(u.b,{text:s})))}},35570:(k,v,e)=>{e.d(v,{b:()=>s});var t=e(59274),i=e(5191),d=e(61837),n=e(80030),E=e(19353),l=e(2784),u=e(99949),c=e(74309),r=e(71911);function s(m){const{t:f}=(0,r.i)(c.v),{text:p,tooltipDelay:y=1e3,tooltipText:C=f("copyTextButton.tooltipText"),"aria-label":h="Copy text"}=m,R=(0,t.h_)(i.V),[O,D]=(0,l.useState)(!1),[{error:x},B]=(0,u.Z)();(0,l.useEffect)(()=>{x&&R.post(x)},[x,R]);const o=T=>{T.stopPropagation(),D(!0),B(p)};return l.createElement(l.Fragment,null,l.createElement(n.ZP,{id:"copy-test-tooltip",title:C,placement:"top",leaveDelay:y,onClose:()=>D(!1),open:O},l.createElement(d.Z,{onClick:o,"aria-label":h},l.createElement(E.Z,null))))}},65872:(k,v,e)=>{e.d(v,{m:()=>$});var t=e(2784),i=e(13725),d=e(11105),n=e(97963),E=e(46506),l=e.n(E),u=e(54073),c=e.n(u),r=e(43103),s=e(10368),m=e(79692);const f=(0,m.Z)(U=>({node:{fill:U.palette.primary.light,stroke:U.palette.primary.light},text:{fill:U.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function p({node:{id:U}}){const Y=f(),[S,b]=t.useState(0),[K,se]=t.useState(0),le=t.useRef(null);t.useLayoutEffect(()=>{if(le.current){let{height:re,width:ae}=le.current.getBBox();re=Math.round(re),ae=Math.round(ae),(re!==K||ae!==S)&&(b(ae),se(re))}},[S,K]);const _=10,te=S+_*2,de=K+_*2;return t.createElement("g",null,t.createElement("rect",{className:Y.node,width:te,height:de,rx:10}),t.createElement("text",{ref:le,className:Y.text,y:de/2,x:te/2,textAnchor:"middle",alignmentBaseline:"middle"},U))}const y="arrow-marker",C="node",h="edge",R="label",O=(0,s.Z)(U=>({node:{transition:`${U.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),D=U=>t.createElement(p,{...U});function x({render:U=D,setNode:Y,node:S}){const{width:b,height:K,x:se=0,y:le=0}=S,_=S,te=O(),de=t.useRef(null);return t.useLayoutEffect(()=>{if(de.current){let{height:re,width:ae}=de.current.getBBox();re=Math.round(re),ae=Math.round(ae),(re!==K||ae!==b)&&Y(S.id,{...S,height:re,width:ae})}},[S,b,K,Y]),t.createElement("g",{ref:de,"data-testid":C,className:te.node,transform:`translate(${se-b/2},${le-K/2})`},U({node:_}))}var B=e(76985),o=e(39829),T=e(19574),W=e.n(T);const F=(0,s.Z)(U=>({text:{fill:U.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function H({edge:{label:U}}){const Y=F();return t.createElement("text",{className:Y.text,textAnchor:"middle"},U)}const z=(0,s.Z)(U=>({path:{strokeWidth:1.3,stroke:U.palette.textSubtle,fill:"none",transition:`${U.transitions.duration.shortest}ms`},label:{transition:`${U.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),J=U=>t.createElement(H,{...U});function Z({render:U=J,setEdge:Y,id:S,edge:b,curve:K,showArrowHeads:se}){const{x:le=0,y:_=0,width:te,height:de,points:re}=b,ae=b,oe=z(),ne=t.useRef(null);t.useLayoutEffect(()=>{if(ne.current){let{height:ke,width:_e}=ne.current.getBBox();ke=Math.round(ke),_e=Math.round(_e),(ke!==de||_e!==te)&&Y(S,{...b,height:ke,width:_e})}},[b,de,te,Y,S]);let he="";const Le=t.useMemo(()=>B.Z().x(ke=>ke.x).y(ke=>ke.y).curve(o[K]),[K]);if(re){const ke=re.filter(_e=>W()(_e.x)&&W()(_e.y));he=Le(ke)||""}return t.createElement(t.Fragment,null,he&&t.createElement("path",{"data-testid":h,className:oe.path,markerEnd:se?`url(#${y})`:void 0,d:he}),ae.label?t.createElement("g",{ref:ne,"data-testid":R,className:oe.label,transform:`translate(${le},${_})`},U({edge:ae})):null)}const L="workspace";function $(U){var mt,ve;const{edges:Y,nodes:S,renderNode:b,direction:K=r.N.Direction.TOP_BOTTOM,align:se,nodeMargin:le=50,edgeMargin:_=10,rankMargin:te=50,paddingX:de=0,paddingY:re=0,acyclicer:ae,ranker:oe=r.N.Ranker.NETWORK_SIMPLEX,labelPosition:ne=r.N.LabelPosition.RIGHT,labelOffset:he=10,edgeRanks:Le=1,edgeWeight:ke=1,renderLabel:_e,defs:xe,zoom:fe="enabled",curve:Me="curveMonotoneX",showArrowHeads:Ce=!1,fit:Ae="grow",...Be}=U,ht=(0,n.Z)(),[Lt,Bt]=t.useState(100),[ft,ze]=t.useState(100),ie=t.useRef(new(l()).graphlib.Graph),[we,Ze]=t.useState(((mt=ie.current.graph())==null?void 0:mt.width)||0),[Xe,ct]=t.useState(((ve=ie.current.graph())==null?void 0:ve.height)||0),[Pt,Ge]=t.useState([]),[yt,qe]=t.useState([]),Ie=Math.max(we,Lt),We=Math.max(Xe,ft),Je=Math.min(Xe,ft),et=Ae==="grow"?We:Je,Ve=t.useMemo(()=>c()(G=>{if(!G)return;const V=d.Z(G),me=d.Z(G.getElementById(L));function be(){V.call(i.sP().scaleExtent([1,1/0]).on("zoom",Qe=>{Qe.transform.x=Math.min(0,Math.max(Qe.transform.x,Ie-Ie*Qe.transform.k)),Qe.transform.y=Math.min(0,Math.max(Qe.transform.y,We-We*Qe.transform.k)),me.attr("transform",Qe.transform)}))}fe==="enabled"?be():fe==="enable-on-click"&&V.on("click",()=>be());const{width:Oe,height:ot}=G.getBoundingClientRect();Lt!==Oe&&Bt(Oe),ft!==ot&&ze(ot)},100),[ft,Lt,Ie,We,fe]),Ke=t.useCallback(()=>{const G=ie.current.nodes(),V=ie.current.edges();G.forEach(me=>{S.some(Oe=>Oe.id===me)||ie.current.removeNode(me)}),V.forEach(me=>{Y.some(Oe=>Oe.from===me.v&&Oe.to===me.w)||ie.current.removeEdge(me.v,me.w)}),S.forEach(me=>{const be=ie.current.nodes().find(Oe=>me.id===Oe);if(be&&ie.current.node(be)){const{width:Oe,height:ot,x:Qe,y:St}=ie.current.node(be);ie.current.setNode(be,{...me,width:Oe,height:ot,x:Qe,y:St})}else ie.current.setNode(me.id,{...me,width:0,height:0})}),Y.forEach(me=>{ie.current.setEdge(me.from,me.to,{...me,label:me.label,width:0,height:0,labelpos:ne,labeloffset:he,weight:ke,minlen:Le})})},[Y,S,ne,he,ke,Le]),$e=t.useMemo(()=>c()(()=>{l().layout(ie.current);const{height:G,width:V}=ie.current.graph(),me=Math.max(0,G||0),be=Math.max(0,V||0);Ze(be),ct(me),Ge(ie.current.nodes()),qe(ie.current.edges())},250,{leading:!0}),[]);t.useEffect(()=>(ie.current.setGraph({rankdir:K,align:se,nodesep:le,edgesep:_,ranksep:te,marginx:de,marginy:re,acyclicer:ae,ranker:oe}),Ke(),$e(),$e.cancel),[ae,se,K,_,de,re,le,te,oe,Ke,$e]);function dt(G,V){return ie.current.setNode(G,V),$e(),ie.current}function ut(G,V){return ie.current.setEdge(G,V),$e(),ie.current}return t.createElement("svg",{ref:Ve,...Be,width:"100%",height:et,viewBox:`0 0 ${Ie} ${We}`},t.createElement("defs",null,t.createElement("marker",{id:y,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},t.createElement("path",{fill:ht.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),xe),t.createElement("g",{id:L},t.createElement("svg",{width:we,height:Xe,y:We/2-Xe/2,x:Ie/2-we/2,viewBox:`0 0 ${we} ${Xe}`},yt.map(G=>{const V=ie.current.edge(G);return V?t.createElement(Z,{key:`${G.v}-${G.w}`,id:G,setEdge:ut,render:_e,edge:V,curve:Me,showArrowHeads:Ce}):null}),Pt.map(G=>{const V=ie.current.node(G);return V?t.createElement(x,{key:G,setNode:dt,render:b,node:V}):null}))))}},43103:(k,v,e)=>{e.d(v,{N:()=>t});var t;(i=>{(d=>{d.TOP_BOTTOM="TB",d.BOTTOM_TOP="BT",d.LEFT_RIGHT="LR",d.RIGHT_LEFT="RL"})(i.Direction||(i.Direction={})),(d=>{d.UP_LEFT="UL",d.UP_RIGHT="UR",d.DOWN_LEFT="DL",d.DOWN_RIGHT="DR"})(i.Alignment||(i.Alignment={})),(d=>{d.NETWORK_SIMPLEX="network-simplex",d.TIGHT_TREE="tight-tree",d.LONGEST_PATH="longest-path"})(i.Ranker||(i.Ranker={})),(d=>{d.LEFT="l",d.RIGHT="r",d.CENTER="c"})(i.LabelPosition||(i.LabelPosition={}))})(t||(t={}))},15698:(k,v,e)=>{e.d(v,{u:()=>f});var t=e(60905),i=e(79692),d=e(90436),n=e(2784);const E=e.p+"static/missingAnnotation.67f79e98..svg",l=e.p+"static/noInformation.4b426325..svg",u=e.p+"static/createComponent.975d1e1e..svg",c=e.p+"static/noBuild.1715fa71..svg",r=(0,i.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),s=({missing:p})=>{const y=r();switch(p){case"field":return n.createElement("img",{src:E,className:y.generalImg,alt:"annotation is missing"});case"info":return n.createElement("img",{src:l,alt:"no Information",className:y.generalImg});case"content":return n.createElement("img",{src:u,alt:"create Component",className:y.generalImg});case"data":return n.createElement("img",{src:c,alt:"no Build",className:y.generalImg});default:return null}},m=(0,i.Z)(p=>({root:{backgroundColor:p.palette.background.default,padding:p.spacing(2,0,0,0)},action:{marginTop:p.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function f(p){const{title:y,description:C,missing:h,action:R}=p,O=m();return n.createElement(t.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:O.root,spacing:2},n.createElement(t.Z,{item:!0,xs:12,md:6},n.createElement(t.Z,{container:!0,direction:"column"},n.createElement(t.Z,{item:!0,xs:!0},n.createElement(d.Z,{variant:"h5"},y)),n.createElement(t.Z,{item:!0,xs:!0},n.createElement(d.Z,{variant:"body1"},C)),n.createElement(t.Z,{item:!0,xs:!0,className:O.action},R))),n.createElement(t.Z,{item:!0,xs:12,md:6,className:O.imageContainer},typeof h=="string"?n.createElement(s,{missing:h}):h.customImage))}},44303:(k,v,e)=>{e.d(v,{y:()=>s});var t=e(79692),i=e(11776),d=e(38402),n=e(49378),E=e(2784),l=e(35570),u=e(92600);const c=(0,t.Z)(m=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:m.spacing(2)},divider:{margin:m.spacing(2)}}),{name:"BackstageErrorPanel"}),r=({error:m,message:f,stack:p,children:y})=>{const C=c();return E.createElement(i.Z,{dense:!0},E.createElement(d.Z,{alignItems:"flex-start"},E.createElement(n.Z,{classes:{secondary:C.text},primary:"Error",secondary:m}),E.createElement(l.b,{text:m})),E.createElement(d.Z,{alignItems:"flex-start"},E.createElement(n.Z,{classes:{secondary:C.text},primary:"Message",secondary:f}),E.createElement(l.b,{text:f})),p&&E.createElement(d.Z,{alignItems:"flex-start"},E.createElement(n.Z,{classes:{secondary:C.text},primary:"Stack Trace",secondary:p}),E.createElement(l.b,{text:p})),y)};function s(m){const{title:f,error:p,defaultExpanded:y,titleFormat:C,children:h}=m;return E.createElement(u.G,{severity:"error",title:f!=null?f:p.message,defaultExpanded:y,titleFormat:C},E.createElement(r,{error:p.name,message:p.message,stack:p.stack,children:h}))}},87603:(k,v,e)=>{e.d(v,{rU:()=>T});var t=e(59274),i=e(58185),d=e(92641),n=e(86689),E=e(79692),l=e(90436),u=e(12524),c=e.n(u),r=e(76635),s=e.n(r),m=e(2784),f=e(73557),p=e(39857);function y(){const[W]=(0,f.is)(m.createElement(f.AW,{index:!0,element:m.createElement("div",null)}));return!W.index}const C=(0,E.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",userSelect:"none",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),h=W=>/^([a-z+.-]+):/.test(W),R=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,O=window.open;if(O&&!O.__backstage){const W=function(...H){const z=String(H[0]);if(R.test(z))throw new Error("Rejected window.open() with a javascript: URL as a security precaution");return O.apply(this,H)};W.__backstage=!0,window.open=W}const D=()=>{try{return(0,t.h_)(i.D).getOptionalString("app.baseUrl")}catch{return}},x=()=>{var z;const W="http://sample.dev",F=(z=D())!=null?z:"/",{pathname:H}=new URL(F,W);return(0,r.trimEnd)(H,"/")},B=W=>{let F=String(W);const H=x(),z=h(F),J=F.startsWith(H);return!z&&!J&&(F=H.concat(F)),F},o=W=>{var F;return W instanceof Array?W.map(o).join(" ").trim():typeof W=="object"&&W?o((F=W==null?void 0:W.props)==null?void 0:F.children):["string","number"].includes(typeof W)?String(W):""},T=m.forwardRef(({onClick:W,noTrack:F,...H},z)=>{const J=C(),Z=(0,d.z)(),L=y()?B(H.to):H.to,$=o(H.children)||L,U=h(L),Y=U&&!!/^https?:/.exec(L);if(R.test(L))throw new Error("Link component rejected javascript: URL as a security precaution");const S=b=>{W==null||W(b),F||Z.captureEvent("click",$,{attributes:{to:L}})};return U?m.createElement(n.Z,{...Y?{target:"_blank",rel:"noopener"}:{},...H,...H["aria-label"]?{"aria-label":`${H["aria-label"]}, Opens in a new window`}:{},ref:z,href:L,onClick:S,className:c()(J.externalLink,H.className)},H.children,m.createElement(l.Z,{component:"span",className:J.visuallyHidden},", Opens in a new window")):m.createElement(n.Z,{...H,ref:z,component:p.rU,to:L,onClick:S})})},55990:(k,v,e)=>{e.d(v,{Q:()=>E});var t=e(77277),i=e(2784),d=e(87603);const n=i.forwardRef((u,c)=>i.createElement(d.rU,{ref:c,...u,color:"initial"})),E=i.forwardRef((u,c)=>i.createElement(t.Z,{ref:c,component:n,...u})),l=null},78718:(k,v,e)=>{e.d(v,{n:()=>n});var t=e(2784),i=e(70666);const d=(0,t.lazy)(()=>e.e(9491).then(e.bind(e,89491)).then(E=>({default:E.RealLogViewer})));function n(E){const{Progress:l}=(0,i.q)().getComponents();return t.createElement(t.Suspense,{fallback:t.createElement(l,null)},t.createElement(d,{...E}))}},22769:(k,v,e)=>{e.d(v,{S:()=>s});var t=e(79692),i=e(32407),d=e(28156),n=e(2784),E=e(67977);const l=(0,t.Z)(m=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${m.palette.border}`},"& th, & td":{border:`1px solid ${m.palette.border}`,padding:m.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:m.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:m.palette.background.paper},"& tr":{backgroundColor:m.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:m.palette.background.default},"& a":{color:m.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),u=(m,f)=>f?typeof f=="string"?m+f:n.Children.toArray(f.props.children).reduce(u,m):m,c=({level:m,children:f})=>{const C=n.Children.toArray(f).reduce(u,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return n.createElement(`h${m}`,{id:C},f)},r={code:({inline:m,className:f,children:p,...y})=>{const C=String(p).replace(/\n+$/,""),h=/language-(\w+)/.exec(f||"");return!m&&h?n.createElement(E.O,{language:h[1],text:C}):n.createElement("code",{className:f,...y},p)},h1:c,h2:c,h3:c,h4:c,h5:c,h6:c};function s(m){const{content:f,dialect:p="gfm",linkTarget:y,transformLinkUri:C,transformImageUri:h,className:R}=m,O=l();return n.createElement(i.D,{remarkPlugins:p==="gfm"?[d.Z]:[],className:`${O.markdown} ${R!=null?R:""}`.trim(),children:f,components:r,linkTarget:y,transformLinkUri:C,transformImageUri:h})}},48045:(k,v,e)=>{e.d(v,{J:()=>T});var t=e(79692),i=e(8629),d=e(49429),n=e(38724),E=e(79249),l=e(11776),u=e(77277),c=e(2784),r=e(13350),s=e(38402),m=e(3806),f=e(49378),p=e(90436),y=e(32272),C=e(74309),h=e(71911);const R=(0,t.Z)(W=>({root:{paddingLeft:W.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),O=({request:W,busy:F,setBusy:H})=>{const z=R(),[J,Z]=(0,c.useState)(),{t:L}=(0,h.i)(C.v),$=async()=>{H(!0);try{await W.trigger()}catch(Y){Z((0,y.VZ)(Y)?Y.message:"An unspecified error occurred")}finally{H(!1)}},U=W.provider.icon;return c.createElement(s.Z,{disabled:F,classes:{root:z.root}},c.createElement(m.Z,null,c.createElement(U,{fontSize:"large"})),c.createElement(f.Z,{primary:W.provider.title,secondary:J&&c.createElement(p.Z,{color:"error"},J)}),c.createElement(u.Z,{color:"primary",variant:"contained",onClick:$},L("oauthRequestDialog.login")))};var D=e(59274),x=e(17893),B=e(58185);const o=(0,t.Z)(W=>({dialog:{paddingTop:W.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:W.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:W.spacing(2,0)}}),{name:"OAuthRequestDialog"});function T(W){var S;const F=o(),[H,z]=(0,c.useState)(!1),J=(0,D.h_)(x.Z),Z=(0,D.h_)(B.D),{t:L}=(0,h.i)(C.v),$=(S=Z.getOptionalBoolean("enableExperimentalRedirectFlow"))!=null?S:!1,U=(0,r.Z)((0,c.useMemo)(()=>J.authRequest$(),[J]),[]),Y=()=>{U.forEach(b=>b.reject())};return c.createElement(i.Z,{open:!!U.length,fullWidth:!0,maxWidth:"xs",classes:{paper:F.dialog},"aria-labelledby":"oauth-req-dialog-title"},c.createElement("main",null,c.createElement(E.Z,{classes:{root:F.title},id:"oauth-req-dialog-title"},c.createElement(p.Z,{className:F.titleHeading,variant:"h1",variantMapping:{h1:"span"}},L("oauthRequestDialog.title")),$?c.createElement(p.Z,null,L("oauthRequestDialog.authRedirectTitle")):null),c.createElement(n.Z,{dividers:!0,classes:{root:F.contentList}},c.createElement(l.Z,null,U.map(b=>c.createElement(O,{key:b.provider.title,request:b,busy:H,setBusy:z}))))),c.createElement(d.Z,{classes:{root:F.actionButtons}},c.createElement(u.Z,{onClick:Y},L("oauthRequestDialog.rejectAll"))))}},37630:(k,v,e)=>{e.d(v,{E:()=>E});var t=e(95544),i=e(67358),d=e(60364),n=e(2784);function E(l){const u=(0,d.Z)(),[c,r]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{const s=setTimeout(()=>r(!0),u.transitions.duration.short);return()=>clearTimeout(s)},[u.transitions.duration.short]),c?n.createElement(i.Z,{...l,"data-testid":"progress"}):n.createElement(t.Z,{display:"none"})}},67700:(k,v,e)=>{e.d(v,{G:()=>s});var t=e(79692),i=e(85256),d=e(38402),n=e(49378),E=e(2784),l=e(67977),u=e(35570),c=e(44303);const r=(0,t.Z)(m=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:m.spacing(2)},divider:{margin:m.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function s(m){var F;const{title:f,error:p,defaultExpanded:y}=m,C=r();if(p.name!=="ResponseError")return E.createElement(c.y,{title:f!=null?f:p.message,defaultExpanded:y,error:p});const{body:h,cause:R}=p,{request:O,response:D}=h,x=`${D.statusCode}: ${R.name}`,B=O&&`${O.method} ${O.url}`,o=R.message.replace(/\\n/g,`
`),T=(F=R.stack)==null?void 0:F.replace(/\\n/g,`
`),W=JSON.stringify(h,void 0,2);return E.createElement(c.y,{title:f!=null?f:p.message,defaultExpanded:y,error:{name:x,message:o,stack:T}},B&&E.createElement(d.Z,{alignItems:"flex-start"},E.createElement(n.Z,{classes:{secondary:C.text},primary:"Request",secondary:O?`${B}`:void 0}),E.createElement(u.b,{text:B})),E.createElement(E.Fragment,null,E.createElement(i.Z,{component:"li",className:C.divider}),E.createElement(d.Z,{alignItems:"flex-start"},E.createElement(n.Z,{classes:{secondary:C.text},primary:"Full Error as JSON"})),E.createElement(l.O,{language:"json",text:W,showCopyCodeButton:!0})))}},39802:(k,v,e)=>{e.d(v,{H:()=>B});var t=e(95544),i=e(21324),d=e(7089),n=e(42494),E=e(74603),l=e(56939),u=e(12231),c=e(73698),r=e(15459),s=e(12420),m=e(79692),f=e(90436),p=e(2784),y=e(72379);const C=(0,m.Z)(o=>(0,s.Z)({icon:{position:"absolute",right:o.spacing(.5),pointerEvents:"none",color:"#616161"}}),{name:"BackstageClosedDropdown"}),h=()=>{const o=C();return p.createElement(y.Z,{className:o.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"currentColor"}))},R=(0,m.Z)(o=>(0,s.Z)({icon:{position:"absolute",right:o.spacing(.5),pointerEvents:"none",color:"#616161"}}),{name:"BackstageOpenedDropdown"}),O=()=>{const o=R();return p.createElement(y.Z,{className:o.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"currentColor"}))},D=(0,r.Z)(o=>(0,s.Z)({root:{"label + &":{marginTop:o.spacing(3)},"&.Mui-focused > div[role=button]":{borderColor:o.palette.primary.main}},input:{borderRadius:o.shape.borderRadius,position:"relative",backgroundColor:o.palette.background.paper,border:"1px solid #ced4da",fontSize:o.typography.body1.fontSize,padding:o.spacing(1.25,3.25,1.25,1.5),transition:o.transitions.create(["border-color","box-shadow"]),"&:focus":{background:o.palette.background.paper,borderRadius:o.shape.borderRadius}}}),{name:"BackstageSelectInputBase"})(E.Z),x=(0,m.Z)(o=>(0,s.Z)({formControl:{margin:o.spacing(1,0)},label:{transform:"initial",fontWeight:"bold",fontSize:o.typography.body2.fontSize,fontFamily:o.typography.fontFamily,color:o.palette.text.primary,"&.Mui-focused":{color:o.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:o.typography.body2.fontSize,fontFamily:o.typography.fontFamily,color:o.palette.text.primary,"&.Mui-focused":{color:o.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function B(o){const{multiple:T,items:W,label:F,placeholder:H,selected:z,onChange:J,triggerReset:Z,native:L=!1,disabled:$=!1,margin:U}=o,Y=x(),[S,b]=(0,p.useState)(z||(T?[]:"")),[K,se]=(0,p.useState)(!1);(0,p.useEffect)(()=>{b(T?[]:"")},[Z,T]),(0,p.useEffect)(()=>{b(z||(T?[]:""))},[z,T]);const le=re=>{b(re.target.value),J(re.target.value)},_=re=>{if($){re.preventDefault();return}se(ae=>T&&!(re.target instanceof HTMLElement)?!0:!ae)},te=()=>{se(!1)},de=re=>()=>{const ae=S.filter(oe=>oe!==re);b(ae),J(ae)};return p.createElement(t.Z,{className:Y.root},p.createElement(n.Z,{className:Y.formControl},p.createElement(l.Z,{className:Y.formLabel},F),p.createElement(c.Z,{"aria-label":F,value:S,native:L,disabled:$,"data-testid":"select",displayEmpty:!0,multiple:T,margin:U,onChange:le,open:K,onOpen:_,onClose:te,input:p.createElement(D,null),label:F,renderValue:re=>{var ae;return T&&S.length!==0?p.createElement(t.Z,{className:Y.chips},re.map(oe=>{const ne=W.find(he=>he.value===oe);return ne?p.createElement(d.Z,{key:ne==null?void 0:ne.value,label:ne==null?void 0:ne.label,clickable:!0,onDelete:de(oe),className:Y.chip}):!1})):p.createElement(f.Z,null,S.length===0?H||"":(ae=W.find(oe=>oe.value===re))==null?void 0:ae.label)},IconComponent:()=>K?p.createElement(O,null):p.createElement(h,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},H&&!T&&p.createElement(u.Z,{value:[]},H),L?W&&W.map(re=>p.createElement("option",{value:re.value,key:re.value},re.label)):W&&W.map(re=>p.createElement(u.Z,{key:re.value,value:re.value},T&&p.createElement(i.Z,{color:"primary",checked:S.includes(re.value)||!1,className:Y.checkbox}),re.label)))))}},83890:(k,v,e)=>{e.d(v,{dh:()=>O,vK:()=>C,Kq:()=>p,wA:()=>h,VC:()=>R,Pd:()=>y});var t=e(79692),i=e(90436),d=e(34812),n=e(52765),E=e(91750),l=e(12524),u=e.n(l),c=e(2784);const r=({className:D,dataTestId:x})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",className:D,"data-testid":x},c.createElement("path",{d:"M280-420q25 0 42.5-17.5T340-480q0-25-17.5-42.5T280-540q-25 0-42.5 17.5T220-480q0 25 17.5 42.5T280-420Zm200 0q25 0 42.5-17.5T540-480q0-25-17.5-42.5T480-540q-25 0-42.5 17.5T420-480q0 25 17.5 42.5T480-420Zm200 0q25 0 42.5-17.5T740-480q0-25-17.5-42.5T680-540q-25 0-42.5 17.5T620-480q0 25 17.5 42.5T680-420ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})),s=({className:D,dataTestId:x})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",className:D,"data-testid":x},c.createElement("path",{d:"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z"})),m=({className:D,dataTestId:x})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",className:D,"data-testid":x},c.createElement("path",{d:"M140-440q-25 0-42.5-17.5T80-500q0-25 17.5-42.5T140-560h240q25 0 42.5 17.5T440-500q0 25-17.5 42.5T380-440H140Zm440 0q-25 0-42.5-17.5T520-500q0-25 17.5-42.5T580-560h240q25 0 42.5 17.5T880-500q0 25-17.5 42.5T820-440H580Z"})),f=(0,t.Z)(D=>({status:{fontWeight:D.typography.fontWeightMedium,alignItems:"baseline",display:"flex"},statusIcon:{flexShrink:0,position:"relative",top:"0.125em",marginRight:D.spacing(1)},statusIconSize:{width:"0.8em",height:"0.8em"},statusIconSizeForImg:{width:"1.2em",height:"1.2em"},ok:{fill:D.palette.status.ok||"#3E8635"},warning:{fill:D.palette.status.warning||"#F0AB00"},error:{fill:D.palette.status.error||"#C9190B"},pending:{fill:D.palette.status.aborted||"#6A6E73"},running:{fill:D.palette.status.aborted||"#6A6E73"},aborted:{fill:D.palette.status.aborted||"#6A6E73"}}),{name:"BackstageStatus"});function p(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status ok","aria-hidden":"true",...B},c.createElement(d.Z,{"data-testid":"status-ok",className:u()(o.ok,o.statusIconSize,o.statusIcon)}),x)}function y(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status warning","aria-hidden":"true",...B},c.createElement(n.Z,{"data-testid":"status-warning",className:u()(o.warning,o.statusIconSize,o.statusIcon)}),x)}function C(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status error","aria-hidden":"true",...B},c.createElement(E.Z,{"data-testid":"status-error",className:u()(o.error,o.statusIconSize,o.statusIcon)}),x)}function h(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status pending","aria-hidden":"true",...B},c.createElement(r,{dataTestId:"status-pending",className:u()(o.pending,o.statusIconSizeForImg,o.statusIcon)}),x)}function R(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status running","aria-hidden":"true",...B},c.createElement(s,{dataTestId:"status-running",className:u()(o.running,o.statusIcon,o.statusIconSizeForImg)}),x)}function O(D){const{children:x,...B}=D,o=f(B);return c.createElement(i.Z,{component:"span",className:u()(o.status),"aria-label":"Status aborted","aria-hidden":"true",...B},c.createElement(m,{dataTestId:"status-aborted",className:u()(o.aborted,o.statusIcon,o.statusIconSizeForImg)}),x)}},48364:(k,v,e)=>{e.d(v,{x:()=>Y});var t=e(2784),i=e(12420),d=e(15459),n=e(74600),E=e.n(n),l=e(90436),u=e(11776),c=e(38402),r=e(37390),s=e(97485),m=e(15584),f=e(89571);const p=S=>(0,i.Z)({root:{fontWeight:S.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:S.spacing(4),border:"0",verticalAlign:"top"}}),y={root:{border:"0",verticalAlign:"top"}},C=S=>(0,i.Z)({root:{margin:S.spacing(0,0,-1,0)}}),h=S=>(0,i.Z)({root:{padding:S.spacing(0,0,1,0)},random:{}}),R=(0,d.Z)(p,{name:"BackstageMetadataTableTitleCell"})(m.Z),O=(0,d.Z)(y,{name:"BackstageMetadataTableCell"})(m.Z),D=({dense:S,children:b})=>t.createElement(r.Z,{size:S?"small":"medium"},t.createElement(s.Z,null,b)),x=({title:S,children:b,...K})=>t.createElement(f.Z,null,S&&t.createElement(R,null,S),t.createElement(O,{colSpan:S?1:2,...K},b)),B=(0,d.Z)(C,{name:"BackstageMetadataTableList"})(({classes:S,children:b})=>t.createElement(u.Z,{disablePadding:!0,className:S.root},b)),o=(0,d.Z)(h,{name:"BackstageMetadataTableListItem"})(({classes:S,children:b})=>t.createElement(c.Z,{className:S.root},b)),T=(0,i.Z)({root:{margin:"0 0",listStyleType:"none"}}),W=S=>(0,i.Z)({root:{...T.root,paddingLeft:S.spacing(1)}}),F=(0,d.Z)(T,{name:"BackstageStructuredMetadataTableList"})(({classes:S,children:b})=>t.createElement(B,{classes:S},b)),H=(0,d.Z)(W,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:S,children:b})=>t.createElement(B,{classes:S},b));function z(S,b,K){const se=S.map((le,_)=>t.createElement(o,{key:_},Z(le,b,K)));return K?t.createElement(H,null,se):t.createElement(F,null,se)}function J(S,b,K){const se=Object.keys(S).map(le=>{const _=Z(S[le],b,!0);return t.createElement(o,{key:le},t.createElement(l.Z,{variant:"body2",component:"span"},`${b.titleFormat(le)}: `),_)});return K?t.createElement(H,null,se):t.createElement(F,null,se)}function Z(S,b,K){return t.isValidElement(S)?t.createElement(t.Fragment,null,S):S!==null&&typeof S=="object"&&!Array.isArray(S)?J(S,b,K):Array.isArray(S)?z(S,b,K):typeof S=="boolean"?t.createElement(t.Fragment,null,S?"\u2705":"\u274C"):t.createElement(l.Z,{variant:"body2",component:"span"},S)}const L=({value:S,options:b})=>t.createElement(t.Fragment,null,Z(S,b,!1)),$=({title:S,value:b,options:K})=>t.createElement(x,{title:K.titleFormat(S)},t.createElement(L,{value:b,options:K}));function U(S,b){return Object.keys(S).map(K=>t.createElement($,{key:K,title:K,value:S[K],options:b}))}function Y(S){const{metadata:b,dense:K=!0,options:se={}}=S,le=U(b,{titleFormat:E(),...se});return t.createElement(D,{dense:K},le)}},9514:(k,v,e)=>{e.d(v,{t:()=>c});var t=e(2784),i=e(18671),d=e(73557),n=e(16060),E=e(35182),l=e(29420);function u(r){var R,O,D,x,B;const s=(0,d.UO)(),f=r.map(({path:o,children:T})=>({caseSensitive:!1,path:`${o}/*`,element:T})).sort((o,T)=>T.path.replace(/\/\*$/,"").localeCompare(o.path.replace(/\/\*$/,""))),p=(O=(0,d.V$)(f))!=null?O:(R=r[0])==null?void 0:R.children;let y=(D=s["*"])!=null?D:"";y.startsWith("/")||(y=`/${y}`);const[C]=(x=(0,n.fp)(f,y))!=null?x:[],h=C?r.findIndex(o=>`${o.path}/*`===C.route.path):0;return{index:h===-1?0:h,element:p,route:(B=r[h])!=null?B:r[0]}}function c(r){const{routes:s}=r,m=(0,d.s0)(),{index:f,route:p,element:y}=u(s),C=(0,t.useMemo)(()=>s.map(R=>({id:R.path,label:R.title,tabProps:R.tabProps})),[s]),h=R=>{let{path:O}=s[R];O=O.replace(/\/\*$/,""),O=O.replace(/^\//,""),m(O)};return t.createElement(t.Fragment,null,t.createElement(l.a,{tabs:C,selectedIndex:f,onChange:h}),t.createElement(E.V,null,t.createElement(i.q,{title:p==null?void 0:p.title}),y))}},26535:(k,v,e)=>{e.d(v,{i:()=>re});var t=e(67222),i=e(95544),d=e(61837),n=e(15459),E=e(79692),l=e(60364),u=e(90436),c=e(21070),r=e(90324),s=e(98281),m=e(48049),f=e(51209),p=e(33375),y=e(44233),C=e(27604),h=e(36444),R=e(37971),O=e(59709),D=e(17373),x=e(3702),B=e(93111),o=e(76635),T=e(2784),W=e(77277),F=e(39802),H=e(74309),z=e(71911);const J=(0,E.Z)(ne=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:ne.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:ne.spacing(7.5),justifyContent:"space-between",borderBottom:`1px solid ${ne.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:ne.spacing(2)}}}),{name:"BackstageTableFilters"}),Z=ne=>{var Ae;const he=J(),{onChangeFilters:Le}=ne,{t:ke}=(0,z.i)(H.v),[_e,xe]=(0,T.useState)({...ne.selectedFilters}),[fe,Me]=(0,T.useState)(!1),Ce=()=>{xe({}),Me(Be=>!Be)};return(0,T.useEffect)(()=>{Le(_e)},[_e,Le]),T.createElement(i.Z,{className:he.root},T.createElement(i.Z,{className:he.header},T.createElement(i.Z,{className:he.value},ke("table.filter.title")),T.createElement(W.Z,{color:"primary",onClick:Ce},ke("table.filter.clearAll"))),T.createElement(i.Z,{className:he.filters},((Ae=ne.filters)==null?void 0:Ae.length)&&ne.filters.map(Be=>T.createElement(F.H,{triggerReset:fe,key:Be.element.label,...Be.element,selected:_e[Be.element.label],onChange:ht=>xe({..._e,[Be.element.label]:ht})}))))};var L=e(4614);function $(ne){return T.createElement("tbody",{"data-testid":"loading-indicator"},T.createElement("tr",null,T.createElement("td",{colSpan:ne.colSpan},T.createElement(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"15rem"}},T.createElement(L.Z,{size:"5rem"})))))}const U={Add:(0,T.forwardRef)((ne,he)=>T.createElement(c.Z,{...ne,ref:he})),Check:(0,T.forwardRef)((ne,he)=>T.createElement(s.Z,{...ne,ref:he})),Clear:(0,T.forwardRef)((ne,he)=>T.createElement(p.Z,{...ne,ref:he})),Delete:(0,T.forwardRef)((ne,he)=>T.createElement(y.Z,{...ne,ref:he})),DetailPanel:(0,T.forwardRef)((ne,he)=>T.createElement(f.Z,{...ne,ref:he})),Edit:(0,T.forwardRef)((ne,he)=>T.createElement(C.Z,{...ne,ref:he})),Export:(0,T.forwardRef)((ne,he)=>T.createElement(x.Z,{...ne,ref:he})),Filter:(0,T.forwardRef)((ne,he)=>T.createElement(h.Z,{...ne,ref:he})),FirstPage:(0,T.forwardRef)((ne,he)=>T.createElement(R.Z,{...ne,ref:he})),LastPage:(0,T.forwardRef)((ne,he)=>T.createElement(O.Z,{...ne,ref:he})),NextPage:(0,T.forwardRef)((ne,he)=>T.createElement(f.Z,{...ne,ref:he})),PreviousPage:(0,T.forwardRef)((ne,he)=>T.createElement(m.Z,{...ne,ref:he})),ResetSearch:(0,T.forwardRef)((ne,he)=>T.createElement(p.Z,{...ne,ref:he})),Search:(0,T.forwardRef)((ne,he)=>T.createElement(h.Z,{...ne,ref:he})),SortArrow:(0,T.forwardRef)((ne,he)=>T.createElement(r.Z,{...ne,ref:he})),ThirdStateCheck:(0,T.forwardRef)((ne,he)=>T.createElement(D.Z,{...ne,ref:he})),ViewColumn:(0,T.forwardRef)((ne,he)=>T.createElement(B.Z,{...ne,ref:he}))};function Y(ne,he){const Le=he.split(".");let ke=ne[Le[0]];for(let _e=1;_e<Le.length;++_e){if(ke===void 0)return ke;const xe=Le[_e];ke=ke[xe]}return ke}const S=(0,n.Z)(ne=>({header:{padding:ne.spacing(1,2,1,2.5),borderTop:`1px solid ${ne.palette.grey.A100}`,borderBottom:`1px solid ${ne.palette.grey.A100}`,fontWeight:ne.typography.fontWeightBold,position:"static",wordBreak:"normal",textTransform:"uppercase"}}),{name:"BackstageTableHeader"})(t.W$),b=(0,n.Z)(ne=>({root:{padding:ne.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:ne.typography.fontWeightBold}},searchField:{paddingRight:ne.spacing(2)}}),{name:"BackstageTableToolbar"})(t.UW),K=(0,E.Z)(ne=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:ne.typography.fontWeightBold,fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),se=(0,E.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function le(ne,he){return ne.map(Le=>{var xe;const ke=(xe=Le.headerStyle)!=null?xe:{};let _e=Le.cellStyle||{};if(Le.highlight)if(ke.color=he.palette.textContrast,typeof _e=="object")_e.fontWeight=he.typography.fontWeightBold;else{const fe=_e;_e=(Me,Ce,Ae)=>({...fe(Me,Ce,Ae),fontWeight:he.typography.fontWeightBold})}return{...Le,headerStyle:ke,cellStyle:_e}})}function _(ne,he){return(0,o.transform)(ne,(Le,ke,_e)=>{(0,o.isEqual)(ke,he[_e])||(Le[_e]=ke)})}const te={search:"",filtersOpen:!1,filters:{}};function de(ne){const{toolbarRef:he,setSearch:Le,hasFilters:ke,selectedFiltersLength:_e,toggleFilters:xe}=ne,fe=K(),Me=(0,T.useCallback)(Ce=>{ne.onSearchChanged(Ce),Le(Ce)},[ne,Le]);return ke?T.createElement(i.Z,{className:fe.root},T.createElement(i.Z,{className:fe.root},T.createElement(d.Z,{onClick:xe,"aria-label":"filter list"},T.createElement(h.Z,null)),T.createElement(u.Z,{className:fe.title},"Filters (",_e,")")),T.createElement(b,{...ne,ref:he,onSearchChanged:Me})):T.createElement(b,{...ne,ref:he,onSearchChanged:Me})}function re(ne){const{data:he,columns:Le,emptyContent:ke,options:_e,title:xe,subtitle:fe,localization:Me,filters:Ce,initialState:Ae,onStateChange:Be,components:ht,isLoading:Lt,...Bt}=ne,ft=se(),ze=(0,l.Z)(),ie={...te,...Ae},[we,Ze]=(0,T.useState)(ie.filtersOpen),Xe=(0,T.useCallback)(()=>Ze(dt=>!dt),[Ze]),[ct,Pt]=(0,T.useState)(ie.filters),[Ge,yt]=(0,T.useState)(ie.search);(0,T.useEffect)(()=>{if(Be){const dt=_({search:Ge,filtersOpen:we,filters:ct},te);Be(dt)}},[Ge,we,ct,Be]);const qe=(0,T.useCallback)(dt=>{var ut;return(ut=Le.find(mt=>mt.title===dt))==null?void 0:ut.field},[Le]),Ie=(0,T.useMemo)(()=>{if(typeof he=="function"||!ct)return he;const dt=Object.values(ct);return he&&dt.flat().length?he.filter(mt=>!!Object.entries(ct).filter(([,ve])=>!!ve.length).every(([ve,G])=>{const V=Y(mt,qe(ve));return Array.isArray(V)&&Array.isArray(G)?V.some(me=>G.includes(me)):Array.isArray(V)?V.includes(G):Array.isArray(G)?G.includes(V):V===G})):he},[he,ct,qe]),We=Object.values(ct).flat().length,Je=!!(Ce!=null&&Ce.length),et=(0,T.useCallback)(dt=>T.createElement(de,{setSearch:yt,hasFilters:Je,selectedFiltersLength:We,toggleFilters:Xe,...dt}),[Xe,Je,We,yt]),Ve=typeof he!="function"&&he.length===0,Ke=Le.length,$e=(0,T.useMemo)(()=>ae({hasNoRows:Ve,emptyContent:ke,columnCount:Ke,loading:Lt}),[Ve,ke,Ke,Lt]);return T.createElement(i.Z,{className:ft.root},we&&he&&typeof he!="function"&&(Ce==null?void 0:Ce.length)&&T.createElement(Z,{filters:oe(Ce,he,Le),selectedFilters:ct,onChangeFilters:Pt}),T.createElement(t.ZP,{components:{Header:S,Body:$e,Toolbar:et,...ht},options:_e,columns:le(Le,ze),icons:U,title:T.createElement(T.Fragment,null,T.createElement(u.Z,{variant:"h5",component:"h2"},xe),fe&&T.createElement(u.Z,{color:"textSecondary",variant:"body1"},fe)),data:Ie,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter",searchTooltip:"Filter"},...Me},...Bt}))}re.icons=Object.freeze(U);function ae({columnCount:ne,emptyContent:he,hasNoRows:Le,loading:ke}){return _e=>ke?T.createElement($,{colSpan:ne}):he&&Le?T.createElement("tbody",null,T.createElement("tr",null,T.createElement("td",{colSpan:ne},he))):T.createElement(t.os,{..._e})}function oe(ne,he,Le){const ke=xe=>{const fe=new Set,Me=Ce=>{Ce!=null&&fe.add(Ce)};return he&&he.forEach(Ce=>{var Be;const Ae=Y(Ce,(Be=Le.find(ht=>ht.title===xe))==null?void 0:Be.field);Array.isArray(Ae)?Ae.forEach(Me):Me(Ae)}),fe},_e=xe=>({placeholder:"All results",label:xe.column,multiple:xe.type==="multiple-select",items:[...ke(xe.column)].sort().map(fe=>({label:fe,value:fe}))});return ne.map(xe=>({type:xe.type,element:_e(xe)}))}},92600:(k,v,e)=>{e.d(v,{G:()=>D});var t=e(41128),i=e(79692),d=e(27616),n=e(8284),E=e(70660),l=e(60905),u=e(90436),c=e(91750),r=e(38016),s=e(2784),m=e(22769);const f=(x,B)=>(B.palette.type==="light"?t._j:t.$n)(B.palette[x].light,.6),p=(x,B)=>(B.palette.type==="light"?t.$n:t._j)(B.palette[x].light,.9),y=(0,i.Z)(x=>({root:{marginRight:x.spacing(1),fill:({severity:B})=>f(B,x)}})),C=({severity:x})=>{const B=y({severity:x});return s.createElement(c.Z,{classes:B})},h=({severity:x})=>{const B=y({severity:x});return s.createElement(r.Z,{classes:B})},R=(0,i.Z)(x=>({panel:{backgroundColor:({severity:B})=>p(B,x),color:({severity:B})=>f(B,x),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:B})=>f(B,x),fontWeight:x.typography.fontWeightBold},markdownContent:{"& p":{display:"inline"}},message:{width:"100%",display:"block",color:({severity:B})=>f(B,x),backgroundColor:({severity:B})=>p(B,x)},details:{width:"100%",display:"block",color:x.palette.textContrast,backgroundColor:x.palette.background.default,border:`1px solid ${x.palette.border}`,padding:x.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),O=x=>x.charAt(0).toLocaleUpperCase("en-US")+x.slice(1);function D(x){const{severity:B="warning",title:o,titleFormat:T,message:W,children:F,defaultExpanded:H}=x,z=R({severity:B}),J=O(B)+(o?`: ${o}`:"");return s.createElement(d.Z,{defaultExpanded:H!=null?H:!1,className:z.panel,role:"alert"},s.createElement(n.Z,{expandIcon:s.createElement(h,{severity:B}),className:z.summary},s.createElement(C,{severity:B}),s.createElement(u.Z,{className:z.summaryText,variant:"subtitle1"},T==="markdown"?s.createElement(m.S,{content:J,className:z.markdownContent}):J)),(W||F)&&s.createElement(E.Z,null,s.createElement(l.Z,{container:!0},W&&s.createElement(l.Z,{item:!0,xs:12},s.createElement(u.Z,{className:z.message,variant:"body1"},W)),F&&s.createElement(l.Z,{item:!0,xs:12,className:z.details},F))))}},10467:(k,v,e)=>{e.d(v,{v:()=>l});var t=e(59274),i=e(58185),d=e(74309),n=e(71911);const E=()=>{const{t:u}=(0,n.i)(d.v);return{url:"https://github.com/backstage/backstage/issues",items:[{title:u("supportConfig.default.title"),icon:"warning",links:[{title:u("supportConfig.default.linkTitle"),url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]}};function l(){const c=(0,t.I_)().get(i.D),r=c==null?void 0:c.getOptionalConfig("app.support"),s=E();return r?{url:r.getString("url"),items:r.getConfigArray("items").flatMap(m=>{var f;return{title:m.getString("title"),icon:m.getOptionalString("icon"),links:((f=m.getOptionalConfigArray("links"))!=null?f:[]).flatMap(p=>({url:p.getString("url"),title:p.getString("title")}))}})}:s}},52267:(k,v,e)=>{e.d(v,{by:()=>p,db:()=>l,fy:()=>m,tB:()=>y,yO:()=>n,zG:()=>r});var t=e(70666),i=e(80079),d=e(2784);function n(h){var o;const{id:R,Fallback:O=i.Z,...D}=h,B=(o=(0,t.q)().getSystemIcon(R))!=null?o:O;return d.createElement(B,{...D})}function E(h){return React__default.createElement(n,{id:"brokenImage",...h})}function l(h){return d.createElement(n,{id:"catalog",...h})}function u(h){return React__default.createElement(n,{id:"chat",...h})}function c(h){return React__default.createElement(n,{id:"dashboard",...h})}function r(h){return d.createElement(n,{id:"docs",...h})}function s(h){return React__default.createElement(n,{id:"email",...h})}function m(h){return d.createElement(n,{id:"github",...h})}function f(h){return React__default.createElement(n,{id:"group",...h})}function p(h){return d.createElement(n,{id:"help",...h})}function y(h){return d.createElement(n,{id:"user",...h})}function C(h){return React__default.createElement(n,{id:"warning",...h})}},32630:(k,v,e)=>{e.d(v,{M:()=>r});var t=e(95544),i=e(85256),d=e(79692),n=e(90436),E=e(27597),l=e(2784),u=e(87603);const c=(0,d.Z)(s=>({root:{maxWidth:"fit-content",padding:s.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:s.palette.textSubtle},arrow:{color:s.palette.textSubtle}}),{name:"BackstageBottomLink"});function r(s){const{link:m,title:f,onClick:p}=s,y=c();return l.createElement(t.Z,null,l.createElement(i.Z,null),l.createElement(u.rU,{to:m,onClick:p,underline:"none"},l.createElement(t.Z,{display:"flex",alignItems:"center",className:y.root},l.createElement(t.Z,{className:y.boxTitle,fontWeight:"fontWeightBold",m:1},l.createElement(n.Z,null,l.createElement("strong",null,f))),l.createElement(E.Z,{className:y.arrow}))))}},40305:(k,v,e)=>{e.d(v,{O:()=>f});var t=e(95544),i=e(16173),d=e(11776),n=e(38402),E=e(79784),l=e(15459),u=e(90436),c=e(2784);const r=(0,l.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(u.Z),s=(0,l.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(t.Z),m=(0,l.Z)({root:{fontStyle:"italic"}},{name:"BreadcrumbsCurrentPage"})(t.Z);function f(p){const{children:y,...C}=p,[h,R]=c.useState(null),O=c.Children.toArray(y),[D,x,...B]=O,o=B.length?B.pop():O[O.length-1],T=O.length>3,W=z=>{R(z.currentTarget)},F=()=>{R(null)},H=!!h;return c.createElement(c.Fragment,null,c.createElement(i.Z,{"aria-label":"breadcrumb",...C},O.length>1&&c.createElement(s,{clone:!0},D),O.length>2&&c.createElement(s,{clone:!0},x),T&&c.createElement(r,{onClick:W},"..."),c.createElement(m,null,o)),c.createElement(E.ZP,{open:H,anchorEl:h,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},c.createElement(d.Z,null,B.map((z,J)=>c.createElement(n.Z,{key:J,button:!0},c.createElement(s,{clone:!0},z))))))}},35182:(k,v,e)=>{e.d(v,{V:()=>l});var t=e(79692),i=e(12524),d=e.n(i),n=e(2784);const E=(0,t.Z)(u=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:u.spacing(3),paddingBottom:u.spacing(3),paddingLeft:u.spacing(2),paddingRight:u.spacing(2),[u.breakpoints.up("sm")]:{paddingLeft:u.spacing(3),paddingRight:u.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function l(u){const{className:c,stretch:r,noPadding:s,children:m,...f}=u,p=E();return n.createElement("article",{...f,className:d()(p.root,c,{[p.stretch]:r,[p.noPadding]:s})},m)}},70289:(k,v,e)=>{e.d(v,{y:()=>c});var t=e(95544),i=e(79692),d=e(90436),n=e(2784),E=e(18671);const l=r=>(0,i.Z)(s=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:s.spacing(2),textAlign:r.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:s.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),u=({title:r="Unknown page",className:s})=>n.createElement(d.Z,{variant:"h4",component:"h2",className:s,"data-testid":"header-title"},r);function c(r){const{description:s,title:m,titleComponent:f=void 0,children:p,textAlign:y="left"}=r,C=l({textAlign:y})(),h=f||n.createElement(u,{title:m,className:C.title});return n.createElement(n.Fragment,null,n.createElement(E.q,{title:m}),n.createElement(t.Z,{className:C.container},n.createElement(t.Z,{className:C.leftItemsBox},h,s&&n.createElement(d.Z,{className:C.description,variant:"body2"},s)),n.createElement(t.Z,{className:C.rightItemsBox},p)))}},33211:(k,v,e)=>{e.d(v,{S:()=>c});var t=e(90436),i=e(2784),d=e(55990),n=e(44303),E=e(74309),l=e(71911);const u=r=>{const{slackChannel:s}=r,{t:m}=(0,l.i)(E.v);if(s){if(typeof s=="string")return i.createElement(t.Z,null,m("errorBoundary.title",{slackChannel:s}));if(!s.href)return i.createElement(t.Z,null,m("errorBoundary.title",{slackChannel:s.name}))}else return null;return i.createElement(d.Q,{to:s.href,variant:"contained"},s.name)},c=class extends i.Component{constructor(s){super(s),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(s,m){console.error(`ErrorBoundary, error: ${s}`,{error:s,errorInfo:m}),this.setState({error:s,errorInfo:m})}render(){const{slackChannel:s,children:m}=this.props,{error:f}=this.state;return f?i.createElement(n.y,{title:"Something Went Wrong",error:f},i.createElement(u,{slackChannel:s})):m}}},17182:(k,v,e)=>{e.d(v,{m:()=>H});var t=e(60905),i=e(79692),d=e(90436),n=e(2784),E=e(73557),l=e(87603),u=e(76635),c=e(19126),r=e(10467);const s=e.p+"static/mic-drop.fe3ef4d0..svg",m=(0,i.Z)(z=>({micDrop:{maxWidth:"60%",bottom:z.spacing(2),right:z.spacing(2),[z.breakpoints.down("xs")]:{maxWidth:"96%",bottom:"unset",right:"unset",margin:z.spacing(10,"auto",4)}}}),{name:"BackstageErrorPageMicDrop"}),f=()=>{const z=m();return n.createElement("img",{src:s,className:z.micDrop,alt:"Girl dropping mic from her hands"})};var p=e(71911),y=e(74309),C=e(27429),h=e(67977),R=e(13725),O=e(46506),D=e(54073),x=e(47968),B=e(18671),o=e(44311);const T=(0,i.Z)(z=>({title:{paddingBottom:z.spacing(5),[z.breakpoints.down("xs")]:{paddingBottom:z.spacing(4),fontSize:z.typography.h3.fontSize}}}),{name:"BackstageErrorPageStackDetails"});function W(z){const{stack:J}=z,Z=T(),{t:L}=(0,p.i)(y.v),[$,U]=(0,n.useState)(!1);return $?n.createElement(n.Fragment,null,n.createElement(d.Z,{variant:"h6",className:Z.title},n.createElement(l.rU,{to:"#",onClick:()=>U(!1)},L("errorPage.showLessDetails"))),n.createElement(h.O,{text:J,language:"text",showCopyCodeButton:!0,showLineNumbers:!0})):n.createElement(d.Z,{variant:"h6",className:Z.title},n.createElement(l.rU,{to:"#",onClick:()=>U(!0)},L("errorPage.showMoreDetails")))}const F=(0,i.Z)(z=>({container:{padding:z.spacing(8),[z.breakpoints.down("xs")]:{padding:z.spacing(2)}},title:{paddingBottom:z.spacing(5),[z.breakpoints.down("xs")]:{paddingBottom:z.spacing(4),fontSize:z.typography.h3.fontSize}},subtitle:{color:z.palette.textSubtle}}),{name:"BackstageErrorPage"});function H(z){const{status:J="",statusMessage:Z,additionalInfo:L,supportUrl:$,stack:U}=z,Y=F(),S=(0,E.s0)(),b=(0,r.v)(),{t:K}=(0,p.i)(y.v);return n.createElement(t.Z,{container:!0,className:Y.container},n.createElement(t.Z,{item:!0,xs:12,sm:8,md:4},n.createElement(d.Z,{"data-testid":"error",variant:"body1",className:Y.subtitle},K("errorPage.subtitle",{status:J,statusMessage:Z})),n.createElement(d.Z,{variant:"body1",className:Y.subtitle},L),n.createElement(d.Z,{variant:"h2",className:Y.title},K("errorPage.title")),n.createElement(d.Z,{variant:"h6",className:Y.title},n.createElement(l.rU,{to:"#","data-testid":"go-back-link",onClick:()=>S(-1)},K("errorPage.goBack")),"... or please"," ",n.createElement(l.rU,{to:$||b.url},"contact support")," if you think this is a bug."),U&&n.createElement(W,{stack:U})),n.createElement(f,null))}},90996:(k,v,e)=>{e.d(v,{h:()=>R});var t=e(59274),i=e(58185),d=e(95544),n=e(60905),E=e(79692),l=e(80030),u=e(90436),c=e(2784),r=e(18671),s=e(87603),m=e(40305),f=e(10529);const p=(0,E.Z)(O=>({header:{gridArea:"pageHeader",padding:O.spacing(3),width:"100%",boxShadow:O.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:O.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[O.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:O.page.fontColor,wordBreak:"break-word",fontSize:O.typography.h3.fontSize,marginBottom:0},subtitle:{color:O.page.fontColor,opacity:.8,display:"inline-block",marginTop:O.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:O.spacing(1),color:O.page.fontColor},breadcrumb:{color:O.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-O.spacing(.3),marginBottom:O.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-O.spacing(.3),marginBottom:O.spacing(.3)}}),{name:"BackstageHeader"}),y=({type:O,typeLink:D,classes:x,pageTitle:B})=>O?D?c.createElement(m.O,{className:x.breadcrumb},c.createElement(s.rU,{to:D},O),c.createElement(u.Z,null,B)):c.createElement(u.Z,{className:x.type},O):null,C=({pageTitle:O,classes:D,tooltip:x})=>{const{contentRef:B}=(0,f.r)(),o=c.createElement(u.Z,{ref:B,tabIndex:-1,className:D.title,variant:"h1"},O);return x?c.createElement(l.ZP,{title:x,placement:"top-start"},o):o},h=({classes:O,subtitle:D})=>D?typeof D!="string"?c.createElement(c.Fragment,null,D):c.createElement(u.Z,{className:O.subtitle,variant:"subtitle2",component:"span"},D):null;function R(O){const{children:D,pageTitleOverride:x,style:B,subtitle:o,title:T,tooltip:W,type:F,typeLink:H}=O,z=p(),Z=(0,t.h_)(i.D).getOptionalString("app.title")||"Backstage",L=x||T,$=T||x,U=`${L} | %s | ${Z}`,Y=`${L} | ${Z}`;return c.createElement(c.Fragment,null,c.createElement(r.q,{titleTemplate:U,defaultTitle:Y}),c.createElement("header",{style:B,className:z.header},c.createElement(d.Z,{className:z.leftItemsBox},c.createElement(y,{classes:z,type:F,typeLink:H,pageTitle:$}),c.createElement(C,{classes:z,pageTitle:$,tooltip:W}),c.createElement(h,{classes:z,subtitle:o})),c.createElement(n.Z,{container:!0,className:z.rightItemsBox,spacing:4},D)))}},82196:(k,v,e)=>{e.d(v,{i:()=>r});var t=e(60905),i=e(79692),d=e(41128),n=e(90436),E=e(2784),l=e(87603);const u=(0,i.Z)(s=>({root:{textAlign:"left"},label:{color:s.page.fontColor,fontWeight:s.typography.fontWeightBold,letterSpacing:0,fontSize:s.typography.fontSize,marginBottom:s.spacing(1)/2,lineHeight:1},value:{color:(0,d.Fq)(s.page.fontColor,.8),fontSize:s.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),c=({value:s,className:m,typographyRootComponent:f})=>E.createElement(n.Z,{component:f!=null?f:typeof s=="string"?"p":"span",className:m},s);function r(s){const{label:m,value:f,url:p,contentTypograpyRootComponent:y}=s,C=u(),h=E.createElement(c,{className:C.value,value:f||"<Unknown>",typographyRootComponent:y});return E.createElement(t.Z,{item:!0},E.createElement(n.Z,{component:"span",className:C.root},E.createElement(n.Z,{className:C.label},m),p?E.createElement(l.rU,{to:p},h):h))}},29420:(k,v,e)=>{e.d(v,{a:()=>c});var t=e(95544),i=e(79692),d=e(6487),n=e(99152),E=e(2784),l=e(87603);const u=(0,i.Z)(r=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:r.palette.background.paper,paddingLeft:r.spacing(3),minWidth:0},defaultTab:{...r.typography.caption,padding:r.spacing(3,3),textTransform:"uppercase",fontWeight:r.typography.fontWeightBold,color:r.palette.text.secondary},selected:{color:r.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:r.palette.background.default,color:r.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function c(r){const{tabs:s,onChange:m,selectedIndex:f}=r,[p,y]=(0,E.useState)(f!=null?f:0),C=u(),h=(0,E.useCallback)((O,D)=>{f===void 0&&y(D),m&&m(D)},[f,m]);(0,E.useEffect)(()=>{f!==void 0&&y(f)},[f]);function R(O){return O.replace(/^\//,"")}return E.createElement(t.Z,{className:C.tabsWrapper},E.createElement(n.Z,{indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"tabs",onChange:h,value:p},s.map((O,D)=>E.createElement(d.Z,{"data-testid":`header-tab-${D}`,label:O.label,key:O.id,component:l.rU,to:R(O.id),value:D,className:C.defaultTab,classes:{selected:C.selected,root:C.tabRoot},...O.tabProps}))))}},93006:(k,v,e)=>{e.d(v,{r:()=>h});var t=e(94339),i=e(14503),d=e(24579),n=e(32552),E=e(85256),l=e(79692),u=e(15459),c=e(12524),r=e.n(c),s=e(2784),m=e(32630),f=e(33211);const p=(0,l.Z)(R=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},contentAlignBottom:{display:"flex",alignItems:"self-end"},header:{padding:R.spacing(2,2,2,2.5)},headerTitle:{fontWeight:R.typography.fontWeightBold},headerSubheader:{paddingTop:R.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),y=(0,u.Z)(R=>({root:{display:"inline-block",padding:R.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(i.Z),C={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px",breakInside:"avoid-page","@media print":{height:"auto"}}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function h(R){const{title:O,subheader:D,divider:x=!0,deepLink:B,slackChannel:o,errorBoundaryProps:T,variant:W,alignContent:F="normal",children:H,headerStyle:z,headerProps:J,icon:Z,action:L,actionsClassName:$,actions:U,cardClassName:Y,actionsTopRight:S,className:b,noPadding:K,titleTypographyProps:se,subheaderTypographyProps:le}=R,_=p();let te={},de={};W&&W.split(/[\s]+/g).forEach(ne=>{te={...te,...C.card[ne]},de={...de,...C.cardContent[ne]}});const re=()=>!D&&!Z?null:s.createElement("div",{"data-testid":"info-card-subheader"},D&&s.createElement("div",{className:_.subheader},D),Z),ae=T||(o?{slackChannel:o}:{});return s.createElement(t.Z,{style:te,className:b},s.createElement(f.S,{...ae},O&&s.createElement(n.Z,{classes:{root:r()(_.header),title:_.headerTitle,subheader:_.headerSubheader,avatar:_.headerAvatar,action:_.headerAction,content:_.headerContent},title:O,subheader:re(),action:L,style:{...z},titleTypographyProps:se,subheaderTypographyProps:le,...J}),S&&s.createElement(y,null,S),x&&s.createElement(E.Z,null),s.createElement(d.Z,{className:r()(Y,{[_.noPadding]:K,[_.contentAlignBottom]:F==="bottom"}),style:de},H),U&&s.createElement(i.Z,{className:$},U),B&&s.createElement(m.M,{...B})))}},92980:(k,v,e)=>{e.d(v,{T:()=>E});var t=e(2784),i=e(79692),d=e(41547);const n=(0,i.Z)(l=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[l.breakpoints.down("xs")]:{height:"100%"},"@media print":{display:"block",height:"auto",overflowY:"inherit"}}}),{name:"BackstagePage"});function E(l){const{themeId:u,children:c}=l,r=n();return t.createElement(d.Z,{theme:s=>({...s,page:s.getPageTheme({themeId:u})})},t.createElement("main",{className:r.root},c))}},70604:(k,v,e)=>{e.d(v,{Y:()=>U});var t=e(95544),i=e(77277),d=e(79692),n=e(41156),E=e(12524),l=e.n(E),u=e(2784),c=e(91825),r=e(32430),s=e(50023),m=e(61837),f=e(4190),p=e(90436),y=e(87685),C=e(44882),h=e(76635),R=e(73557),O=e(49249),D=e(1451),x=e(3739);const B=(0,d.Z)(S=>({root:{position:"fixed",backgroundColor:S.palette.navigation.background,color:S.palette.navigation.color,bottom:0,left:0,right:0,zIndex:S.zIndex.snackbar,borderTop:"1px solid #383838","@media print":{display:"none"}},overlay:b=>({background:S.palette.navigation.background,width:"100%",bottom:`${b.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${b.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:S.palette.navigation.color,alignItems:"center",justifyContent:"space-between",padding:S.spacing(2,3)},overlayHeaderClose:{color:S.palette.navigation.color},marginMobileSidebar:b=>({marginBottom:`${b.sidebarConfig.mobileSidebarHeight}px`})})),o=S=>(0,h.orderBy)(S,({props:{priority:b}})=>Number.isInteger(b)?b:-1,"desc"),T=u.createElement(D.H).type,W=({children:S,label:b="Menu",open:K,onClose:se})=>{const{sidebarConfig:le}=(0,u.useContext)(c.kG),_=B({sidebarConfig:le});return u.createElement(f.ZP,{anchor:"bottom",open:K,onClose:se,ModalProps:{BackdropProps:{classes:{root:_.marginMobileSidebar}}},classes:{root:_.marginMobileSidebar,paperAnchorBottom:_.overlay}},u.createElement(t.Z,{className:_.overlayHeader},u.createElement(p.Z,{variant:"h3"},b),u.createElement(m.Z,{onClick:se,classes:{root:_.overlayHeaderClose}},u.createElement(y.Z,null))),u.createElement(t.Z,{component:"nav"},S))},F=S=>{const{sidebarConfig:b}=(0,u.useContext)(c.kG),{children:K}=S,se=B({sidebarConfig:b}),le=(0,R.TH)(),[_,te]=(0,u.useState)(-1);(0,u.useEffect)(()=>{te(-1)},[le.pathname]);let de=(0,r.v)(K,ae=>ae.getElements().filter(oe=>oe.type===T));if(K)de.length?de=o(de):de.push(u.createElement(D.H,{key:"default_menu",icon:u.createElement(C.Z,null)},K));else return null;const re=_>=0&&!de[_].props.to;return u.createElement(O.Mj,{value:{isOpen:!0,setOpen:()=>{}}},u.createElement(x.T.Provider,{value:{selectedMenuItemIndex:_,setSelectedMenuItemIndex:te}},u.createElement(W,{label:de[_]&&de[_].props.label,open:re,onClose:()=>te(-1)},de[_]&&de[_].props.children),u.createElement(s.Z,{className:se.root,"data-testid":"mobile-sidebar-root",component:"nav"},de)))};var H=e(10529),z=e(1910),J=e(71911),Z=e(74309);const L=(0,d.Z)(S=>({drawer:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:S.zIndex.appBar,background:S.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",transition:S.transitions.create("width",{easing:S.transitions.easing.sharp,duration:S.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"},"@media print":{display:"none"}},drawerWidth:b=>({width:b.sidebarConfig.drawerWidthClosed}),drawerOpen:b=>({width:b.sidebarConfig.drawerWidthOpen,transition:S.transitions.create("width",{easing:S.transitions.easing.sharp,duration:S.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),$=S=>{const{sidebarConfig:b}=(0,u.useContext)(c.kG),{openDelayMs:K=b.defaultOpenDelayMs,closeDelayMs:se=b.defaultCloseDelayMs,disableExpandOnHover:le,children:_}=S,te=L({sidebarConfig:b}),de=(0,n.Z)(fe=>fe.breakpoints.down("md"),{noSsr:!0}),[re,ae]=(0,u.useState)(0),oe=(0,u.useRef)(),{isPinned:ne,toggleSidebarPinState:he}=(0,z.Pf)(),Le=()=>{ne||le||(oe.current&&(clearTimeout(oe.current),oe.current=void 0),re!==2&&!de&&(oe.current=window.setTimeout(()=>{oe.current=void 0,ae(2)},K),ae(1)))},ke=()=>{ne||le||(oe.current&&(clearTimeout(oe.current),oe.current=void 0),re===1?ae(0):re===2&&(oe.current=window.setTimeout(()=>{oe.current=void 0,ae(0)},se)))},_e=re===2&&!de||ne,xe=fe=>{fe?(ae(2),he()):(ae(0),he())};return u.createElement("nav",{style:{},"aria-label":"sidebar nav"},u.createElement(Y,null),u.createElement(O.Mj,{value:{isOpen:_e,setOpen:xe}},u.createElement(t.Z,{className:te.root,"data-testid":"sidebar-root",onMouseEnter:le?()=>{}:Le,onFocus:le?()=>{}:Le,onMouseLeave:le?()=>{}:ke,onBlur:le?()=>{}:ke},u.createElement(t.Z,{className:l()(te.drawer,te.drawerWidth,{[te.drawerOpen]:_e})},_))))},U=S=>{var re,ae;const b=(0,c.$E)((re=S.sidebarOptions)!=null?re:{}),K=(0,c.rW)((ae=S.submenuOptions)!=null?ae:{}),{children:se,disableExpandOnHover:le,openDelayMs:_,closeDelayMs:te}=S,{isMobile:de}=(0,z.Pf)();return de?u.createElement(F,null,se):u.createElement(c.kG.Provider,{value:{sidebarConfig:b,submenuConfig:K}},u.createElement($,{openDelayMs:_,closeDelayMs:te,disableExpandOnHover:le},se))};function Y(){const{sidebarConfig:S}=(0,u.useContext)(c.kG),{focusContent:b,contentRef:K}=(0,H.r)(),se=L({sidebarConfig:S}),{t:le}=(0,J.i)(Z.v);return K!=null&&K.current?u.createElement(i.Z,{onClick:b,variant:"contained",className:l()(se.visuallyHidden)},le("skipToContent")):null}},78447:(k,v,e)=>{e.d(v,{BV:()=>Y,R6:()=>$,oz:()=>se,v7:()=>b});var t=e(32430),i=e(92641),d=e(26739),n=e(95544),E=e(79692),l=e(76600),u=e(90436),c=e(41156),r=e(83543),s=e(59797),m=e(98989),f=e(12524),p=e.n(f),y=e(2784),C=e(16060),h=e(73557),R=e(39857),O=e(91825),D=e(49249),x=e(97498),B=e(75984),o=e(77277);const T=_=>(0,E.Z)(te=>{var de,re,ae,oe;return{root:{color:te.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:_.drawerWidthClosed,justifyContent:"center"},open:{[te.breakpoints.up("sm")]:{width:_.drawerWidthOpen}},highlightable:{"&:hover":{background:(re=(de=te.palette.navigation.navItem)==null?void 0:de.hoverBackground)!=null?re:"#404040"}},highlighted:{background:(oe=(ae=te.palette.navigation.navItem)==null?void 0:ae.hoverBackground)!=null?oe:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:_.iconContainerWidth,marginRight:-te.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:te.typography.fontWeightBold,fontSize:te.typography.fontSize},searchFieldHTMLInput:{padding:te.spacing(2,0,2)},searchContainer:{width:_.drawerWidthOpen-_.iconContainerWidth},secondaryAction:{width:te.spacing(6),textAlign:"center",marginRight:te.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:te.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${_.selectedIndicatorWidth}px ${te.palette.navigation.indicator}`,color:te.palette.navigation.selectedColor},"&$closed":{width:_.drawerWidthClosed},"& $closedItemIcon":{paddingRight:_.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-_.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function W(_){return(0,y.useMemo)(()=>T(_),[_])()}const F=(_,te)=>(0,t.v)(_.props.children,de=>{let re=!1;return de.getElements().forEach(({props:{to:ae,dropdownItems:oe}})=>{if(!re){if(oe!=null&&oe.length){oe.forEach(({to:ne})=>re=re||(0,B.E)(te,(0,C.i3)(ne)));return}ae&&(re=(0,B.E)(te,(0,C.i3)(ae)))}}),re},[te.pathname]);function H(_){return _.to===void 0}const z=y.createElement(x.k).type,J=y.forwardRef(function({to:te,end:de,style:re,className:ae,activeStyle:oe,caseSensitive:ne,activeClassName:he="active","aria-current":Le="page",...ke},_e){let{pathname:xe}=(0,h.TH)(),{pathname:fe}=(0,h.WU)(te);ne||(xe=xe.toLocaleLowerCase("en-US"),fe=fe.toLocaleLowerCase("en-US"));let Me=xe===fe;!Me&&!de&&(Me=xe.startsWith(`${fe}/`));const Ce=Me?Le:void 0;return y.createElement(R.rU,{...ke,to:te,ref:_e,"aria-current":Ce,style:{...re,...Me?oe:void 0},className:p()([typeof ae!="function"?ae:void 0,Me?he:void 0])})}),Z=(0,y.forwardRef)((_,te)=>{const{icon:de,text:re,hasNotifications:ae=!1,hasSubmenu:oe=!1,disableHighlight:ne=!1,onClick:he,noTrack:Le,children:ke,className:_e,...xe}=_,{sidebarConfig:fe}=(0,y.useContext)(O.kG),Me=W(fe),{isOpen:Ce}=(0,D.mZ)(),Ae=!Ce&&oe?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},Be=y.createElement(n.Z,{style:Ae},y.createElement(de,{fontSize:"small"}),!Ce&&oe?y.createElement(m.Z,{fontSize:"small"}):y.createElement(y.Fragment,null)),ht=y.createElement(d.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!ae,className:p()({[Me.closedItemIcon]:!Ce})},Be),Lt=y.createElement(y.Fragment,null,y.createElement(n.Z,{"data-testid":"login-button",className:Me.iconContainer},ht),re&&y.createElement(u.Z,{variant:"subtitle2",component:"span",className:Me.label},re),y.createElement("div",{className:Me.secondaryAction},ke)),Bt=Ce?Lt:ht,ft={onClick:he,className:p()(_e,Me.root,Ce?Me.open:Me.closed,H(_)&&Me.buttonItem,{[Me.highlightable]:!ne})},ze=(0,i.z)(),{pathname:ie}=(0,h.WU)(!H(_)&&_.to?_.to:""),we=(0,y.useCallback)(Ze=>{if(!Le){const Xe="click",ct=re!=null?re:"Sidebar Item",Pt=ie?{attributes:{to:ie}}:void 0;ze.captureEvent(Xe,ct,Pt)}he==null||he(Ze)},[ze,re,ie,Le,he]);return H(_)?y.createElement(o.Z,{role:"button","aria-label":re,...ft,ref:te,onClick:we},Bt):y.createElement(J,{...ft,activeClassName:Me.selected,to:_.to?_.to:"",ref:te,"aria-label":re||_.to,...xe,onClick:we},Bt)}),L=({children:_,...te})=>{const{sidebarConfig:de}=(0,y.useContext)(O.kG),re=W(de),[ae,oe]=(0,y.useState)(!1),ne=(0,h.TH)(),he=F(_,ne),Le=(0,c.Z)(fe=>fe.breakpoints.down("sm")),ke=()=>{oe(!0)},_e=()=>{oe(!1)},xe=()=>Le?ae?y.createElement(s.Z,{fontSize:"small",className:re.submenuArrow}):y.createElement(r.Z,{fontSize:"small",className:re.submenuArrow}):!ae&&y.createElement(m.Z,{fontSize:"small",className:re.submenuArrow});return y.createElement(O.Ag.Provider,{value:{isHoveredOn:ae,setIsHoveredOn:oe}},y.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:_e,onTouchStart:ae?_e:ke,onMouseEnter:ke,className:p()(ae&&re.highlighted)},y.createElement(Z,{hasSubmenu:!0,className:he?re.selected:"",...te},xe()),ae&&_))},$=(0,y.forwardRef)((_,te)=>{const[de]=(0,t.v)(_.children,re=>re.getElements().filter(ae=>ae.type===z));return de?y.createElement(L,{..._},de):y.createElement(Z,{..._,ref:te})});function U(_){const{sidebarConfig:te}=useContext(SidebarConfigContext),[de,re]=useState(""),ae=W(te),oe=_.icon?_.icon:SearchIcon,ne=()=>{_.onSearch(de),re("")},he=xe=>{xe.key==="Enter"&&(xe.preventDefault(),ne())},Le=xe=>{re(xe.target.value)},ke=xe=>{xe.preventDefault(),xe.stopPropagation()},_e=xe=>{ne(),xe.preventDefault()};return React__default.createElement(Box,{className:ae.searchRoot},React__default.createElement($,{icon:oe,to:_.to,onClick:_e,disableHighlight:!0},React__default.createElement(TextField,{placeholder:"Search",value:de,onClick:ke,onChange:Le,onKeyDown:he,className:ae.searchContainer,InputProps:{disableUnderline:!0,className:ae.searchField},inputProps:{className:ae.searchFieldHTMLInput}})))}const Y=(0,l.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),S=(0,l.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),b=(0,l.Z)("hr")(({theme:_})=>({height:1,width:"100%",background:"#383838",border:"none",margin:_.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),K=_=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:_.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:_.palette.text.secondary,borderRadius:"5px"}}),se=(0,l.Z)("div")(({theme:_})=>{const te=K(_);return{flex:"0 1 auto",overflowX:"hidden",width:"100%",minHeight:"48px",overflowY:"hidden","@media (hover: none)":te,"&:hover":te}}),le=()=>{const{sidebarConfig:_}=useContext(SidebarConfigContext),te=W(_),{isOpen:de,setOpen:re}=useSidebarOpenState();if(useMediaQuery(ne=>ne.breakpoints.down("md"),{noSsr:!0}))return null;const oe=()=>{re(!de)};return React__default.createElement(Button,{role:"button",onClick:oe,className:te.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React__default.createElement(Box,{className:te.arrows},de?React__default.createElement(DoubleArrowLeft,null):React__default.createElement(DoubleArrowRight,null)))}},3739:(k,v,e)=>{e.d(v,{T:()=>i});var t=e(2784);const i=(0,t.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}})},10529:(k,v,e)=>{e.d(v,{t:()=>s,r:()=>m});var t=e(95544),i=e(79692),d=e(41156),n=e(2784),E=e(91825);const l={getSidebarPinState(){let f;try{f=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!f},setSidebarPinState(f){return window.localStorage.setItem("sidebarPinState",JSON.stringify(f))}};var u=e(1910);const c=(0,i.Z)(f=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[f.breakpoints.up("sm")]:{paddingLeft:p=>p.isPinned?p.sidebarConfig.drawerWidthOpen:p.sidebarConfig.drawerWidthClosed},[f.breakpoints.down("xs")]:{paddingBottom:p=>p.sidebarConfig.mobileSidebarHeight},"@media print":{padding:"0px !important"}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),r=(0,n.createContext)({content:{contentRef:void 0}});function s(f){const[p,y]=(0,n.useState)(()=>l.getSidebarPinState()),{sidebarConfig:C}=(0,n.useContext)(E.kG),h=(0,n.useRef)(null),R=(0,n.useMemo)(()=>({content:{contentRef:h}}),[h]);(0,n.useEffect)(()=>{l.setSidebarPinState(p)},[p]);const O=(0,d.Z)(B=>B.breakpoints.down("xs"),{noSsr:!0}),D=()=>y(!p),x=c({isPinned:p,sidebarConfig:C});return n.createElement(u.lE,{value:{isPinned:p,toggleSidebarPinState:D,isMobile:O}},n.createElement(r.Provider,{value:R},n.createElement(t.Z,{className:x.root},f.children)))}function m(){const{content:f}=(0,n.useContext)(r);return{focusContent:(0,n.useCallback)(()=>{var y,C;(C=(y=f==null?void 0:f.contentRef)==null?void 0:y.current)==null||C.focus()},[f]),contentRef:f==null?void 0:f.contentRef}}},1451:(k,v,e)=>{e.d(v,{H:()=>m});var t=e(57998),i=e(79692),d=e(2784),n=e(73557),E=e(87603),l=e(91825),u=e(3739),c=e(1910);const r=(0,i.Z)(f=>({root:{flexGrow:0,margin:f.spacing(0,2),color:f.palette.navigation.color},selected:p=>({color:`${f.palette.navigation.selectedColor}!important`,borderTop:`solid ${p.sidebarConfig.selectedIndicatorWidth}px ${f.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),s=f=>{const{to:p,label:y,icon:C,value:h}=f,{sidebarConfig:R}=(0,d.useContext)(l.kG),O=r({sidebarConfig:R}),D=(0,n.TH)(),{selectedMenuItemIndex:x,setSelectedMenuItemIndex:B}=(0,d.useContext)(u.T),o=(W,F)=>{B(F===x?-1:F)},T=h===x&&x>=0||h!==x&&!(x>=0)&&p===D.pathname;return d.createElement(t.Z,{"aria-label":y,label:y,icon:C,component:E.rU,to:p||D.pathname,onChange:o,value:h,selected:T,classes:O})},m=f=>{const{children:p,to:y,label:C,icon:h,value:R}=f,{isMobile:O}=(0,c.Pf)();return O?d.createElement(s,{to:y,label:C,icon:h,value:R}):d.createElement(d.Fragment,null,p)}},49249:(k,v,e)=>{e.d(v,{Mj:()=>l,mZ:()=>u});var t=e(2784),i=e(18473);const d={isOpen:!1,setOpen:()=>{}},n=(0,t.createContext)(d),E=(0,i.CT)("sidebar-open-state-context");function l(c){const{children:r,value:s}=c;return t.createElement(n.Provider,{value:s},t.createElement(E.Provider,{value:(0,i.EI)({1:s})},r))}const u=()=>{const c=(0,t.useContext)(E),r=(0,t.useContext)(n);if(c===void 0)return r||d;const s=c.atVersion(1);if(s===void 0)throw new Error("No context found for version 1.");return s}},1910:(k,v,e)=>{e.d(v,{Pf:()=>u,lE:()=>l});var t=e(18473),i=e(2784);const d={isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1},n=(0,i.createContext)(d),E=(0,t.CT)("sidebar-pin-state-context");function l(c){const{children:r,value:s}=c;return i.createElement(n.Provider,{value:s},i.createElement(E.Provider,{value:(0,t.EI)({1:s})},r))}const u=()=>{const c=(0,i.useContext)(E),r=(0,i.useContext)(n);if(c===void 0)return r||d;const s=c.atVersion(1);if(s===void 0)throw new Error("No context found for version 1.");return s}},97498:(k,v,e)=>{e.d(v,{k:()=>s});var t=e(95544),i=e(79692),d=e(90436),n=e(12524),E=e.n(n),l=e(2784),u=e(91825),c=e(49249);const r=(0,i.Z)(m=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:m.spacing(7)+1},drawer:f=>{var p,y;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[m.breakpoints.up("sm")]:{marginLeft:f.left,transition:m.transitions.create("margin-left",{easing:m.transitions.easing.sharp,duration:m.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(y=(p=m.palette.navigation.submenu)==null?void 0:p.background)!=null?y:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:f.submenuConfig.drawerWidthClosed,transitionDelay:`${f.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:f=>({width:f.submenuConfig.drawerWidthOpen,[m.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:m.spacing(3),left:0,top:0}}),title:{fontSize:m.typography.h5.fontSize,fontWeight:m.typography.fontWeightMedium,color:m.palette.navigation.color,padding:m.spacing(2.5),[m.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),s=m=>{const{isOpen:f}=(0,c.mZ)(),{sidebarConfig:p,submenuConfig:y}=(0,l.useContext)(u.kG),C=f?p.drawerWidthOpen:p.drawerWidthClosed,h=r({left:C,submenuConfig:y}),{isHoveredOn:R}=(0,l.useContext)(u.Ag),[O,D]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{D(R)},[R]),l.createElement(t.Z,{className:E()(h.drawer,{[h.drawerOpen]:O})},l.createElement(d.Z,{variant:"h5",component:"span",className:h.title},m.title),m.children)}},91825:(k,v,e)=>{e.d(v,{$E:()=>l,Ag:()=>m,kG:()=>s,rW:()=>c,sidebarConfig:()=>E});var t=e(2784);const i=72,d=24,n=18,E={drawerWidthClosed:i,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:i,iconSize:i-d*2,iconPadding:d,selectedIndicatorWidth:3,userBadgePadding:n,userBadgeDiameter:i-n*2,mobileSidebarHeight:56},l=f=>({...E,...f,iconContainerWidth:E.drawerWidthClosed,iconSize:E.drawerWidthClosed-E.iconPadding*2,userBadgeDiameter:E.drawerWidthClosed-E.userBadgePadding*2}),u={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:E.defaultOpenDelayMs+200},c=f=>({...u,...f}),r="@backstage/core/sidebar-intro-dismissed",s=(0,t.createContext)({sidebarConfig:E,submenuConfig:u}),m=(0,t.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}})},75984:(k,v,e)=>{e.d(v,{E:()=>E});var t=e(76635),i=e.n(t),d=e(19126),n=e.n(d);function E(l,u,c=!1){const r=new URLSearchParams(u.search).toString(),s=n().parse(r),m=new URLSearchParams(l.search).toString(),f=n().parse(m),p=c?t.isEqual:t.isMatch;return(0,t.isEqual)(u.pathname,l.pathname)&&p(f,s)}},78790:(k,v,e)=>{e.d(v,{FW:()=>ft});var t=e(59274),i=e(58185);class d{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const ie="user:default/guest";return{type:"user",userEntityRef:ie,ownershipEntityRefs:[ie]}}async getCredentials(){return{}}async signOut(){}}function n(ze){const[ie,we,Ze]=ze.split(".");return JSON.parse(window.atob(we))}class E{constructor(ie){this.result=ie}getUserId(){return this.result.userId}static fromResult(ie){return new E(ie)}async getIdToken(){var ie,we;return(we=(ie=this.result).getIdToken)==null?void 0:we.call(ie)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const ie=await this.getIdToken();if(!ie){const Xe=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:Xe,ownershipEntityRefs:[Xe]}}const{sub:we,ent:Ze}=n(ie);return{type:"user",userEntityRef:we,ownershipEntityRefs:Ze!=null?Ze:[]}}async getCredentials(){var we,Ze;return{token:await((Ze=(we=this.result).getIdToken)==null?void 0:Ze.call(we))}}async signOut(){var ie,we;return(we=(ie=this.result).signOut)==null?void 0:we.call(ie)}}class l{constructor(ie,we,Ze){Ee(this,"profilePromise");this.identity=ie,this.authApi=we,this.profile=Ze}static createGuest(){return new d}static fromLegacy(ie){return E.fromResult(ie)}static create(ie){return new l(ie.identity,ie.authApi,ie.profile)}getUserId(){const ie=this.identity.userEntityRef,we=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(ie);if(!we)throw new TypeError(`Invalid user entity reference "${ie}"`);return we[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(ie){throw this.profilePromise=void 0,ie}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}var u=e(77277),c=e(60905),r=e(90436),s=e(2784),m=e(49257),f=e(37630),p=e(35182),y=e(70289),C=e(90996),h=e(93006),R=e(92980),O=e(5191),D=e(79692);const x=(0,D.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),B=({children:ze})=>{const ie=x();return s.createElement(c.Z,{component:"li",item:!0,classes:ie},ze)};var o=e(32272),T=e(74309),W=e(71911);const z={Component:({config:ze,onSignInStarted:ie,onSignInSuccess:we,onSignInFailure:Ze})=>{const{apiRef:Xe,title:ct,message:Pt}=ze,Ge=(0,t.h_)(Xe),yt=(0,t.h_)(O.V),{t:qe}=(0,W.i)(T.v),Ie=async()=>{try{ie();const We=await Ge.getBackstageIdentity({instantPopup:!0});if(!We)throw Ze(),new Error(`The ${ct} provider is not configured to support sign-in`);const Je=await Ge.getProfile();we(l.create({identity:We.identity,profile:Je,authApi:Ge}))}catch(We){Ze(),yt.post(new o.SP(qe("signIn.loginFailed"),We))}};return s.createElement(B,null,s.createElement(h.r,{variant:"fullHeight",title:ct,actions:s.createElement(u.Z,{color:"primary",variant:"outlined",onClick:Ie},qe("signIn.title"))},s.createElement(r.Z,{variant:"body1"},Pt)))},loader:async(ze,ie)=>{const we=ze.get(ie),Ze=await we.getBackstageIdentity({optional:!0});if(!Ze)return;const Xe=await we.getProfile();return l.create({identity:Ze.identity,profile:Xe,authApi:we})}};var J=e(30195);const Z=J.z.object({providerInfo:J.z.object({}).catchall(J.z.unknown()).optional(),profile:J.z.object({email:J.z.string().optional(),displayName:J.z.string().optional(),picture:J.z.string().optional()}),backstageIdentity:J.z.object({token:J.z.string(),identity:J.z.object({type:J.z.literal("user"),userEntityRef:J.z.string(),ownershipEntityRefs:J.z.array(J.z.string())})})}),L={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function $(ze){const ie=new Date(Date.now()+L.defaultTokenExpiryMillis);if(!ze)return ie;const[we,Ze,Xe]=ze.split("."),ct=JSON.parse(window.atob(Ze));return typeof ct.exp!="number"?ie:new Date(ct.exp*1e3-L.tokenExpiryMarginMillis)}class U{constructor(ie){Ee(this,"options");Ee(this,"abortController");Ee(this,"state");this.options=ie,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:ie}=this.getSessionSync(),we=ie.identity.userEntityRef,Ze=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(we);if(!Ze)throw new TypeError(`Invalid user entity reference "${we}"`);return Ze[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const ie=this.state.type==="active"?this.state.session:void 0,we=this.fetchSession().then(Ze=>(this.state={type:"active",session:Ze,expiresAt:$(Ze.backstageIdentity.token)},Ze),Ze=>{throw this.state={type:"failed",error:Ze},Ze});return this.state={type:"fetching",promise:we,previous:ie},we}async fetchSession(){const ie=await this.options.discoveryApi.getBaseUrl("auth"),we=typeof this.options.headers=="function"?await this.options.headers():this.options.headers,Ze=new Headers(we);Ze.set("X-Requested-With","XMLHttpRequest");const Xe=await fetch(`${ie}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:Ze,credentials:"include"});if(!Xe.ok)throw await o.VL.fromResponse(Xe);return Z.parse(await Xe.json())}}var Y=e(86477),S=e(76940);const b=async ze=>{try{return await ze.getBackstageIdentity()}catch(ie){if(ie.name==="ResponseError"&&ie.cause.name==="NotFoundError")return;throw ie}},le={Component:({onSignInStarted:ze,onSignInSuccess:ie,onSignInFailure:we})=>{const Ze=(0,t.h_)(Y.N),[Xe,ct]=(0,S.Z)("enableLegacyGuestToken"),{t:Pt}=(0,W.i)(T.v),Ge=async()=>{ze();const yt=new U({provider:"guest",discoveryApi:Ze});if(!await b(yt).catch(Ie=>{console.warn(`Failed to sign in as a guest, ${Ie}`)})){if(confirm("Failed to sign in as a guest using the auth backend. Do you want to fallback to the legacy guest token?")){ct(!0),ie(new d);return}throw we(),new Error("You cannot sign in as a guest, you must either enable the legacy guest token or configure the auth backend to support guest sign in.")}ie(yt)};return s.createElement(B,null,s.createElement(h.r,{title:"Guest",variant:"fullHeight",actions:s.createElement(u.Z,{color:"primary",variant:"outlined",onClick:Ge},Pt("signIn.guestProvider.enter"))},s.createElement(r.Z,{variant:"body1",style:{whiteSpace:"pre-line"}},Pt("signIn.guestProvider.subtitle"))))},loader:async ze=>{const ie=localStorage.getItem("enableLegacyGuestToken")==="true",we=new U({provider:"guest",discoveryApi:ze.get(Y.N)}),Ze=await b(we).catch(Xe=>{console.warn(`Failed to sign in as a guest, ${Xe}`)});if(!(!Ze&&!ie)){if(Ze&&ie)if(confirm("You are currently using the legacy guest token, but you have the new guest backend module installed. Do you want to use the new module?"))localStorage.removeItem("enableLegacyGuestToken");else return new d;else if(ie)return new d;return we}}};var _=e(63955),te=e(42494),de=e(86619),re=e(74828),ae=e(45455),oe=e.n(ae);const ne=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,he=(0,D.Z)(ze=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:ze.spacing(2)},subTitle:{whiteSpace:"pre-line"}}),{name:"BackstageCustomProvider"}),Le=ze=>{const{ref:ie,...we}=ze;return{inputRef:ie,...we}},xe={Component:({onSignInStarted:ze,onSignInSuccess:ie})=>{const we=he(),{t:Ze}=(0,W.i)(T.v),{register:Xe,handleSubmit:ct,formState:Pt}=(0,_.cI)({mode:"onChange"}),{errors:Ge}=Pt,yt=({userId:qe,idToken:Ie})=>{ze(),ie(l.fromLegacy({userId:qe,getIdToken:Ie!==void 0?async()=>Ie:void 0,profile:{email:`${qe}@example.com`}}))};return s.createElement(B,null,s.createElement(h.r,{title:Ze("signIn.customProvider.title"),variant:"fullHeight"},s.createElement(r.Z,{variant:"body1",className:we.subTitle},Ze("signIn.customProvider.subtitle")),s.createElement("form",{className:we.form,onSubmit:ct(yt)},s.createElement(te.Z,null,s.createElement(de.Z,{...Le(Xe("userId",{required:!0})),label:Ze("signIn.customProvider.userId"),margin:"normal",error:!!Ge.userId}),Ge.userId&&s.createElement(re.Z,{error:!0},Ge.userId.message)),s.createElement(te.Z,null,s.createElement(de.Z,{...Le(Xe("idToken",{required:!1,validate:qe=>!qe||ne.test(qe)||Ze("signIn.customProvider.tokenInvalid")})),label:Ze("signIn.customProvider.idToken"),margin:"normal",autoComplete:"off",error:!!Ge.idToken}),Ge.idToken&&s.createElement(re.Z,{error:!0},Ge.idToken.message)),s.createElement(u.Z,{type:"submit",color:"primary",variant:"outlined",className:we.button,disabled:!(Pt!=null&&Pt.isDirty)||!oe()(Ge)},Ze("signIn.customProvider.continue")))))},loader:async()=>{}};class fe{constructor(ie){this.config=ie}static from(ie){return new fe(ie)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const Me="@backstage/core:SignInPage:provider",Ce={guest:le,custom:xe,common:z};function Ae(ze,ie){if(ze in ie)throw new Error(`"${ze}" ID is duplicated. IDs of identity providers have to be unique.`)}function Be(ze){return ze.reduce((we,Ze)=>{if(typeof Ze=="string")return Ae(Ze,we),we[Ze]={components:Ce[Ze],id:Ze},we;const{id:Xe}=Ze;return Ae(Xe,we),we[Xe]={components:Ce.common,id:Xe,config:Ze},we},{})}const ht=(ze,ie)=>{const we=(0,t.h_)(O.V),Ze=(0,t.I_)(),[Xe,ct]=(0,s.useState)(!0),Pt=(0,s.useCallback)(yt=>{ie(fe.from({identityApi:yt,signOut:async()=>{var qe;localStorage.removeItem(Me),await((qe=yt.signOut)==null?void 0:qe.call(yt))}}))},[ie]);(0,s.useLayoutEffect)(()=>{var We;if(!Xe)return;const yt=localStorage.getItem(Me);if(yt===null){ct(!1);return}const qe=ze[yt];if(!qe){ct(!1);return}let Ie=!1;return qe.components.loader(Ze,(We=qe.config)==null?void 0:We.apiRef).then(Je=>{if(Ie){localStorage.removeItem(Me);return}Je?Pt(Je):ct(!1)}).catch(Je=>{localStorage.removeItem(Me),!Ie&&(we.post(Je),ct(!1))}),()=>{Ie=!0}},[Xe,we,ie,Ze,ze,Pt]);const Ge=(0,s.useMemo)(()=>Object.keys(ze).map(yt=>{const qe=ze[yt],{Component:Ie}=qe.components,We=Ve=>{Pt(Ve)},Je=()=>{var Ve;localStorage.setItem(Me,((Ve=qe==null?void 0:qe.config)==null?void 0:Ve.id)||qe.id)},et=()=>{localStorage.removeItem(Me)};return s.createElement(Ie,{key:qe.id,config:qe.config,onSignInStarted:Je,onSignInSuccess:We,onSignInFailure:et})}),[ze,Pt]);return[Xe,Ge]},Lt=({onSignInSuccess:ze,providers:ie=[],title:we,align:Ze="left"})=>{const Xe=(0,t.h_)(i.D),ct=x(),Pt=Be(ie),[Ge,yt]=ht(Pt,ze);return Ge?s.createElement(f.E,null):s.createElement(R.T,{themeId:"home"},s.createElement(C.h,{title:Xe.getString("app.title")}),s.createElement(p.V,null,we&&s.createElement(y.y,{title:we,textAlign:Ze}),s.createElement(c.Z,{container:!0,justifyContent:Ze==="center"?Ze:"flex-start",spacing:2,component:"ul",classes:ct},yt)))},Bt=({provider:ze,auto:ie,onSignInSuccess:we})=>{const Ze=x(),Xe=(0,t.h_)(ze.apiRef),ct=(0,t.h_)(i.D),{t:Pt}=(0,W.i)(T.v),[Ge,yt]=(0,s.useState)(),[qe,Ie]=(0,s.useState)(!1),We=async({checkExisting:Je,showPopup:et})=>{try{let Ve;if(Je&&(Ve=await Xe.getBackstageIdentity({optional:!0})),!Ve&&(et||ie)&&(Ie(!0),Ve=await Xe.getBackstageIdentity({instantPopup:!0}),!Ve))throw new Error(`The ${ze.title} provider is not configured to support sign-in`);if(!Ve){Ie(!0);return}const Ke=await Xe.getProfile();we(l.create({identity:Ve.identity,authApi:Xe,profile:Ke}))}catch(Ve){yt(Ve),Ie(!0)}};return(0,m.n)(()=>We({checkExisting:!0})),qe?s.createElement(R.T,{themeId:"home"},s.createElement(C.h,{title:ct.getString("app.title")}),s.createElement(p.V,null,s.createElement(c.Z,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:Ze},s.createElement(B,null,s.createElement(h.r,{variant:"fullHeight",title:ze.title,actions:s.createElement(u.Z,{color:"primary",variant:"outlined",onClick:()=>{We({showPopup:!0})}},Pt("signIn.title"))},s.createElement(r.Z,{variant:"body1"},ze.message),Ge&&Ge.name!=="PopupRejectedError"&&s.createElement(r.Z,{variant:"body1",color:"error"},Ge.message)))))):s.createElement(f.E,null)};function ft(ze){return"provider"in ze?s.createElement(Bt,{...ze}):s.createElement(Lt,{...ze})}},74309:(k,v,e)=>{e.d(v,{v:()=>i});var t=e(91334);const i=(0,t.F)({id:"core-components",messages:{signIn:{title:"Sign In",loginFailed:"Login failed",customProvider:{title:"Custom User",subtitle:`Enter your own User ID and credentials.
 This selection will not be stored.`,userId:"User ID",tokenInvalid:"Token is not a valid OpenID Connect JWT Token",continue:"Continue",idToken:"ID Token (optional)"},guestProvider:{title:"Guest",subtitle:`Enter as a Guest User.
 You will not have a verified identity, meaning some features might be unavailable.`,enter:"Enter"}},skipToContent:"Skip to content",copyTextButton:{tooltipText:"Text copied to clipboard"},simpleStepper:{reset:"Reset",finish:"Finish",next:"Next",skip:"Skip",back:"Back"},errorPage:{subtitle:"ERROR {{status}}: {{statusMessage}}",title:"Looks like someone dropped the mic!",goBack:"Go back",showMoreDetails:"Show more details",showLessDetails:"Show less details"},emptyState:{missingAnnotation:{title:"Missing Annotation",actionTitle:"Add the annotation to your component YAML as shown in the highlighted example below:",readMore:"Read more"}},supportConfig:{default:{title:"Support Not Configured",linkTitle:"Add `app.support` config key"}},errorBoundary:{title:"Please contact {{slackChannel}} for help."},oauthRequestDialog:{title:"Login Required",authRedirectTitle:"This will trigger a http redirect to OAuth Login.",login:"Log in",rejectAll:"Reject All"},supportButton:{title:"Support",close:"Close"},table:{filter:{title:"Filters",clearAll:"Clear all"}},alertDisplay:{message_one:"({{ count }} older message)",message_other:"({{ count }} older messages)"},autoLogout:{stillTherePrompt:{title:"Logging out due to inactivity",buttonText:"Yes! Don't log me out"}},proxiedSignInPage:{title:"You do not appear to be signed in. Please try reloading the browser page."}}})},76777:(k,v,e)=>{e.d(v,{O:()=>n,f:()=>E});var t=e(18473),i=e(2784);const d=(0,t.CT)("analytics-context"),n=()=>{const l=(0,i.useContext)(d);if(l===void 0)return{routeRef:"unknown",pluginId:"root",extension:"App"};const u=l.atVersion(1);if(u===void 0)throw new Error("No context found for version 1.");return u},E=l=>{const{attributes:u,children:c}=l,s={...n(),...u},m=(0,t.EI)({1:s});return i.createElement(d.Provider,{value:m},c)}},31799:(k,v,e)=>{e.d(v,{f:()=>n,h:()=>d});var t=e(18473);const i=(0,t.uW)("core-plugin-api:analytics-tracker-events",()=>({mostRecentGatheredNavigation:void 0,mostRecentRoutableExtensionRender:void 0,beforeUnloadRegistered:!1})),d="_ROUTABLE-EXTENSION-RENDERED";class n{constructor(l,u={routeRef:"unknown",pluginId:"root",extension:"App"}){this.analyticsApi=l,this.context=u,i.beforeUnloadRegistered||(addEventListener("beforeunload",()=>{i.mostRecentGatheredNavigation&&(this.analyticsApi.captureEvent({...i.mostRecentGatheredNavigation,...i.mostRecentRoutableExtensionRender}),i.mostRecentGatheredNavigation=void 0,i.mostRecentRoutableExtensionRender=void 0)},{once:!0,passive:!0}),i.beforeUnloadRegistered=!0)}setContext(l){this.context=l}captureEvent(l,u,{value:c,attributes:r}={}){const{_routeNodeType:s,...m}=this.context;if(l===d){i.mostRecentGatheredNavigation&&(i.mostRecentRoutableExtensionRender={context:{...m,extension:"App"}});return}if(i.mostRecentGatheredNavigation){try{this.analyticsApi.captureEvent({...i.mostRecentGatheredNavigation,...i.mostRecentRoutableExtensionRender})}catch(f){console.warn("Error during analytics event capture. %o",f)}i.mostRecentGatheredNavigation=void 0,i.mostRecentRoutableExtensionRender=void 0}if(l==="navigate"&&s==="gathered"&&m.pluginId==="root"){i.mostRecentGatheredNavigation={action:l,subject:u,value:c,attributes:r,context:m};return}try{this.analyticsApi.captureEvent({action:l,subject:u,value:c,attributes:r,context:m})}catch(f){console.warn("Error during analytics event capture. %o",f)}}}},92641:(k,v,e)=>{e.d(v,{z:()=>u});var t=e(76777),i=e(59274),d=e(38188),n=e(2784),E=e(31799);function l(){try{return(0,i.h_)(d.v)}catch{return{captureEvent:()=>{}}}}function u(){const c=(0,n.useRef)(null),r=(0,t.O)(),s=l();function m(){return c.current===null&&(c.current=new E.f(s)),c.current}const f=m();return f.setContext(r),f}},95475:(k,v,e)=>{e.d(v,{$:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.alert"})},38188:(k,v,e)=>{e.d(v,{v:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.analytics"})},10093:(k,v,e)=>{e.d(v,{I:()=>i});var t=e(45133);const i=(0,t.T)({id:"core.applanguage"})},17834:(k,v,e)=>{e.d(v,{h:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.apptheme"})},58185:(k,v,e)=>{e.d(v,{D:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.config"})},86477:(k,v,e)=>{e.d(v,{N:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.discovery"})},5191:(k,v,e)=>{e.d(v,{V:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.error"})},30029:(k,v,e)=>{e.d(v,{C:()=>d,W:()=>n});var t=e(2784),i=e(45133),d=(E=>(E[E.None=0]="None",E[E.Active=1]="Active",E))(d||{});const n=(0,i.T)({id:"core.featureflags"})},75341:(k,v,e)=>{e.d(v,{g:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.fetch"})},62039:(k,v,e)=>{e.d(v,{$:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.identity"})},17893:(k,v,e)=>{e.d(v,{Z:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.oauthrequest"})},86987:(k,v,e)=>{e.d(v,{E:()=>d});var t=e(2784),i=e(45133);const d=(0,i.T)({id:"core.storage"})},56690:(k,v,e)=>{e.d(v,{o:()=>i});var t=e(45133);const i=(0,t.T)({id:"core.translation"})},31108:(k,v,e)=>{e.d(v,{D:()=>l,F4:()=>E,Km:()=>m,Kp:()=>n,bq:()=>s,fE:()=>p,gW:()=>r,p_:()=>c,sM:()=>d,uB:()=>f,ux:()=>u});var t=e(2784),i=e(45133),d=(y=>(y.SignedIn="SignedIn",y.SignedOut="SignedOut",y))(d||{});const n=(0,i.T)({id:"core.auth.google"}),E=(0,i.T)({id:"core.auth.github"}),l=(0,i.T)({id:"core.auth.okta"}),u=(0,i.T)({id:"core.auth.gitlab"}),c=(0,i.T)({id:"core.auth.microsoft"}),r=(0,i.T)({id:"core.auth.onelogin"}),s=(0,i.T)({id:"core.auth.bitbucket"}),m=(0,i.T)({id:"core.auth.bitbucket-server"}),f=(0,i.T)({id:"core.auth.atlassian"}),p=(0,i.T)({id:"core.auth.vmware-cloud"})},45133:(k,v,e)=>{e.d(v,{T:()=>i});class t{constructor(n){if(this.config=n,!n.id.split(".").flatMap(l=>l.split("-")).every(l=>l.match(/^[a-z][a-z0-9]*$/)))throw new Error(`API id must only contain period separated lowercase alphanum tokens with dashes, got '${n.id}'`)}get id(){return this.config.id}get T(){throw new Error(`tried to read ApiRef.T of ${this}`)}toString(){return`apiRef{${this.config.id}}`}}function i(d){return new t(d)}},39798:(k,v,e)=>{e.d(v,{n:()=>t});function t(i,d){return"id"in i?{api:i,deps:{},factory:()=>d}:i}},59274:(k,v,e)=>{e.d(v,{I_:()=>n,h_:()=>E});var t=e(2784),i=e(18473),d=e(32272);function n(){const u=(0,i.Vt)("api-context");if(!u)throw new d.nj("API context is not available");const c=u.atVersion(1);if(!c)throw new d.nj("ApiContext v1 not available");return c}function E(u){const r=n().get(u);if(!r)throw new d.nj(`No implementation available for ${u}`);return r}function l(u){return function(r){const s=f=>{const p=n(),y={};for(const C in u)if(u.hasOwnProperty(C)){const h=u[C],R=p.get(h);if(!R)throw new NotImplementedError(`No implementation available for ${h}`);y[C]=R}return React.createElement(r,{...f,...y})},m=r.displayName||r.name||"Component";return s.displayName=`withApis(${m})`,s}}},70666:(k,v,e)=>{e.d(v,{q:()=>i});var t=e(18473);const i=()=>{const d=(0,t.Vt)("app-context");if(!d)throw new Error("App context is not available");const n=d.atVersion(1);if(!n)throw new Error("AppContext v1 not available");return n}},22230:(k,v,e)=>{e.d(v,{I:()=>E,R:()=>n});var t=e(18473);const i=(0,t.uW)("component-data-store",()=>new WeakMap),d="__backstage_data";function n(l,u,c){var m;const r=l;let s=(m=r[d])!=null?m:i.get(l);if(s||(s={map:new Map},Object.defineProperty(r,d,{enumerable:!1,configurable:!0,writable:!1,value:s}),i.set(l,s)),s.map.has(u)){const f=l.displayName||l.name;throw new Error(`Attempted to attach duplicate data "${u}" to component "${f}"`)}s.map.set(u,c)}function E(l,u){var s;if(!l)return;const c=l.type;if(!c)return;const r=(s=c[d])!=null?s:i.get(c);if(r)return r.map.get(u)}},20802:(k,v,e)=>{e.d(v,{CO:()=>s,YO:()=>m,P4:()=>r});var t=e(2784),i=e(76777),d=e(92641),n=e(70666),E=e(51491),l=e(22230);class u extends t.Component{constructor(){super(...arguments);Ee(this,"state",{error:void 0});Ee(this,"handleErrorReset",()=>{this.setState({error:void 0})})}static getDerivedStateFromError(y){return{error:y}}render(){const{error:y}=this.state,{app:C,plugin:h}=this.props,{ErrorBoundaryFallback:R}=C.getComponents();return y?t.createElement(R,{error:y,resetError:this.handleErrorReset,plugin:h}):this.props.children}}var c=e(31799);function r(f){const{component:p,mountPoint:y,name:C}=f;return m({component:{lazy:()=>p().then(h=>{const R=D=>{const x=(0,d.z)();try{(0,E.t)(y)}catch(B){if(typeof B=="object"&&B!==null){const{message:o}=B;if(typeof o=="string"&&o.startsWith("No path for "))throw new Error(`Routable extension component with mount point ${y} was not discovered in the app element tree. Routable extension components may not be rendered by other components and must be directly available as an element within the App provider component.`)}throw B}return(0,t.useEffect)(()=>{x.captureEvent(c.h,"")},[x]),t.createElement(h,{...D})},O=C||h.displayName||h.name||"LazyComponent";return R.displayName=`RoutableExtension(${O})`,R},h=>O=>{const D=(0,n.q)(),{BootErrorPage:x}=D.getComponents();return t.createElement(x,{step:"load-chunk",error:h})})},data:{"core.mountPoint":y},name:C})}function s(f){const{component:p,name:y}=f;return m({component:p,name:y})}function m(f){const{data:p={},name:y}=f;y||console.warn("Declaring extensions without name is DEPRECATED. Make sure that all usages of createReactExtension, createComponentExtension and createRoutableExtension provide a name.");let C;if("lazy"in f.component){const R=f.component.lazy;C=(0,t.lazy)(()=>R().then(O=>({default:O})))}else C=f.component.sync;const h=y||C.displayName||C.name||"Component";return{expose(R){const O=D=>{const x=(0,n.q)(),{Progress:B}=x.getComponents(),o=p==null?void 0:p["core.mountPoint"];return t.createElement(t.Suspense,{fallback:t.createElement(B,null)},t.createElement(u,{app:x,plugin:R},t.createElement(i.f,{attributes:{pluginId:R.getId(),...y&&{extension:y},...o&&{routeRef:o.id}}},t.createElement(C,{...D}))))};(0,l.R)(O,"core.plugin",R),(0,l.R)(O,"core.extensionName",y);for(const[D,x]of Object.entries(p))(0,l.R)(O,D,x);return O.displayName=`Extension(${h})`,O}}}},32430:(k,v,e)=>{e.d(v,{v:()=>u});var t=e(2784),i=e(22230),d=e(59274),n=e(30029);function E(c,r,s,m){return t.Children.toArray(c).flatMap(f=>{if(!(0,t.isValidElement)(f))return[];if(f.type===t.Fragment)return E(f.props.children,r,s,m);if((0,i.I)(f,"core.featureFlagged")){const p=f.props;return("with"in p?r.isActive(p.with):!r.isActive(p.without))?E(f.props.children,r,s,m):[]}if(s===void 0||s(f))return[f];if(m)throw new Error(m);return E(f.props.children,r,s,m)})}class l{constructor(r,s){this.node=r,this.featureFlagsApi=s}selectByComponentData(r){const s=E(this.node,this.featureFlagsApi,m=>(0,i.I)(m,r.key)!==void 0,r.withStrictError);return new l(s,this.featureFlagsApi)}findComponentData(r){return E(this.node,this.featureFlagsApi,m=>(0,i.I)(m,r.key)!==void 0).map(m=>(0,i.I)(m,r.key)).filter(m=>m!==void 0)}getElements(){return E(this.node,this.featureFlagsApi)}}function u(c,r,s=[]){const m=(0,d.h_)(n.W),f=new l(c,m);return(0,t.useMemo)(()=>r(f),[c,...s])}},72951:(k,v,e)=>{e.d(v,{r:()=>i});class t{constructor(n){this.config=n}getId(){return this.config.id}getApis(){var n;return(n=this.config.apis)!=null?n:[]}getFeatureFlags(){var n,E;return(E=(n=this.config.featureFlags)==null?void 0:n.slice())!=null?E:[]}get routes(){var n;return(n=this.config.routes)!=null?n:{}}get externalRoutes(){var n;return(n=this.config.externalRoutes)!=null?n:{}}provide(n){return n.expose(this)}toString(){return`plugin{${this.config.id}}`}}function i(d){return new t(d)}},31916:(k,v,e)=>{var n;e.d(v,{x:()=>d});var t=e(98382);n=t.K;class i{constructor(l,u,c,r){Ee(this,n,"external");this.id=l,this.params=u,this.optional=c,this.defaultTarget=r}toString(){return`routeRef{type=external,id=${this.id}}`}getDefaultTarget(){return this.defaultTarget}}function d(E){var l;return new i(E.id,(l=E.params)!=null?l:[],!!E.optional,E==null?void 0:E.defaultTarget)}},171:(k,v,e)=>{var n;e.d(v,{N:()=>d});var t=e(98382);n=t.K;class i{constructor(l,u){Ee(this,n,"absolute");this.id=l,this.params=u}get title(){return this.id}toString(){return`routeRef{type=absolute,id=${this.id}}`}}function d(E){var l;return new i(E.id,(l=E.params)!=null?l:[])}},47322:(k,v,e)=>{var E;e.d(v,{R:()=>n});var t=e(98382);const i=/^\w+$/;E=t.K;class d{constructor(u,c,r,s){Ee(this,E,"sub");this.id=u,this.path=c,this.parent=r,this.params=s}toString(){return`routeRef{type=sub,id=${this.id}}`}}function n(l){const{id:u,path:c,parent:r}=l,s=c.split("/").filter(p=>p.startsWith(":")).map(p=>p.substring(1)),m=[...r.params,...s];if(r.params.some(p=>s.includes(p)))throw new Error("SubRouteRef may not have params that overlap with its parent");if(!c.startsWith("/"))throw new Error(`SubRouteRef path must start with '/', got '${c}'`);if(c.endsWith("/"))throw new Error(`SubRouteRef path must not end with '/', got '${c}'`);for(const p of s)if(!i.test(p))throw new Error(`SubRouteRef path has invalid param, got '${p}'`);return new d(u,c,r,m)}},98382:(k,v,e)=>{e.d(v,{K:()=>i});var t=e(18473);const i=(0,t.uW)("route-ref-type",()=>Symbol("route-ref-type"))},51491:(k,v,e)=>{e.d(v,{t:()=>n});var t=e(2784),i=e(73557),d=e(18473);function n(E){const{pathname:l}=(0,i.TH)(),u=(0,d.Vt)("routing-context");if(!u)throw new Error("Routing context is not available");const c=u.atVersion(1),r=(0,t.useMemo)(()=>c&&c.resolve(E,{pathname:l}),[c,E,l]);if(!u)throw new Error("useRouteRef used outside of routing context");if(!c)throw new Error("RoutingContext v1 not available");const s="optional"in E&&E.optional;if(!r&&!s)throw new Error(`No path for ${E}`);return r}},37224:(k,v,e)=>{e.d(v,{O:()=>i});var t=e(73557);function i(d){return(0,t.UO)()}},91334:(k,v,e)=>{var E,l,u;e.d(v,{F:()=>n});function t(c){return{$$type:"@backstage/TranslationResource",version:"v1",id:c.ref.id,resources:Object.entries(c.translations).map(([r,s])=>({language:r,loader:()=>s().then(m=>{const f=m.default;return{messages:(f==null?void 0:f.$$type)==="@backstage/TranslationMessages"?f.messages:f}})}))}}function i(c){const r=new Array;function s(m,f){for(const[p,y]of Object.entries(m))typeof y=="string"?r.push([f+p,y]):s(y,`${f}${p}.`)}return s(c,""),Object.fromEntries(r)}class d{constructor(r){Rt(this,E);Rt(this,l);Rt(this,u);Ee(this,"$$type","@backstage/TranslationRef");Ee(this,"version","v1");Zt(this,E,r.id),Zt(this,l,i(r.messages))}get id(){return Re(this,E)}get T(){throw new Error("Not implemented")}getDefaultMessages(){return Re(this,l)}setDefaultResource(r){Zt(this,u,r)}getDefaultResource(){return Re(this,u)}toString(){return`TranslationRef{id=${this.id}}`}}E=new WeakMap,l=new WeakMap,u=new WeakMap;function n(c){const r=new d(c);return c.translations&&r.setDefaultResource(t({ref:r,translations:c.translations})),r}},71911:(k,v,e)=>{e.d(v,{i:()=>l});var t=e(2784),i=e(59274),d=e(5191),n=e(56690);const E=new WeakSet,l=u=>{const c=(0,i.h_)(d.V),r=(0,i.h_)(n.o),[s,m]=(0,t.useState)(()=>r.getTranslation(u)),f=(0,t.useMemo)(()=>r.translation$(u),[r,u]),p=(0,t.useCallback)(C=>{if(!E.has(u)){const h=`Failed to load translation resource '${u.id}'; caused by ${C}`;console.error(h),c.post(new Error(h)),E.add(u)}},[c,u]);(0,t.useEffect)(()=>{const C=f.subscribe({next(h){h.ready&&m(h)},error(h){p(h)}});return()=>{C.unsubscribe()}},[f,p]);const y=(0,t.useRef)(!0);if((0,t.useEffect)(()=>{y.current?y.current=!1:m(r.getTranslation(u))},[r,u]),!s.ready)throw new Promise(C=>{const h=f.subscribe({next(R){R.ready&&(h.unsubscribe(),C())},error(R){h.unsubscribe(),p(R),C()}})});return{t:s.t}}},32272:(k,v,e)=>{e.d(v,{BD:()=>n,SP:()=>T,VL:()=>J,VZ:()=>d,dR:()=>O,nj:()=>B});var t=e(24852),i=e.n(t);function d(Z){if(typeof Z!="object"||Z===null||Array.isArray(Z))return!1;const L=Z;return!(typeof L.name!="string"||L.name===""||typeof L.message!="string")}function n(Z){if(typeof Z!="object"||Z===null||Array.isArray(Z))throw new Error(`Encountered invalid error, not an object, got '${Z}'`);const L=Z;if(typeof L.name!="string"||L.name==="")throw new Error(`Encountered error object without a name, got '${Z}'`);if(typeof L.message!="string")throw new Error(`Encountered error object without a message, got '${Z}'`)}function E(Z,L){const U={name:"Unknown",message:"<no reason given>",...serializeError$1(Z)};return L!=null&&L.includeStack||delete U.stack,U}function l(Z){const L=(0,t.deserializeError)(Z);return Z.stack||(L.stack=void 0),L}function u(Z){if(d(Z)){const L=String(Z);return L!=="[object Object]"?L:`${Z.name}: ${Z.message}`}return`unknown error '${Z}'`}var c=Object.defineProperty,r=(Z,L,$)=>L in Z?c(Z,L,{enumerable:!0,configurable:!0,writable:!0,value:$}):Z[L]=$,s=(Z,L,$)=>(r(Z,typeof L!="symbol"?L+"":L,$),$);class m extends Error{constructor(L,$){var U;let Y=L;if($!==void 0){const S=u($);Y?Y+=`; caused by ${S}`:Y=`caused by ${S}`}super(Y),s(this,"cause"),(U=Error.captureStackTrace)==null||U.call(Error,this,this.constructor),(!this.name||this.name==="Error")&&this.constructor.name!=="Error"&&(this.name=this.constructor.name),this.cause=d($)?$:void 0}}var f=Object.defineProperty,p=(Z,L,$)=>L in Z?f(Z,L,{enumerable:!0,configurable:!0,writable:!0,value:$}):Z[L]=$,y=(Z,L,$)=>(p(Z,typeof L!="symbol"?L+"":L,$),$);class C extends m{constructor(){super(...arguments),y(this,"name","InputError")}}class h extends m{constructor(){super(...arguments),y(this,"name","AuthenticationError")}}class R extends m{constructor(){super(...arguments),y(this,"name","NotAllowedError")}}class O extends m{constructor(){super(...arguments),y(this,"name","NotFoundError")}}class D extends m{constructor(){super(...arguments),y(this,"name","ConflictError")}}class x extends m{constructor(){super(...arguments),y(this,"name","NotModifiedError")}}class B extends m{constructor(){super(...arguments),y(this,"name","NotImplementedError")}}class o extends null{}class T extends m{constructor(L,$){super(L,$),this.name=d($)?$.name:"Error"}}async function W(Z){var L;try{const $=await Z.text();if($){if((L=Z.headers.get("content-type"))!=null&&L.startsWith("application/json"))try{const U=JSON.parse($);if(U.error&&U.response)return U}catch{}return{error:{name:"Error",message:`Request failed with status ${Z.status} ${Z.statusText}, ${$}`},response:{statusCode:Z.status}}}}catch{}return{error:{name:"Error",message:`Request failed with status ${Z.status} ${Z.statusText}`},response:{statusCode:Z.status}}}var F=Object.defineProperty,H=(Z,L,$)=>L in Z?F(Z,L,{enumerable:!0,configurable:!0,writable:!0,value:$}):Z[L]=$,z=(Z,L,$)=>(H(Z,typeof L!="symbol"?L+"":L,$),$);class J extends Error{constructor(L){super(L.message),z(this,"response"),z(this,"body"),z(this,"cause"),z(this,"statusCode"),z(this,"statusText"),this.name="ResponseError",this.response=L.response,this.body=L.data,this.cause=L.cause,this.statusCode=L.statusCode,this.statusText=L.statusText}static async fromResponse(L){const $=await W(L),U=$.response.statusCode||L.status,Y=L.statusText,S=`Request failed with ${U} ${Y}`,b=l($.error);return new J({message:S,response:L,data:$,cause:b,statusCode:U,statusText:Y})}}},30447:(k,v,e)=>{var l,u,c,r,s;e.d(v,{z:()=>E});var t=e(39798),i=e(31108),d=e(90861);class n{constructor(p){Rt(this,l);Zt(this,l,p)}async getCredentials(p){const y=new URL(p.url),C=Re(this,l).find(h=>h.isUrlSupported(y));if(!C)throw new Error(`No auth provider available for '${p.url}', see https://backstage.io/link?scm-auth`);return C.getCredentials(p)}}l=new WeakMap;const m=class m{constructor(p,y,C,h){Rt(this,u);Rt(this,c);Rt(this,r);Rt(this,s);Zt(this,u,y),Zt(this,c,C),Zt(this,r,h),Zt(this,s,p)}static createDefaultApiFactory(){return(0,t.n)({api:d.O,deps:{github:i.F4,gitlab:i.ux,azure:i.p_,bitbucket:i.bq},factory:({github:p,gitlab:y,azure:C,bitbucket:h})=>m.merge(m.forGithub(p),m.forGitlab(y),m.forAzure(C),m.forBitbucket(h))})}static forAuthApi(p,y){return new m("generic",p,y.host,y.scopeMapping)}static forGithub(p,y){var h;const C=(h=y==null?void 0:y.host)!=null?h:"github.com";return new m("github",p,C,{default:["repo","read:org","read:user"],repoWrite:["gist"]})}static forGitlab(p,y){var h;const C=(h=y==null?void 0:y.host)!=null?h:"gitlab.com";return new m("gitlab",p,C,{default:["read_user","read_api","read_repository"],repoWrite:["write_repository","api"]})}static forAzure(p,y){var h;const C=(h=y==null?void 0:y.host)!=null?h:"dev.azure.com";return new m("azure",p,C,{default:["499b84ac-1321-427f-aa17-267ca6975798/vso.build","499b84ac-1321-427f-aa17-267ca6975798/vso.code","499b84ac-1321-427f-aa17-267ca6975798/vso.graph","499b84ac-1321-427f-aa17-267ca6975798/vso.project","499b84ac-1321-427f-aa17-267ca6975798/vso.profile"],repoWrite:["499b84ac-1321-427f-aa17-267ca6975798/vso.code_manage"]})}static forBitbucket(p,y){var h;const C=(h=y==null?void 0:y.host)!=null?h:"bitbucket.org";return new m("bitbucket",p,C,{default:["account","team","pullrequest","snippet","issue"],repoWrite:["pullrequest:write","snippet:write","issue:write"]})}static merge(...p){return new n(p)}isUrlSupported(p){return p.host===Re(this,c)}getAdditionalScopesForProvider(p){var y,C;return!(p!=null&&p.customScopes)||Re(this,s)==="generic"?[]:(C=(y=p.customScopes)==null?void 0:y[Re(this,s)])!=null?C:[]}async getCredentials(p){const{url:y,additionalScope:C,...h}=p,R=Re(this,r).default.slice();C!=null&&C.repoWrite&&R.push(...Re(this,r).repoWrite);const O=this.getAdditionalScopesForProvider(C);O.length&&R.push(...O);const D=[...new Set(R)],x=await Re(this,u).getAccessToken(D,h);return{token:x,headers:{Authorization:`Bearer ${x}`}}}};u=new WeakMap,c=new WeakMap,r=new WeakMap,s=new WeakMap;let E=m},90861:(k,v,e)=>{e.d(v,{O:()=>i});var t=e(45133);const i=(0,t.T)({id:"core.scmauth"})},38389:(k,v,e)=>{var dt,ut,mt,ve,G,V,me;e.d(v,{a:()=>et,q:()=>Ve});var t=e(85250);const i="amazonaws.com";function d(ee){var Ht,tn;const M=ee.getOptionalString("endpoint"),j=(Ht=ee.getOptionalBoolean("s3ForcePathStyle"))!=null?Ht:!1;let ue,De;if(M){try{const rn=new URL(M);ue=rn.host,De=rn.pathname}catch{throw new Error(`invalid awsS3 integration config, endpoint '${M}' is not a valid URL`)}if(De!=="/")throw new Error(`invalid awsS3 integration config, endpoints cannot contain path, got '${M}'`)}else ue=i;const je=ee.getOptionalString("accessKeyId"),nt=(tn=ee.getOptionalString("secretAccessKey"))==null?void 0:tn.trim(),Nt=ee.getOptionalString("roleArn"),wt=ee.getOptionalString("externalId");return{host:ue,endpoint:M,s3ForcePathStyle:j,accessKeyId:je,secretAccessKey:nt,roleArn:Nt,externalId:wt}}function n(ee){const M=ee.map(d);return M.some(j=>j.host===i)||M.push({host:i}),M}const Ke=class Ke{constructor(M){this.integrationConfig=M}get type(){return"awsS3"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){return(0,t.FI)(M)}resolveEditUrl(M){return M}};Ee(Ke,"factory",({config:M})=>{var ue;const j=n((ue=M.getOptionalConfigArray("integrations.awsS3"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new Ke(De)),De=>De.config.host)});let E=Ke;const l="console.aws.amazon.com";function u(ee){var Nt;const M=ee.getOptionalString("accessKeyId"),j=(Nt=ee.getOptionalString("secretAccessKey"))==null?void 0:Nt.trim(),ue=ee.getOptionalString("roleArn"),De=ee.getOptionalString("externalId"),je=ee.getString("region");return{host:ee.getOptionalString("host")||`${je}.${l}`,accessKeyId:M,secretAccessKey:j,roleArn:ue,externalId:De,region:je}}function c(ee){return ee.map(u)}const $e=class $e{constructor(M){this.integrationConfig=M}get type(){return"awsCodeCommit"}get config(){return this.integrationConfig}get title(){return this.integrationConfig.host}resolveUrl(M){return(0,t.FI)(M)}resolveEditUrl(M){const ue=new URL(M).pathname.match(/^\/codesuite\/codecommit\/repositories\/([^\/]+)\//);if(!ue)throw new Error("");const[,De]=ue;return s(M,De)}};Ee($e,"factory",({config:M})=>{var ue;const j=c((ue=M.getOptionalConfigArray("integrations.awsCodeCommit"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new $e(De)),De=>De.config.host)});let r=$e;function s(ee,M,j){return ee.replace(new RegExp(`/codesuite/codecommit/repositories/${M}/(browse|files/edit)/`),`/codesuite/codecommit/repositories/${M}/files/edit/`)}const m="GB",be=class be{constructor(M,j,ue,De,je,nt){Rt(this,dt);Rt(this,ut);Rt(this,mt);Rt(this,ve);Rt(this,G);Rt(this,V);Rt(this,me,(...M)=>{const j=new URL(Re(this,dt));return j.pathname=M.map(ue=>encodeURIComponent(ue)).join("/"),j});Zt(this,dt,M),Zt(this,ut,j),Zt(this,mt,ue),Zt(this,ve,De),Zt(this,G,je),Zt(this,V,nt)}static fromRepoUrl(M){var tn;const j=new URL(M);let ue,De,je;const nt=j.pathname.split("/").map(rn=>decodeURIComponent(rn));if(nt[2]==="_git"?(ue=nt[1],De=je=nt[3]):nt[3]==="_git"?(ue=nt[1],De=nt[2],je=nt[4]):nt[4]==="_git"&&(ue=`${nt[1]}/${nt[2]}`,De=nt[3],je=nt[5]),!ue||!De||!je)throw new Error("Azure URL must point to a git repository");const Nt=(tn=j.searchParams.get("path"))!=null?tn:void 0;let wt;const Ht=j.searchParams.get("version");if(Ht){if(Ht.slice(0,2)!=="GB")throw new Error("Azure URL version must point to a git branch");wt=Ht.slice(2)}return new be(j.origin,ue,De,je,Nt,wt)}toRepoUrl(){let M;return Re(this,mt)===Re(this,ve)?M=Re(this,me).call(this,Re(this,ut),"_git",Re(this,ve)):M=Re(this,me).call(this,Re(this,ut),Re(this,mt),"_git",Re(this,ve)),Re(this,G)&&M.searchParams.set("path",Re(this,G)),Re(this,V)&&M.searchParams.set("version",m+Re(this,V)),M.toString()}toFileUrl(){if(!Re(this,G))throw new Error("Azure URL must point to a specific path to be able to download a file");const M=Re(this,me).call(this,Re(this,ut),Re(this,mt),"_apis","git","repositories",Re(this,ve),"items");return M.searchParams.set("api-version","6.0"),M.searchParams.set("path",Re(this,G)),Re(this,V)&&M.searchParams.set("version",Re(this,V)),M.toString()}toArchiveUrl(){const M=Re(this,me).call(this,Re(this,ut),Re(this,mt),"_apis","git","repositories",Re(this,ve),"items");return M.searchParams.set("recursionLevel","full"),M.searchParams.set("download","true"),M.searchParams.set("api-version","6.0"),Re(this,G)&&M.searchParams.set("scopePath",Re(this,G)),Re(this,V)&&M.searchParams.set("version",Re(this,V)),M.toString()}toCommitsUrl(){const M=Re(this,me).call(this,Re(this,ut),Re(this,mt),"_apis","git","repositories",Re(this,ve),"commits");return M.searchParams.set("api-version","6.0"),Re(this,V)&&M.searchParams.set("searchCriteria.itemVersion.version",Re(this,V)),M.toString()}getOwner(){return Re(this,ut)}getProject(){return Re(this,mt)}getRepo(){return Re(this,ve)}getPath(){return Re(this,G)}getRef(){return Re(this,V)}};dt=new WeakMap,ut=new WeakMap,mt=new WeakMap,ve=new WeakMap,G=new WeakMap,V=new WeakMap,me=new WeakMap;let f=be;const p="dev.azure.com",y=["clientId","clientSecret","tenantId","personalAccessToken"],C=new Map([["ClientSecret",["clientId","clientSecret","tenantId"]],["ManagedIdentity",["clientId"]],["PersonalAccessToken",["personalAccessToken"]]]);function h(ee){for(const M of C.entries()){const[j,ue]=M,De=y.filter(je=>!ue.includes(je));if(ue.every(je=>ee[je]!==void 0)&&De.every(je=>ee[je]===void 0))return{kind:j,organizations:ee.organizations,...ue.reduce((je,nt)=>(je[nt]=ee[nt],je),{})}}throw new Error("is not a valid credential")}function R(ee){var je,nt,Nt,wt,Ht,tn,rn;const M=(je=ee.getOptionalString("host"))!=null?je:p;let j=(nt=ee.getOptionalConfigArray("credentials"))==null?void 0:nt.map(Ft=>{var on,sn;return{organizations:Ft.getOptionalStringArray("organizations"),personalAccessToken:(on=Ft.getOptionalString("personalAccessToken"))==null?void 0:on.trim(),tenantId:Ft.getOptionalString("tenantId"),clientId:Ft.getOptionalString("clientId"),clientSecret:(sn=Ft.getOptionalString("clientSecret"))==null?void 0:sn.trim()}});const ue=(Nt=ee.getOptionalString("token"))==null?void 0:Nt.trim();if(ee.getOptional("credential")!==void 0&&ee.getOptional("credentials")!==void 0)throw new Error("Invalid Azure integration config, 'credential' and 'credentials' cannot be used together. Use 'credentials' instead.");if(ee.getOptional("token")!==void 0&&ee.getOptional("credentials")!==void 0)throw new Error("Invalid Azure integration config, 'token' and 'credentials' cannot be used together. Use 'credentials' instead.");if(ue!==void 0){const Ft=[{personalAccessToken:ue}];j=(wt=j==null?void 0:j.concat(Ft))!=null?wt:Ft}if(ee.getOptional("credential")!==void 0){const Ft=[{organizations:ee.getOptionalStringArray("credential.organizations"),token:(Ht=ee.getOptionalString("credential.token"))==null?void 0:Ht.trim(),tenantId:ee.getOptionalString("credential.tenantId"),clientId:ee.getOptionalString("credential.clientId"),clientSecret:(tn=ee.getOptionalString("credential.clientSecret"))==null?void 0:tn.trim()}];j=(rn=j==null?void 0:j.concat(Ft))!=null?rn:Ft}if(!(0,t.bK)(M))throw new Error(`Invalid Azure integration config, '${M}' is not a valid host`);let De;if(j!==void 0){const Ft=j==null?void 0:j.reduce((Wt,on,sn)=>{let dn;try{h(on)}catch(hn){dn=hn.message}return dn!==void 0&&Wt.push(`credential at position ${sn+1} ${dn}`),Wt},Array.of()).concat(Object.entries(j.filter(Wt=>Wt.organizations!==void 0&&Wt.organizations.length>0).reduce((Wt,on,sn)=>{var dn;return(dn=on.organizations)==null||dn.forEach(hn=>{Wt[hn]||(Wt[hn]=[]),Wt[hn].push(sn+1)}),Wt},{})).filter(([Wt,on])=>on.length>1).reduce((Wt,[on,sn])=>(Wt.push(`organization ${on} is specified multiple times in credentials at positions ${sn.slice(0,sn.length-1).join(", ")} and ${sn[sn.length-1]}`),Wt),Array.of()));if((Ft==null?void 0:Ft.length)>0)throw new Error(`Invalid Azure integration config for ${M}: ${Ft.join("; ")}`);if(De=j.map(Wt=>h(Wt)),De.some(Wt=>Wt.kind!=="PersonalAccessToken")&&M!==p)throw new Error(`Invalid Azure integration config for ${M}, only personal access tokens can be used with hosts other than ${p}`);if(De.filter(Wt=>Wt.organizations===void 0||Wt.organizations.length===0).length>1)throw new Error(`Invalid Azure integration config for ${M}, you cannot specify multiple credentials without organizations`)}return{host:M,credentials:De}}function O(ee){const M=ee.map(R);return M.some(j=>j.host===p)||M.push({host:p}),M}const Oe=class Oe{constructor(M){this.integrationConfig=M}get type(){return"azure"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){var De;const{url:j,base:ue}=M;if((0,t.jv)(j))return j;try{const je=f.fromRepoUrl(ue),nt=new URL(ue),Nt=new URL(`https://a.com${(De=je.getPath())!=null?De:""}`),wt=new URL(j,Nt).pathname;return nt.searchParams.set("path",wt),M.lineNumber&&(nt.searchParams.set("line",String(M.lineNumber)),nt.searchParams.set("lineEnd",String(M.lineNumber+1)),nt.searchParams.set("lineStartColumn","1"),nt.searchParams.set("lineEndColumn","1")),nt.toString()}catch{return new URL(j,ue).toString()}}resolveEditUrl(M){return M}};Ee(Oe,"factory",({config:M})=>{var ue;const j=O((ue=M.getOptionalConfigArray("integrations.azure"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new Oe(De)),De=>De.config.host)});let D=Oe;var x=e(82717),B=e.n(x);const o="bitbucket.org",T="https://api.bitbucket.org/2.0";function W(ee){var je;const M=o,j=T,ue=ee.getString("username"),De=(je=ee.getString("appPassword"))==null?void 0:je.trim();return{host:M,apiBaseUrl:j,username:ue,appPassword:De}}function F(ee){const M=ee.map(W);return M.length===0&&M.push({host:o,apiBaseUrl:T}),M}const ot=class ot{constructor(M){this.integrationConfig=M}get type(){return"bitbucketCloud"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){const j=(0,t.FI)(M);if(M.lineNumber){const ue=new URL(j);return ue.hash=`lines-${M.lineNumber}`,ue.toString()}return j}resolveEditUrl(M){const j=B()(M),ue=new URL(M);return ue.searchParams.set("mode","edit"),ue.searchParams.set("at",j.ref),ue.toString()}};Ee(ot,"factory",({config:M})=>{var ue;const j=F((ue=M.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new ot(De)),De=>De.config.host)});let H=ot;var z=e(76635);const J="bitbucket.org",Z="https://api.bitbucket.org/2.0";function L(ee){var nt,Nt,wt;const M=(nt=ee.getOptionalString("host"))!=null?nt:J;let j=ee.getOptionalString("apiBaseUrl");const ue=(Nt=ee.getOptionalString("token"))==null?void 0:Nt.trim(),De=ee.getOptionalString("username"),je=(wt=ee.getOptionalString("appPassword"))==null?void 0:wt.trim();if(!(0,t.bK)(M))throw new Error(`Invalid Bitbucket integration config, '${M}' is not a valid host`);return j?j=(0,z.trimEnd)(j,"/"):M===J?j=Z:j=`https://${M}/rest/api/1.0`,{host:M,apiBaseUrl:j,token:ue,username:De,appPassword:je}}function $(ee){const M=ee.map(L);return M.some(j=>j.host===J)||M.push({host:J,apiBaseUrl:Z}),M}const Qe=class Qe{constructor(M){this.integrationConfig=M}get type(){return"bitbucket"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){const j=(0,t.FI)(M);if(!M.lineNumber)return j;const ue=new URL(j);return this.integrationConfig.host==="bitbucket.org"?ue.hash=`lines-${M.lineNumber}`:ue.hash=`${M.lineNumber}`,ue.toString()}resolveEditUrl(M){const j=B()(M),ue=new URL(M);return ue.searchParams.set("mode","edit"),ue.searchParams.set("spa","0"),ue.searchParams.set("at",j.ref),ue.toString()}};Ee(Qe,"factory",({config:M})=>{var ue,De,je;const j=$((je=M.getOptionalConfigArray("integrations.bitbucket"))!=null?je:[...(ue=M.getOptionalConfigArray("integrations.bitbucketCloud"))!=null?ue:[],...(De=M.getOptionalConfigArray("integrations.bitbucketServer"))!=null?De:[]]);return(0,t.gz)(j.map(nt=>new Qe(nt)),nt=>nt.config.host)});let U=Qe;function Y(ee){var nt;const M=ee.getString("host");let j=ee.getOptionalString("apiBaseUrl");const ue=(nt=ee.getOptionalString("token"))==null?void 0:nt.trim(),De=ee.getOptionalString("username"),je=ee.getOptionalString("password");if(!(0,t.bK)(M))throw new Error(`Invalid Bitbucket Server integration config, '${M}' is not a valid host`);return j?j=(0,z.trimEnd)(j,"/"):j=`https://${M}/rest/api/1.0`,{host:M,apiBaseUrl:j,token:ue,username:De,password:je}}function S(ee){return ee.map(Y)}const St=class St{constructor(M){this.integrationConfig=M}get type(){return"bitbucketServer"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){const j=(0,t.FI)(M);if(M.lineNumber){const ue=new URL(j);return ue.hash=M.lineNumber.toString(),ue.toString()}return j}resolveEditUrl(M){return M.includes("?")?M.substring(0,M.indexOf("?")):M}};Ee(St,"factory",({config:M})=>{var ue;const j=S((ue=M.getOptionalConfigArray("integrations.bitbucketServer"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new St(De)),De=>De.config.host)});let b=St;function K(ee){var Nt;const M=ee.getString("host");let j=ee.getOptionalString("baseUrl"),ue=ee.getOptionalString("cloneUrl"),De=ee.getString("gitilesBaseUrl");const je=ee.getOptionalString("username"),nt=(Nt=ee.getOptionalString("password"))==null?void 0:Nt.trim();if((0,t.bK)(M)){if(j&&!(0,t.jv)(j))throw new Error(`Invalid Gerrit integration config, '${j}' is not a valid baseUrl`);if(ue&&!(0,t.jv)(ue))throw new Error(`Invalid Gerrit integration config, '${ue}' is not a valid cloneUrl`);if(!(0,t.jv)(De))throw new Error(`Invalid Gerrit integration config, '${De}' is not a valid gitilesBaseUrl`)}else throw new Error(`Invalid Gerrit integration config, '${M}' is not a valid host`);return j?j=(0,z.trimEnd)(j,"/"):j=`https://${M}`,De?De=(0,z.trimEnd)(De,"/"):De=`https://${M}`,ue?ue=(0,z.trimEnd)(ue,"/"):ue=j,{host:M,baseUrl:j,cloneUrl:ue,gitilesBaseUrl:De,username:je,password:nt}}function se(ee){return ee.map(K)}var le=e(48834).Buffer;const _=")]}'";function te(ee,M){const j=new URL(ee.gitilesBaseUrl),ue=new URL(M),je=ue.pathname.substring(ue.pathname.startsWith("/a/")?2:0).replace(j.pathname,"").split("/").filter(rn=>!!rn),nt=je.indexOf("+");if(nt<=0)throw new Error(`Unable to parse project from url: ${M}`);const Nt=(0,z.trimStart)(je.slice(0,nt).join("/"),"/"),wt=je.indexOf("heads");if(wt<=0)throw new Error(`Unable to parse branch from url: ${M}`);const Ht=je[wt+1],tn=je.slice(wt+2).join("/");return{branch:Ht,filePath:tn===""?"/":tn,project:Nt}}function de(ee,M,j,ue){return`${ee.gitilesBaseUrl}/${M}/+/refs/heads/${j}/${(0,z.trimStart)(ue,"/")}`}function re(ee,M,j,ue){const De=ue==="/"||ue===""?".tar.gz":`/${ue}.tar.gz`;return`${oe(ee)}/${M}/+archive/refs/heads/${j}${De}`}function ae(ee){return ee.password?"/a/":"/"}function oe(ee){if(!ee.baseUrl||!ee.gitilesBaseUrl)throw new Error("Unexpected Gerrit config values. baseUrl or gitilesBaseUrl not set.");if(ee.gitilesBaseUrl.startsWith(ee.baseUrl))return ee.gitilesBaseUrl.replace(ee.baseUrl.concat("/"),ee.baseUrl.concat(ae(ee)));if(ee.password)throw new Error("Since the baseUrl (Gerrit) is not part of the gitilesBaseUrl, an authentication URL could not be constructed.");return ee.gitilesBaseUrl}function ne(ee,M){const{branch:j,project:ue}=te(ee,M);return`${ee.baseUrl}${ae(ee)}projects/${encodeURIComponent(ue)}/branches/${j}`}function he(ee,M){const{project:j}=te(ee,M);return`${ee.cloneUrl}${ae(ee)}${j}`}function Le(ee,M){const{branch:j,filePath:ue,project:De}=te(ee,M);return`${ee.baseUrl}${ae(ee)}projects/${encodeURIComponent(De)}/branches/${j}/files/${encodeURIComponent(ue)}/content`}function ke(ee){return`${ee.baseUrl}${ae(ee)}projects/`}function _e(ee){const M={};if(!ee.password)return M;const j=le.from(`${ee.username}:${ee.password}`,"utf8");return M.Authorization=`Basic ${j.toString("base64")}`,{headers:M}}async function xe(ee){const M=await ee.text();if(M.startsWith(_))try{return JSON.parse(M.slice(_.length))}catch(j){throw new Error(`Invalid response from Gerrit: ${M.slice(0,10)} - ${j}`)}throw new Error(`Gerrit JSON body prefix missing. Found: ${M.slice(0,10)}`)}const Mt=class Mt{constructor(M){this.integrationConfig=M}get type(){return"gerrit"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(M){const{url:j,base:ue,lineNumber:De}=M;let je;if(j.startsWith("/")){const{branch:nt,project:Nt}=te(this.config,ue);return de(this.config,Nt,nt,j)}return j?je=new URL(j,ue):je=new URL(ue),De&&(je.hash=De.toString()),je.toString()}resolveEditUrl(M){return M}};Ee(Mt,"factory",({config:M})=>{var ue;const j=se((ue=M.getOptionalConfigArray("integrations.gerrit"))!=null?ue:[]);return(0,t.gz)(j.map(De=>new Mt(De)),De=>De.config.host)});let fe=Mt;var Me=e(13173),Ce=e(95741);function Ae(ee){var je;const M=ee.getString("host");let j=ee.getOptionalString("baseUrl");const ue=ee.getOptionalString("username"),De=(je=ee.getOptionalString("password"))==null?void 0:je.trim();if((0,t.bK)(M)){if(j&&!(0,t.jv)(j))throw new Error(`Invalid Gitea integration config, '${j}' is not a valid baseUrl`)}else throw new Error(`Invalid Gitea integration config, '${M}' is not a valid host`);return j?j=(0,z.trimEnd)(j,"/"):j=`https://${M}`,{host:M,baseUrl:j,username:ue,password:De}}var Be=e(48834).Buffer;function ht(ee,M){const j=ie(ee,M);return`${j.url}/${j.owner}/${j.name}/_edit/${j.ref}/${j.path}`}function Lt(ee,M){const j=ie(ee,M);return`${j.url}/api/v1/repos/${j.owner}/${j.name}/contents/${j.path}?ref=${j.ref}`}function Bt(ee,M){const j=ie(ee,M);return`${j.url}/api/v1/repos/${j.owner}/${j.name}/archive/${j.ref}.tar.gz`}function ft(ee,M){const j=ie(ee,M);return`${j.url}/api/v1/repos/${j.owner}/${j.name}/git/commits/${j.ref}`}function ze(ee){const M={},{username:j,password:ue}=ee;return ue?(j?M.Authorization=`basic ${Be.from(`${j}:${ue}`).toString("base64")}`:M.Authorization=`token ${ue}`,{headers:M}):M}function ie(ee,M){var ue;const j=(ue=ee.baseUrl)!=null?ue:`https://${ee.host}`;try{const[De,je,nt,Nt,wt,Ht,...tn]=M.replace(j,"").split("/"),rn=tn.join("/").replace(/^\//,"");return{url:j,owner:je,name:nt,ref:Ht,path:rn}}catch(De){throw new Error(`Incorrect URL: ${M}, ${De}`)}}const _t=class _t{constructor(M){this.config=M}get type(){return"gitea"}get title(){return this.config.host}resolveUrl(M){return(0,t.FI)(M)}resolveEditUrl(M){return ht(this.config,M)}};Ee(_t,"factory",({config:M})=>{var De;const ue=((De=M.getOptionalConfigArray("integrations.gitea"))!=null?De:[]).map(je=>Ae(je));return(0,t.gz)(ue.map(je=>new _t(je)),je=>je.config.host)});let we=_t;function Ze(ee){const M=ee.getString("host"),j=ee.getOptionalString("token"),ue=ee.getOptionalString("apiKey");if(!(0,t.bK)(M))throw new Error(`Invalid Harness Code integration config, '${M}' is not a valid host`);return{host:M,apiKey:ue,token:j}}function Xe(ee,M){const j=qe(ee,M);return`${j.baseUrl}/ng/account/${j.accountId}/module/code/orgs/${j.orgName}/projects/${j.projectName}/repos/${j.repoName}/files/${j.branch}/~/${j.path}`}function ct(ee,M){const j=qe(ee,M);return`${j.baseUrl}/gateway/code/api/v1/repos/${j.accountId}/${j.orgName}/${j.projectName}/${j.repoName}/+/raw/${j.path}?routingId=${j.accountId}&git_ref=refs/heads/${j.refString}`}function Pt(ee,M){const j=qe(ee,M);return`${j.baseUrl}/gateway/code/api/v1/repos/${j.accountId}/${j.orgName}/${j.projectName}/${j.repoName}/+/archive/${j.branch}.zip?routingId=${j.accountId}`}function Ge(ee,M){const j=qe(ee,M);return`${j.baseUrl}/gateway/code/api/v1/repos/${j.accountId}/${j.orgName}/${j.projectName}/${j.repoName}/+/content?routingId=${j.accountId}&include_commit=true&git_ref=refs/heads/${j.branch}`}function yt(ee){const M={},{token:j,apiKey:ue}=ee;return ue?M["x-api-key"]=ue:j&&(M.Authorization=`Bearer ${j}`),{headers:M}}function qe(ee,M){const j=`https://${ee.host}`;try{const ue=new URL(M),De=ue.pathname.split("/").filter(cn=>cn!==""),je=ue.pathname.split("/"),[nt,Nt,wt,Ht,tn,rn,Ft,Wt,on,sn,dn,hn,wn,Rn,...Wn]=De,un=je.slice(je.findIndex(cn=>cn==="files"||cn==="edit")+1),nn=un.findIndex(cn=>cn==="~"),$n=un.slice(0,nn).join("/"),kn=nn!==-1?un.slice(nn+1).join("/").replace(/^\//,""):"";return{baseUrl:j,accountId:wt,orgName:Ft,projectName:on,refString:$n,path:kn,repoName:dn,refDashStr:un.slice(0,nn).join("-"),branch:nn!==-1?un.slice(0,nn).join("/"):un.join("/")}}catch(ue){throw new Error(`Incorrect URL: ${M}, ${ue}`)}}const Yt=class Yt{constructor(M){this.config=M}get type(){return"harness"}get title(){return this.config.host}resolveUrl(M){return(0,t.FI)(M)}resolveEditUrl(M){return Xe(this.config,M)}};Ee(Yt,"factory",({config:M})=>{var De;const ue=((De=M.getOptionalConfigArray("integrations.harness"))!=null?De:[]).map(je=>Ze(je));return(0,t.gz)(ue.map(je=>new Yt(je)),je=>je.config.host)});let Ie=Yt;class We{constructor(M){Ee(this,"byType");this.byType=M}static fromConfig(M){return new We({awsS3:E.factory({config:M}),awsCodeCommit:r.factory({config:M}),azure:D.factory({config:M}),bitbucket:U.factory({config:M}),bitbucketCloud:H.factory({config:M}),bitbucketServer:b.factory({config:M}),gerrit:fe.factory({config:M}),github:Me.X.factory({config:M}),gitlab:Ce.q.factory({config:M}),gitea:we.factory({config:M}),harness:Ie.factory({config:M})})}get awsS3(){return this.byType.awsS3}get awsCodeCommit(){return this.byType.awsCodeCommit}get azure(){return this.byType.azure}get bitbucket(){return this.byType.bitbucket}get bitbucketCloud(){return this.byType.bitbucketCloud}get bitbucketServer(){return this.byType.bitbucketServer}get gerrit(){return this.byType.gerrit}get github(){return this.byType.github}get gitlab(){return this.byType.gitlab}get gitea(){return this.byType.gitea}get harness(){return this.byType.harness}list(){return Object.values(this.byType).flatMap(M=>M.list())}byUrl(M){let j=Object.values(this.byType).map(ue=>ue.byUrl(M)).filter(Boolean);if(j.length>1){const ue=j.filter(De=>!(De instanceof U));ue.length!==0&&(j=ue)}return j[0]}byHost(M){return Object.values(this.byType).map(j=>j.byHost(M)).find(Boolean)}resolveUrl(M){const j=this.byUrl(M.base);return j?j.resolveUrl(M):(0,t.FI)(M)}resolveEditUrl(M){const j=this.byUrl(M);return j?j.resolveEditUrl(M):M}}var Je=e(45133);class et{static fromConfig(M){return We.fromConfig(M)}}const Ve=(0,Je.T)({id:"integration.scmintegrations"})},13173:(k,v,e)=>{e.d(v,{B:()=>n,X:()=>d});var t=e(85250),i=e(21624);const E=class E{constructor(u){this.integrationConfig=u}get type(){return"github"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(u){return n((0,t.FI)(u),"tree")}resolveEditUrl(u){return n(u,"edit")}parseRateLimitInfo(u){return{isRateLimited:u.status===429||u.status===403&&u.headers.get("x-ratelimit-remaining")==="0"}}};Ee(E,"factory",({config:u})=>{var r;const c=(0,i.M)((r=u.getOptionalConfigArray("integrations.github"))!=null?r:[]);return(0,t.gz)(c.map(s=>new E(s)),s=>s.config.host)});let d=E;function n(l,u){return l.replace(/\/\/([^/]+)\/([^/]+)\/([^/]+)\/(blob|tree|edit)\//,(c,r,s,m)=>`//${r}/${s}/${m}/${u}/`)}},21624:(k,v,e)=>{e.d(v,{M:()=>c});var t=e(76635),i=e.n(t),d=e(85250);const n="github.com",E="https://api.github.com",l="https://raw.githubusercontent.com";function u(r){var C,h,R;const s=(C=r.getOptionalString("host"))!=null?C:n;let m=r.getOptionalString("apiBaseUrl"),f=r.getOptionalString("rawBaseUrl");const p=(h=r.getOptionalString("token"))==null?void 0:h.trim(),y=(R=r.getOptionalConfigArray("apps"))==null?void 0:R.map(O=>({appId:O.getNumber("appId"),clientId:O.getString("clientId"),clientSecret:O.getString("clientSecret"),webhookSecret:O.getString("webhookSecret"),privateKey:O.getString("privateKey"),allowedInstallationOwners:O.getOptionalStringArray("allowedInstallationOwners")}));if(!(0,d.bK)(s))throw new Error(`Invalid GitHub integration config, '${s}' is not a valid host`);return m?m=(0,t.trimEnd)(m,"/"):s===n&&(m=E),f?f=(0,t.trimEnd)(f,"/"):s===n&&(f=l),{host:s,apiBaseUrl:m,rawBaseUrl:f,token:p,apps:y}}function c(r){const s=r.map(u);return s.some(m=>m.host===n)||s.push({host:n,apiBaseUrl:E,rawBaseUrl:l}),s}},95741:(k,v,e)=>{e.d(v,{q:()=>c,a:()=>r});var t=e(85250),i=e(76635);const d="gitlab.com",n="https://gitlab.com/api/v4";function E(m){var h;const f=m.getString("host");let p=m.getOptionalString("apiBaseUrl");const y=(h=m.getOptionalString("token"))==null?void 0:h.trim();let C=m.getOptionalString("baseUrl");if(p?p=(0,i.trimEnd)(p,"/"):f===d&&(p=n),C?C=(0,i.trimEnd)(C,"/"):C=`https://${f}`,(0,t.bK)(f)){if(!p||!(0,t.jv)(p))throw new Error(`Invalid GitLab integration config, '${p}' is not a valid apiBaseUrl`);if(!(0,t.jv)(C))throw new Error(`Invalid GitLab integration config, '${C}' is not a valid baseUrl`)}else throw new Error(`Invalid GitLab integration config, '${f}' is not a valid host`);return{host:f,token:y,apiBaseUrl:p,baseUrl:C}}function l(m){const f=m.map(E);return f.some(p=>p.host===d)||f.push({host:d,apiBaseUrl:n,baseUrl:`https://${d}`}),f}function u(m){let f="";return m.host!==d&&(f=new URL(m.baseUrl).pathname),trimEnd(f,"/")}const s=class s{constructor(f){this.integrationConfig=f}get type(){return"gitlab"}get title(){return this.integrationConfig.host}get config(){return this.integrationConfig}resolveUrl(f){return(0,t.FI)(f)}resolveEditUrl(f){return r(f,"edit")}};Ee(s,"factory",({config:f})=>{var y;const p=l((y=f.getOptionalConfigArray("integrations.gitlab"))!=null?y:[]);return(0,t.gz)(p.map(C=>new s(C)),C=>C.config.host)});let c=s;function r(m,f){return m.replace(/\/\-\/(blob|tree|edit)\//,`/-/${f}/`)}},85250:(k,v,e)=>{e.d(v,{FI:()=>c,bK:()=>E,gz:()=>u,jv:()=>l});var t=e(82717),i=e.n(t),d=e(76635),n=e.n(d);function E(r){const s=new URL("http://example.com");return s.host=r,s.host===r}function l(r){try{return new URL(r),!0}catch{return!1}}function u(r,s){return{list(){return r},byUrl(m){try{const f=typeof m=="string"?new URL(m):m;return r.find(p=>s(p)===f.host)}catch{return}},byHost(m){return r.find(f=>s(f)===m)}}}function c(r){const{url:s,base:m,lineNumber:f}=r;try{return new URL(s),s}catch{}let p;if(s.startsWith("/")){const{href:y,filepath:C}=i()(m);p=new URL(y);const h=(0,d.trimEnd)(p.pathname.substring(0,p.pathname.length-C.length),"/");p.pathname=`${h}${s}`}else p=new URL(s,m);return p.search=new URL(m).search,f&&(p.hash=`L${f}`),p.toString()}},4789:(k,v,e)=>{e.d(v,{Y:()=>p});var t=e(2784),i=e(37630);const d=t.lazy(()=>Promise.all([e.e(1978),e.e(7318),e.e(8847),e.e(6709)]).then(e.bind(e,56709)).then(y=>({default:y.AsyncApiDefinition}))),n=y=>t.createElement(t.Suspense,{fallback:t.createElement(i.E,null)},t.createElement(d,{...y})),E=t.lazy(()=>e.e(6573).then(e.bind(e,96573)).then(y=>({default:y.GraphQlDefinition}))),l=y=>t.createElement(t.Suspense,{fallback:t.createElement(i.E,null)},t.createElement(E,{...y})),u=t.lazy(()=>Promise.all([e.e(1978),e.e(7318),e.e(9694)]).then(e.bind(e,79694)).then(y=>({default:y.OpenApiDefinition}))),c=y=>{var h;const C=(h=y.supportedSubmitMethods)==null?void 0:h.map(R=>R.toLocaleLowerCase());return t.createElement(t.Suspense,{fallback:t.createElement(i.E,null)},t.createElement(u,{...y,supportedSubmitMethods:C}))};var r=e(67977),s=e(60364);const m=y=>{const C=(0,s.Z)();return t.createElement(r.O,{customStyle:{backgroundColor:C.palette.background.default},text:y.definition,language:"protobuf",showCopyCodeButton:!0})},f=y=>{const{definition:C}=y,h=(0,s.Z)();return t.createElement(r.O,{customStyle:{backgroundColor:h.palette.background.default},text:C,language:"typescript",showCopyCodeButton:!0})};function p(){return[{type:"openapi",title:"OpenAPI",rawLanguage:"yaml",component:y=>t.createElement(c,{definition:y})},{type:"asyncapi",title:"AsyncAPI",rawLanguage:"yaml",component:y=>t.createElement(n,{definition:y})},{type:"graphql",title:"GraphQL",rawLanguage:"graphql",component:y=>t.createElement(l,{definition:y})},{type:"grpc",title:"gRPC",component:y=>t.createElement(m,{definition:y})},{type:"trpc",title:"tRPC",component:y=>t.createElement(f,{definition:y})}]}},72509:(k,v,e)=>{e.d(v,{Z:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.api-docs.config"})},47071:(k,v,e)=>{e.d(v,{DC:()=>s,OO:()=>p,XQ:()=>f,ap:()=>C,d1:()=>c,gC:()=>y,hK:()=>r,x1:()=>m});var t=e(2784),i=e(72509),d=e(72951),n=e(39798),E=e(20802),l=e(4789),u=e(22648);const c=(0,d.r)({id:"api-docs",routes:{root:u.r},apis:[(0,n.n)({api:i.Z,deps:{},factory:()=>{const h=(0,l.Y)();return{getApiDefinitionWidget:R=>h.find(O=>O.type===R.spec.type)}}})],externalRoutes:{registerApi:u.J}}),r=c.provide((0,E.P4)({name:"ApiExplorerPage",component:()=>Promise.all([e.e(4083),e.e(3313),e.e(9016)]).then(e.bind(e,79016)).then(h=>h.ApiExplorerIndexPage),mountPoint:u.r})),s=c.provide((0,E.CO)({name:"EntityApiDefinitionCard",component:{lazy:()=>e.e(805).then(e.bind(e,90805)).then(h=>h.ApiDefinitionCard)}})),m=c.provide((0,E.CO)({name:"EntityConsumedApisCard",component:{lazy:()=>e.e(7784).then(e.bind(e,7784)).then(h=>h.ConsumedApisCard)}})),f=c.provide((0,E.CO)({name:"EntityConsumingComponentsCard",component:{lazy:()=>e.e(3298).then(e.bind(e,63298)).then(h=>h.ConsumingComponentsCard)}})),p=c.provide((0,E.CO)({name:"EntityProvidedApisCard",component:{lazy:()=>e.e(7784).then(e.bind(e,7784)).then(h=>h.ProvidedApisCard)}})),y=c.provide((0,E.CO)({name:"EntityProvidingComponentsCard",component:{lazy:()=>e.e(3298).then(e.bind(e,63298)).then(h=>h.ProvidingComponentsCard)}})),C=c.provide((0,E.CO)({name:"EntityHasApisCard",component:{lazy:()=>e.e(7784).then(e.bind(e,7784)).then(h=>h.HasApisCard)}}))},22648:(k,v,e)=>{e.d(v,{J:()=>n,r:()=>d});var t=e(171),i=e(31916);const d=(0,t.N)({id:"api-docs"}),n=(0,i.x)({id:"register-component",optional:!0,defaultTarget:"catalog-import.importPage"})},38571:(k,v,e)=>{e.d(v,{es:()=>l,j8:()=>E,x7:()=>n});var t=e(88850);const i="catalog-entity",d=(0,t.J)({name:"catalog.entity.read",attributes:{action:"read"},resourceType:i}),n=(0,t.J)({name:"catalog.entity.create",attributes:{action:"create"}}),E=(0,t.J)({name:"catalog.entity.delete",attributes:{action:"delete"},resourceType:i}),l=(0,t.J)({name:"catalog.entity.refresh",attributes:{action:"update"},resourceType:i}),u=(0,t.J)({name:"catalog.location.read",attributes:{action:"read"}}),c=(0,t.J)({name:"catalog.location.create",attributes:{action:"create"}}),r=(0,t.J)({name:"catalog.location.delete",attributes:{action:"delete"}}),s=[d,n,E,l,u,c,r]},40718:(k,v,e)=>{e.d(v,{N:()=>t});var t=(i=>(i.TOP_BOTTOM="TB",i.BOTTOM_TOP="BT",i.LEFT_RIGHT="LR",i.RIGHT_LEFT="RL",i))(t||{})},887:(k,v,e)=>{e.d(v,{t:()=>l,A:()=>E});var t=e(20802),i=e(72951),d=e(52632);const n=(0,i.r)({id:"catalog-graph",routes:{catalogGraph:d.H},externalRoutes:{catalogEntity:d.P}}),E=n.provide((0,t.CO)({name:"EntityCatalogGraphCard",component:{lazy:()=>e.e(2076).then(e.bind(e,12076)).then(u=>u.CatalogGraphCard)}})),l=n.provide((0,t.P4)({name:"CatalogGraphPage",component:()=>e.e(7056).then(e.bind(e,17056)).then(u=>u.CatalogGraphPage),mountPoint:d.H}))},52632:(k,v,e)=>{e.d(v,{H:()=>d,P:()=>n});var t=e(171),i=e(31916);const d=(0,t.N)({id:"catalog-graph"}),n=(0,i.x)({id:"catalog-entity",params:["namespace","kind","name"],optional:!0,defaultTarget:"catalog.catalogEntity"})},53179:(k,v,e)=>{e.d(v,{h:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.catalog-import.service"})},83946:(k,v,e)=>{e.d(v,{Lm:()=>d,V9:()=>i,dv:()=>t});function t(n){const{ref:E,...l}=n;return{inputRef:E,...l}}function i(n){var E;return(E=n.getOptionalString("catalog.import.entityFilename"))!=null?E:"catalog-info.yaml"}function d(n){var E;return(E=n.getOptionalString("catalog.import.pullRequestBranchName"))!=null?E:"backstage-integration"}},63161:(k,v,e)=>{e.d(v,{vr:()=>Z,wS:()=>J});var t=e(171),i=e(72951),d=e(39798),n=e(86477),E=e(75341),l=e(58185),u=e(20802),c=e(90861),r=e(38389),s=e(23200),m=e(53179),f=e(10921),p=e(82717),y=e.n(p),C=e(25301),h=e(83946),R=e(49431);async function O(L,$,U){const{owner:Y,repo:S,title:b,body:K,fileContent:se,repositoryUrl:le,githubIntegrationConfig:_}=L,{token:te}=await $.getCredentials({url:le,additionalScope:{repoWrite:!0}}),de=new C.v({auth:te,baseUrl:_.apiBaseUrl}),re=(0,h.Lm)(U),ae=(0,h.V9)(U),oe=await de.repos.get({owner:Y,repo:S}).catch(Le=>{throw new Error(D("Couldn't fetch repo data",Le))}),ne=await de.git.getRef({owner:Y,repo:S,ref:`heads/${oe.data.default_branch}`}).catch(Le=>{throw new Error(D("Couldn't fetch default branch data",Le))});return await de.git.createRef({owner:Y,repo:S,ref:`refs/heads/${re}`,sha:ne.data.object.sha}).catch(Le=>{throw new Error(D(`Couldn't create a new branch with name '${re}'`,Le))}),await de.repos.createOrUpdateFileContents({owner:Y,repo:S,path:ae,message:b,content:R.DS.encode(se),branch:re}).catch(Le=>{throw new Error(D(`Couldn't create a commit with ${ae} file added`,Le))}),{link:(await de.pulls.create({owner:Y,repo:S,title:b,head:re,body:K,base:oe.data.default_branch}).catch(Le=>{throw new Error(D(`Couldn't create a pull request for ${re} branch`,Le))})).data.html_url,location:`https://${_.host}/${Y}/${S}/blob/${oe.data.default_branch}/${ae}`}}function D(L,$){return`${L}, received http response status code ${$.status}: ${$.message}`}const x="6.0";class B{constructor($){Ee(this,"createEndpoint",($,U,Y=void 0)=>{const S=new URL(`${this._options.tenantUrl}/${this._options.project}/_apis/git/repositories`);return S.pathname+=$,S.searchParams.set("api-version",U),Object.entries(Y!=null?Y:{}).forEach(([b,K])=>S.searchParams.set(b,K)),S.toString()});this._options=$}async get($,U,Y=void 0,S){const b=this.createEndpoint($,U,Y),K=await fetch(b,{headers:{Authorization:`Bearer ${S}`}});return K.ok?await K.json():K.json().then(se=>Promise.reject(new Error(se.message)))}async post($,U,Y,S){const b=this.createEndpoint($,U),K=await fetch(b,{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify(Y)});return K.ok?await K.json():K.json().then(se=>Promise.reject(new Error(se.message)))}async getRepository($,U){return this.get(`/${$}`,x,void 0,U)}async getDefaultBranch($,U){var b;const Y=$.defaultBranch.replace("refs/",""),S=await this.get(`/${$.name}/refs`,x,{filter:Y},U);return(b=S.value)!=null&&b.length?S.value[0]:Promise.reject(new Error(`The requested ref '${Y}' was not found`))}async pushNewBranch($,U){const{sourceBranch:Y,repoName:S}=$,b={refUpdates:[{name:`refs/heads/${$.branchName}`,oldObjectId:Y.objectId}],commits:[{comment:$.title,changes:[{changeType:"add",item:{path:`/${$.fileName}`},newContent:{content:$.fileContent,contentType:"rawtext"}}]}]};return(await this.post(`/${S}/pushes`,x,b,U)).refUpdates[0]}async createPullRequest($,U){const{repoName:Y,sourceName:S,targetName:b}=$,K={title:$.title,description:$.description,sourceRefName:S,targetRefName:b};return await this.post(`/${Y}/pullrequests`,x,K,U)}}async function o(L,$=void 0){const{title:U,repository:Y,token:S,fileContent:b,fileName:K,branchName:se,description:le}=L,_=$!=null?$:new B(L),te=await _.getRepository(Y,S),de=await _.getDefaultBranch(te,S),re={title:U,repoName:te.name,sourceBranch:de,branchName:se,fileContent:b,fileName:K},ae=await _.pushNewBranch(re,S),oe={title:U,description:le,repoName:te.name,sourceName:ae.name,targetName:de.name};return _.createPullRequest(oe,S)}function T(L){const{org:$,repo:U,project:Y,host:S}=F(L);if(!$||!U||!Y)throw new Error("Invalid AzureDevops Repository. Please use a valid repository url and try again ");return{tenantUrl:`https://${S}/${$}`,repoName:U,project:Y}}async function W(L,$,U){const{repositoryUrl:Y,fileContent:S,title:b,body:K}=L,se=(0,h.Lm)(U),le=(0,h.V9)(U),{token:_}=await $.getCredentials({url:Y,additionalScope:{repoWrite:!0}}),{tenantUrl:te,repoName:de,project:re}=T(Y),ae=await o({token:_,fileContent:S,title:b,description:K,project:re,repository:de,branchName:se,tenantUrl:te,fileName:le}),oe=`${ae.repository.webUrl}?path=/${le}`;return{link:`${ae.repository.webUrl}/pullrequest/${ae.pullRequestId}`,location:oe}}function F(L){const $=new URL(L);let U=$.host,Y,S,b;const K=$.pathname.split("/").map(se=>decodeURIComponent(se));return K[2]==="_git"?(Y=K[1],S=b=K[3]):K[3]==="_git"?(Y=K[1],S=K[2],b=K[4]):K[4]==="_git"&&(U=`${U}/${K[1]}`,Y=K[2],S=K[3],b=K[5]),{host:U,org:Y,project:S,repo:b}}class H{constructor($){Ee(this,"discoveryApi");Ee(this,"fetchApi");Ee(this,"scmAuthApi");Ee(this,"scmIntegrationsApi");Ee(this,"catalogApi");Ee(this,"configApi");this.discoveryApi=$.discoveryApi,this.scmAuthApi=$.scmAuthApi,this.fetchApi=$.fetchApi,this.scmIntegrationsApi=$.scmIntegrationsApi,this.catalogApi=$.catalogApi,this.configApi=$.configApi}async analyzeUrl($){var K;if(new URL($).pathname.match(/\.ya?ml$/)||(K=new URL($).searchParams.get("path"))!=null&&K.match(/.ya?ml$/)){const se=await this.catalogApi.addLocation({type:"url",target:$,dryRun:!0});return{type:"locations",locations:[{exists:se.exists,target:se.location.target,entities:se.entities.map(le=>{var _;return{kind:le.kind,namespace:(_=le.metadata.namespace)!=null?_:"default",name:le.metadata.name}})}]}}const U=["github","azure"],Y=this.scmIntegrationsApi.byUrl($);if(!(!!Y&&U.find(se=>se===Y.type))){const se=(0,h.V9)(this.configApi);throw Y?new Error(`The ${Y.title} integration only supports full URLs to ${se} files. Did you try to pass in the URL of a directory instead?`):new Error(`This URL was not recognized as a valid git URL because there was no configured integration that matched the given host name. Currently GitHub and Azure DevOps are supported. You could try to paste the full URL to a ${se} file instead.`)}const b=await this.analyzeLocation({repo:$});if(b.existingEntityFiles.length>0){const se=b.existingEntityFiles.reduce((le,_)=>{var te;return le[_.location.target]={target:_.location.target,exists:_.isRegistered,entities:[..._.location.target in le?le[_.location.target].entities:[],{name:_.entity.metadata.name,namespace:(te=_.entity.metadata.namespace)!=null?te:"default",kind:_.entity.kind}]},le},{});return{type:"locations",locations:Object.values(se)}}return{type:"repository",integrationType:Y.type,url:$,generatedEntities:b.generateEntities.map(se=>se.entity)}}async preparePullRequest(){var S;const $=(S=this.configApi.getOptionalString("app.title"))!=null?S:"Backstage",U=this.configApi.getString("app.baseUrl");return{title:`Add ${(0,h.V9)(this.configApi)} config file`,body:`This pull request adds a **Backstage entity metadata file** to this repository so that the component can be added to the [${$} software catalog](${U}).

After this pull request is merged, the component will become available.

For more information, read an [overview of the Backstage software catalog](https://backstage.io/docs/features/software-catalog/).`}}async submitPullRequest($){const{repositoryUrl:U,fileContent:Y,title:S,body:b}=$,K=f.ZP.parse(Y),se=await this.catalogApi.validateEntity(K,`url:${U}`);if(!se.valid)throw new Error(se.errors[0].message);const le=this.scmIntegrationsApi.byUrl(U);switch(le==null?void 0:le.type){case"github":{const{config:_}=le,{name:te,owner:de}=y()(U);return O({githubIntegrationConfig:_,repo:te,owner:de,repositoryUrl:U,fileContent:Y,title:S,body:b},this.scmAuthApi,this.configApi)}case"azure":return W({repositoryUrl:U,fileContent:Y,title:S,body:b},this.scmAuthApi,this.configApi);default:throw new Error("unimplemented!")}}async analyzeLocation($){const U=await this.fetchApi.fetch(`${await this.discoveryApi.getBaseUrl("catalog")}/analyze-location`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({location:{type:"url",target:$.repo},...this.configApi.getOptionalString("catalog.import.entityFilename")&&{catalogFilename:this.configApi.getOptionalString("catalog.import.entityFilename")}})}).catch(S=>{throw new Error(`Failed to generate entity definitions, ${S.message}`)});if(!U.ok)throw new Error(`Failed to generate entity definitions. Received http response ${U.status}: ${U.statusText}`);return await U.json()}}const z=(0,t.N)({id:"catalog-import"}),J=(0,i.r)({id:"catalog-import",apis:[(0,d.n)({api:m.h,deps:{discoveryApi:n.N,scmAuthApi:c.O,fetchApi:E.g,scmIntegrationsApi:r.q,catalogApi:s.A,configApi:l.D},factory:({discoveryApi:L,scmAuthApi:$,fetchApi:U,scmIntegrationsApi:Y,catalogApi:S,configApi:b})=>new H({discoveryApi:L,scmAuthApi:$,scmIntegrationsApi:Y,fetchApi:U,catalogApi:S,configApi:b})})],routes:{importPage:z}}),Z=J.provide((0,u.P4)({name:"CatalogImportPage",component:()=>e.e(9897).then(e.bind(e,89897)).then(L=>L.ImportPage),mountPoint:z}))},23200:(k,v,e)=>{e.d(v,{A:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.catalog.service"})},5971:(k,v,e)=>{e.d(v,{X:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.catalog.entity-presentation"})},11061:(k,v,e)=>{e.d(v,{n:()=>E});var t=e(8554),i=e(24978),d=e(72579),n=e.n(d);function E(c,r){const{kind:s,namespace:m,name:f,title:p,description:y,displayName:C,type:h}=l(c),R=(0,t.eE)({kind:s||"unknown",namespace:m||i.zG,name:f||"unknown"}),O=u({kind:s,namespace:m,name:f,context:r}),D=[C,p,O].find(B=>B&&typeof B=="string"),x=[D!==R?R:void 0,h,y].filter(B=>B&&typeof B=="string").join(" | ");return{entityRef:R,primaryTitle:D,secondaryTitle:x||void 0,Icon:void 0}}function l(c){if(typeof c=="string"){let r=c.indexOf(":");const s=c.indexOf("/");s!==-1&&s<r&&(r=-1);const m=r===-1?void 0:c.slice(0,r),f=s===-1?void 0:c.slice(r+1,s),p=c.slice(Math.max(r+1,s+1));return{kind:m,namespace:f,name:p}}if(typeof c=="object"&&c!==null){const r=[n()(c,"kind")].find(h=>h&&typeof h=="string"),s=[n()(c,"metadata.namespace"),n()(c,"namespace")].find(h=>h&&typeof h=="string"),m=[n()(c,"metadata.name"),n()(c,"name")].find(h=>h&&typeof h=="string"),f=[n()(c,"metadata.title")].find(h=>h&&typeof h=="string"),p=[n()(c,"metadata.description")].find(h=>h&&typeof h=="string"),y=[n()(c,"spec.profile.displayName")].find(h=>h&&typeof h=="string"),C=[n()(c,"spec.type")].find(h=>h&&typeof h=="string");return{kind:r,namespace:s,name:m,title:f,description:p,displayName:y,type:C}}return{}}function u(c){var C,h,R,O,D;const r=((C=c.kind)==null?void 0:C.toLocaleLowerCase("en-US"))||"unknown",s=c.namespace||i.zG,m=c.name||"unknown",f=(R=(h=c.context)==null?void 0:h.defaultKind)==null?void 0:R.toLocaleLowerCase("en-US"),p=(D=(O=c.context)==null?void 0:O.defaultNamespace)==null?void 0:D.toLocaleLowerCase("en-US");let y=m;return(p&&s.toLocaleLowerCase("en-US")!==p||s!==i.zG)&&(y=`${s}/${y}`),f&&r.toLocaleLowerCase("en-US")!==f&&(y=`${r}:${y}`),y}},9402:(k,v,e)=>{e.d(v,{V:()=>u});var t=e(8554),i=e(59274),d=e(2784),n=e(5971),E=e(11061);function l(c,r,s){const[m,f]=(0,d.useState)(c);return(0,d.useEffect)(()=>{f(c);const p=r==null?void 0:r.subscribe({next:y=>{f(y)},complete:()=>{p==null||p.unsubscribe()}});return()=>{p==null||p.unsubscribe()}},s),m}function u(c,r){const m=(0,i.I_)().get(n.X),f=[m,JSON.stringify(c),JSON.stringify(r||null)],p=(0,d.useMemo)(()=>{if(!m){const y=(0,E.n)(c,r);return{snapshot:y,promise:Promise.resolve(y)}}return m.forEntity(typeof c=="string"||"metadata"in c?c:(0,t.eE)(c),r)},f);return l(p.snapshot,p.update$,[p])}},78800:(k,v,e)=>{e.d(v,{p:()=>i});var t=e(45133);const i=(0,t.T)({id:"catalog-react.starred-entities"})},77666:(k,v,e)=>{e.d(v,{c:()=>m});var t=e(95544),i=e(80030),d=e(79692),n=e(2784),E=e(72579),l=e.n(E),u=e(9402),c=e(82394),r=e.n(c);const s=(0,d.Z)(f=>({root:{display:"inline-flex",alignItems:"center"},icon:{marginRight:f.spacing(.5),color:f.palette.text.secondary,lineHeight:0}}),{name:"CatalogReactEntityDisplayName"}),m=f=>{const{entityRef:p,hideIcon:y,disableTooltip:C,defaultKind:h,defaultNamespace:R}=f,O=s(),{primaryTitle:D,secondaryTitle:x,Icon:B}=(0,u.V)(p,{defaultKind:h,defaultNamespace:R});let o=n.createElement(n.Fragment,null,D);return o=n.createElement(t.Z,{component:"span",className:O.root},B&&!y?n.createElement(t.Z,{component:"span",className:O.icon},n.createElement(B,{fontSize:"inherit"})):null,o),x&&!C&&(o=n.createElement(i.ZP,{enterDelay:1500,title:x},o)),o}},85056:(k,v,e)=>{e.d(v,{d:()=>c});var t=e(8554),i=e(24978),d=e(87603),n=e(51491),E=e(2784),l=e(96671),u=e(77666);const c=(0,E.forwardRef)((s,m)=>{var B;const{entityRef:f,defaultKind:p,defaultNamespace:y,title:C,children:h,hideIcon:R,...O}=s,D=r(s.entityRef),x=(B=h!=null?h:C)!=null?B:E.createElement(u.c,{entityRef:f,defaultKind:p,defaultNamespace:y,hideIcon:R});return E.createElement(d.rU,{...O,ref:m,to:D},x)});function r(s){var h;const m=(0,n.t)(l.w);let f,p,y;if(typeof s=="string"){const R=(0,t.of)(s);f=R.kind,p=R.namespace,y=R.name}else"metadata"in s?(f=s.kind,p=s.metadata.namespace,y=s.metadata.name):(f=s.kind,p=s.namespace,y=s.name);f=f.toLocaleLowerCase("en-US"),p=(h=p==null?void 0:p.toLocaleLowerCase("en-US"))!=null?h:i.zG;const C={kind:encodeURIComponent(f),namespace:encodeURIComponent(p),name:encodeURIComponent(y)};return m(C)}},19631:(k,v,e)=>{e.d(v,{r:()=>n});var t=e(8554),i=e(2784),d=e(85056);function n(E){const{entityRefs:l,hideIcons:u,...c}=E;return i.createElement(i.Fragment,null,l.map((r,s)=>{const m=typeof r=="string"?r:(0,t.eE)(r);return i.createElement(i.Fragment,{key:`${s}.${m}`},s>0&&", ",i.createElement(d.d,{...c,entityRef:r,hideIcon:u}))}))}},51847:(k,v,e)=>{e.d(v,{$:()=>n,w:()=>E});var t=e(24978),i=e(72579),d=e.n(i);function n(l,u){const c=u==null?void 0:u.defaultKind;let r,s,m;return"metadata"in l?(r=l.kind,s=l.metadata.namespace,m=l.metadata.name):(r=l.kind,s=l.namespace,m=l.name),(s===void 0||s==="")&&(s=t.zG),(u==null?void 0:u.defaultNamespace)!==void 0?(u==null?void 0:u.defaultNamespace)===s&&(s=void 0):s===t.zG&&(s=void 0),r=r.toLocaleLowerCase("en-US"),r=c&&c.toLocaleLowerCase("en-US")===r?void 0:r,`${r?`${r}:`:""}${s?`${s}/`:""}${m}`}function E(l,u){for(const c of["spec.profile.displayName","metadata.title"]){const r=d()(l,c);if(r&&typeof r=="string")return r}return u}},56017:(k,v,e)=>{e.d(v,{L:()=>C});var t=e(61837),i=e(80030),d=e(15459),n=e(11640),E=e(28347),l=e(2784),u=e(8554),c=e(59274),r=e(72579),s=e(78800),m=e(82394);function f(h){return typeof h=="string"?h:(0,u.eE)(h)}function p(h){const R=(0,c.h_)(s.p),[O,D]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const B=R.starredEntitie$().subscribe({next(o){D(o.has(f(h)))}});return()=>{B.unsubscribe()}},[h,R]),{toggleStarredEntity:(0,l.useCallback)(()=>R.toggleStarred(f(h)).then(),[h,R]),isStarredEntity:O}}const y=(0,d.Z)({root:{color:"#f3ba37"}})(n.Z),C=h=>{const{toggleStarredEntity:R,isStarredEntity:O}=p(h.entity);return l.createElement(t.Z,{"aria-label":"favorite",color:"inherit",...h,onClick:()=>R()},l.createElement(i.ZP,{title:O?"Remove from favorites":"Add to favorites"},O?l.createElement(y,null):l.createElement(E.Z,null)))}},3808:(k,v,e)=>{e.d(v,{s:()=>B});var t=e(95544),i=e(77277),d=e(79692),n=e(90436),E=e(2784),l=e(15698),u=e(67977),c=e(87603),r=e(89173),s=e(18149),m=e.n(s),f=e(829),p=e.n(f),y=e(72579),C=e.n(y),h=e(82394),R=e.n(h);const O=(0,d.Z)(o=>({code:{borderRadius:6,margin:o.spacing(2,0),background:o.palette.type==="dark"?"#444":o.palette.common.white}}),{name:"BackstageMissingAnnotationEmptyState"});function D(o,T){var $,U;const W=(T==null?void 0:T.kind)||"Component",F=(T==null?void 0:T.metadata.name)||"example",H=(($=T==null?void 0:T.spec)==null?void 0:$.type)||"website",z=((U=T==null?void 0:T.spec)==null?void 0:U.owner)||"user:default/guest",J=`apiVersion: backstage.io/v1alpha1
kind: ${W}
metadata:
  name: ${F}
  annotations:${o.map(Y=>`
    ${Y}: value`).join("")}
spec:
  type: ${H}
  owner: ${z}`;let Z=6;const L=[];return o.forEach(()=>{L.push(Z),Z++}),{yamlText:J,lineNumbers:L}}function x(o,T="Component"){const W=o.length<=1;return E.createElement(E.Fragment,null,"The ",W?"annotation":"annotations"," ",o.map(F=>E.createElement("code",null,F)).reduce((F,H)=>E.createElement(E.Fragment,null,F,", ",H))," ",W?"is":"are"," missing. You need to add the"," ",W?"annotation":"annotations"," to your ",T," if you want to enable this tool.")}function B(o){let T;try{T=(0,r.X2)().entity}catch{}const{annotation:W,readMoreUrl:F}=o,H=Array.isArray(W)?W:[W],z=F||"https://backstage.io/docs/features/software-catalog/well-known-annotations",J=O(),Z=(T==null?void 0:T.kind)||"Component",{yamlText:L,lineNumbers:$}=D(H,T);return E.createElement(l.u,{missing:"field",title:"Missing Annotation",description:x(H,Z),action:E.createElement(E.Fragment,null,E.createElement(n.Z,{variant:"body1"},"Add the annotation to your ",Z," YAML as shown in the highlighted example below:"),E.createElement(t.Z,{className:J.code},E.createElement(u.O,{text:L,language:"yaml",showLineNumbers:!0,highlightedNumbers:$,customStyle:{background:"inherit",fontSize:"115%"}})),E.createElement(i.Z,{color:"primary",component:c.rU,to:z},"Read more"))})}},89173:(k,v,e)=>{e.d(v,{X2:()=>c,ce:()=>r,h$:()=>l});var t=e(8554),i=e(76777),d=e(18473),n=e(2784);const E=(0,d.CT)("entity-context"),l=s=>{const{children:m,entity:f,loading:p,error:y,refresh:C}=s,h={entity:f,loading:p,error:y,refresh:C};return n.createElement(E.Provider,{value:(0,d.EI)({1:h})},n.createElement(i.f,{attributes:{...f?{entityRef:(0,t.eE)(f)}:void 0}},m))},u=s=>React.createElement(l,{entity:s.entity,loading:!s.entity,error:void 0,refresh:void 0,children:s.children});function c(){const s=(0,d.Vt)("entity-context");if(!s)throw new Error("Entity context is not available");const m=s.atVersion(1);if(!m)throw new Error("EntityContext v1 not available");if(!m.entity)throw new Error("useEntity hook is being called outside of an EntityLayout where the entity has not been loaded. If this is intentional, please use useAsyncEntity instead.");return{entity:m.entity}}function r(){const s=(0,d.Vt)("entity-context");if(!s)throw new Error("Entity context is not available");const m=s.atVersion(1);if(!m)throw new Error("EntityContext v1 not available");const{entity:f,loading:p,error:y,refresh:C}=m;return{entity:f,loading:p,error:y,refresh:C}}},75098:(k,v,e)=>{e.d(v,{N:()=>n});var t=e(8554),i=e(39203),d=e(89173);function n(E){const{entity:l,loading:u,error:c}=(0,d.ce)(),{allowed:r,loading:s,error:m}=(0,i.g)({permission:E,resourceRef:l?(0,t.eE)(l):void 0});return u||s?{loading:!0,allowed:!1}:c?{loading:!1,allowed:!1,error:c}:{loading:!1,allowed:r,error:m}}},96671:(k,v,e)=>{e.d(v,{w:()=>d});var t=e(171),i=e(18473);const d=(0,i.uW)("catalog:entity-route-ref",()=>(0,t.N)({id:"catalog:entity",params:["namespace","kind","name"]}));function n(E){var l,u;return{kind:E.kind.toLocaleLowerCase("en-US"),namespace:(u=(l=E.metadata.namespace)==null?void 0:l.toLocaleLowerCase("en-US"))!=null?u:DEFAULT_NAMESPACE,name:E.metadata.name}}},14914:(k,v,e)=>{e.d(v,{h:()=>i});var t=e(8554);function i(d,n,E){var u;let l=((u=d==null?void 0:d.relations)==null?void 0:u.filter(c=>c.type===n).map(c=>(0,t.of)(c.targetRef)))||[];return E!=null&&E.kind&&(l=l.filter(c=>c.kind.toLocaleLowerCase("en-US")===E.kind.toLocaleLowerCase("en-US"))),l}},78999:(k,v,e)=>{e.d(v,{H:()=>mn});var t=e(24978),i=e(9277),d=e(82196),n=e(92980),E=e(90996),l=e(37630),u=e(9514),c=e(35182),r=e(92600),s=e(87603),m=e(22230),f=e(37224),p=e(32430),y=e(51491),C=e(77666),h=e(56017),R=e(14914),O=e(19631),D=e(96671),x=e(89173),B=e(85056),o=e(2784),T=e(72579),W=e(95544),F=e(77277),H=e(8629),z=e(49429),J=e(38724),Z=e(55999),L=e(79249),$=e(85256),U=e(79692),Y=e(99688),S=e(30593),b=e(8554),K=e(23200),se=e(4812),le=e(59274);function _(ge){var Ot;const Se=(0,le.h_)(K.A),Ye=(Ot=ge.metadata.annotations)==null?void 0:Ot[S.q1],Ne=ge.metadata.uid,He=Ye==="bootstrap:bootstrap",at=(0,se.Z)(async()=>{const $t=Se.getLocationByRef(Ye);let Jt;if(!Ye)Jt=Promise.resolve([]);else{const gt=`metadata.annotations.${S.q1}`;Jt=Se.getEntities({filter:{[gt]:Ye},fields:["kind","metadata.uid","metadata.name","metadata.namespace"]}).then(en=>en.items)}return Promise.all([$t,Jt]).then(([gt,en])=>({location:gt,colocatedEntities:en}))},[Se,ge]),tt=(0,o.useCallback)(async function(){const{location:Jt}=at.value;await Se.removeLocationById(Jt.id)},[Se,at]),bt=(0,o.useCallback)(async function(){await Se.removeEntityByUid(Ne)},[Se,Ne]);if(He)return{type:"bootstrap",location:Ye,deleteEntity:bt};const{loading:Et,error:Dt,value:pt}=at;if(Et)return{type:"loading"};if(Dt)return{type:"error",error:Dt};const{location:Kt,colocatedEntities:xt}=pt;return Kt?{type:"unregister",location:Ye,colocatedEntities:xt.map(b.iB),unregisterLocation:tt,deleteEntity:bt}:{type:"only-delete",deleteEntity:bt}}var te=e(95475),de=e(58185),re=e(67700),ae=e(32272);const oe=(0,U.Z)({advancedButton:{fontSize:"0.7em"},dialogActions:{display:"inline-block"}}),ne=({entity:ge,onConfirm:Se,onClose:Ye})=>{var Jt;const Ne=(0,le.h_)(te.$),He=(0,le.h_)(de.D),at=oe(),tt=_(ge),[bt,Et]=(0,o.useState)(!1),[Dt,pt]=(0,o.useState)(!1),Kt=(Jt=He.getOptionalString("app.title"))!=null?Jt:"Backstage",xt=(0,o.useCallback)(async function(){if("unregisterLocation"in tt){pt(!0);try{await tt.unregisterLocation(),Se()}catch(en){(0,ae.BD)(en),Ne.post({message:en.message})}finally{pt(!1)}}},[Ne,Se,tt]),Ot=(0,o.useCallback)(async function(){var en;if("deleteEntity"in tt){pt(!0);try{await tt.deleteEntity();const Vt=(en=ge.metadata.title)!=null?en:ge.metadata.name;Se(),Ne.post({message:`Removed entity ${Vt}`,severity:"success",display:"transient"})}catch(Vt){(0,ae.BD)(Vt),Ne.post({message:Vt.message})}finally{pt(!1)}}},[Ne,Se,tt,ge]),$t=()=>o.createElement(z.Z,{className:at.dialogActions},o.createElement(F.Z,{onClick:Ye,color:"primary"},"Cancel"));return tt.type==="loading"?o.createElement(l.E,null):tt.type==="error"?o.createElement(re.G,{error:tt.error}):tt.type==="bootstrap"?o.createElement(o.Fragment,null,o.createElement(Y.Z,{severity:"info"},'You cannot unregister this entity, since it originates from a protected Backstage configuration (location "',tt.location,'"). If you believe this is in error, please contact the ',Kt," ","integrator."),o.createElement(W.Z,{marginTop:2},!bt&&o.createElement(o.Fragment,null,o.createElement(F.Z,{variant:"text",size:"small",color:"primary",className:at.advancedButton,onClick:()=>Et(!0)},"Advanced Options"),o.createElement($t,null)),bt&&o.createElement(o.Fragment,null,o.createElement(Z.Z,null,"You have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),o.createElement(F.Z,{variant:"contained",color:"secondary",disabled:Dt,onClick:Ot},"Delete Entity"),o.createElement($t,null)))):tt.type==="only-delete"?o.createElement(o.Fragment,null,o.createElement(Z.Z,null,"This entity does not seem to originate from a registered location. You therefore only have the option to delete it outright from the catalog."),o.createElement(F.Z,{variant:"contained",color:"secondary",disabled:Dt,onClick:Ot},"Delete Entity"),o.createElement($t,null)):tt.type==="unregister"?o.createElement(o.Fragment,null,o.createElement(Z.Z,null,"This action will unregister the following entities:"),o.createElement(Z.Z,{component:"ul"},tt.colocatedEntities.map(gt=>o.createElement("li",{key:`${gt.kind}:${gt.namespace}/${gt.name}`},o.createElement(B.d,{entityRef:gt})))),o.createElement(Z.Z,null,"Located at the following location:"),o.createElement(Z.Z,{component:"ul"},o.createElement("li",null,tt.location)),o.createElement(Z.Z,null,"To undo, just re-register the entity in ",Kt,"."),o.createElement(W.Z,{marginTop:2},o.createElement(F.Z,{variant:"contained",color:"secondary",disabled:Dt,onClick:xt},"Unregister Location"),!bt&&o.createElement(W.Z,{component:"span",marginLeft:2},o.createElement(F.Z,{variant:"text",size:"small",color:"primary",className:at.advancedButton,onClick:()=>Et(!0)},"Advanced Options"))),bt&&o.createElement(o.Fragment,null,o.createElement(W.Z,{paddingTop:4,paddingBottom:4},o.createElement($.Z,null)),o.createElement(Z.Z,null,"You also have the option to delete the entity itself from the catalog. Note that this should only be done if you know that the catalog file has been deleted at, or moved from, its origin location. If that is not the case, the entity will reappear shortly as the next refresh round is performed by the catalog."),o.createElement(F.Z,{variant:"contained",color:"secondary",disabled:Dt,onClick:Ot},"Delete Entity"))):o.createElement(Y.Z,{severity:"error"},"Internal error: Unknown state")},he=ge=>{const{open:Se,onConfirm:Ye,onClose:Ne,entity:He}=ge;return o.createElement(H.Z,{open:Se,onClose:Ne},o.createElement(L.Z,{id:"responsive-dialog-title"},"Are you sure you want to unregister this entity?"),o.createElement(J.Z,null,o.createElement(ne,{entity:He,onConfirm:Ye,onClose:Ne})))};var Le=e(6487),ke=e(99152),_e=e(65872),xe=e(43103),fe=e(70666),Me=e(12524),Ce=e.n(Me),Ae=e(73557),Be=e(51847),ht=e(72379);const Lt=ht.Z;function Bt(ge,Se){if(ge)return ge.toLocaleLowerCase("en-US");if(Se)try{return(0,b.of)(Se).kind.toLocaleLowerCase("en-US")}catch{return}}function ft(ge,Se){const Ye=(0,fe.q)(),Ne=Bt(ge,Se);return Ne&&Ye.getSystemIcon(`kind:${Ne}`)||Lt}function ze(ge){const{kind:Se,entityRef:Ye,...Ne}=ge,He=ft(Se,Ye);return o.createElement(He,{...Ne})}const ie=(0,U.Z)(ge=>({node:{fill:ge.palette.grey[300],stroke:ge.palette.grey[300],"&.primary":{fill:ge.palette.primary.light,stroke:ge.palette.primary.light},"&.secondary":{fill:ge.palette.secondary.light,stroke:ge.palette.secondary.light}},text:{fill:ge.palette.getContrastText(ge.palette.grey[300]),"&.primary":{fill:ge.palette.primary.contrastText},"&.secondary":{fill:ge.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}));function we(ge){const Se=(0,le.h_)(K.A),Ye=(0,b.eE)(ge),{loading:Ne,error:He,value:at}=(0,se.Z)(async()=>{const tt=await Se.getEntityAncestors({entityRef:Ye}),bt=new Array,Et=new Array;for(const Dt of tt.items){const pt=(0,b.eE)(Dt.entity),Kt=pt===tt.rootEntityRef;bt.push({id:pt,root:Kt,...Dt.entity});for(const xt of Dt.parentEntityRefs)Et.push({from:pt,to:xt})}return{nodes:bt,edges:Et}},[Ye]);return{loading:Ne,error:He,nodes:(at==null?void 0:at.nodes)||[],edges:(at==null?void 0:at.edges)||[]}}function Ze({node:ge}){const Se=ie(),Ye=(0,Ae.s0)(),Ne=(0,y.t)(D.w),[He,at]=(0,o.useState)(0),[tt,bt]=(0,o.useState)(0),Et=(0,fe.q)(),Dt=(0,o.useRef)(null);(0,o.useLayoutEffect)(()=>{if(Dt.current){let{height:Vt,width:In}=Dt.current.getBBox();Vt=Math.round(Vt),In=Math.round(In),(Vt!==tt||In!==He)&&(at(In),bt(Vt))}},[He,tt]);const pt=Et.getSystemIcon(`kind:${ge.kind.toLocaleLowerCase("en-US")}`),Kt=10,xt=tt,Ot=pt?xt+Kt:0,$t=Ot+He+Kt*2,Jt=tt+Kt*2,gt=ge.metadata.title||(ge.kind&&ge.metadata.name&&ge.metadata.namespace?(0,Be.$)({kind:ge.kind,name:ge.metadata.name,namespace:ge.metadata.namespace||""}):ge.id),en=()=>{Ye(Ne({kind:ge.kind,namespace:ge.metadata.namespace||t.zG,name:ge.metadata.name}))};return o.createElement("g",{onClick:en,className:Se.clickable},o.createElement("rect",{className:Ce()(Se.node,ge.root?"secondary":"primary"),width:$t,height:Jt,rx:10}),pt&&o.createElement(ze,{kind:ge.kind,y:Kt,x:Kt,width:xt,height:xt,className:Ce()(Se.text,ge.root?"secondary":"primary")}),o.createElement("text",{ref:Dt,className:Ce()(Se.text,ge.root?"secondary":"primary"),y:Jt/2,x:Ot+(He+Kt*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},gt))}function Xe(ge){const{loading:Se,error:Ye,nodes:Ne,edges:He}=we(ge.entity);return Se?o.createElement(l.E,null):Ye?o.createElement(re.G,{error:Ye}):o.createElement(o.Fragment,null,o.createElement(Z.Z,{variant:"h2"},"Ancestry"),o.createElement(Z.Z,{gutterBottom:!0},"This is the ancestry of entities above the current one - as in, the chain(s) of entities down to the current one, where"," ",o.createElement(s.rU,{to:"https://backstage.io/docs/features/software-catalog/life-of-an-entity"},"processors emitted")," ","child entities that ultimately led to the current one existing. Note that this is a completely different mechanism from relations."),o.createElement(W.Z,{mt:4},o.createElement(_e.m,{nodes:Ne,edges:He,renderNode:Ze,direction:xe.N.Direction.BOTTOM_TOP,zoom:"enable-on-click"})))}var ct=e(11776),Pt=e(38402),Ge=e(94339),yt=e(24579),qe=e(86136),Ie=e(49378),We=e(54506),Je=e(90436),et=e(27685);const Ve=(0,U.Z)(ge=>({root:{display:"flex",flexDirection:"column"},marginTop:{marginTop:ge.spacing(2)},helpIcon:{marginLeft:ge.spacing(1),color:ge.palette.text.disabled},monospace:{fontFamily:"monospace"}}));function Ke(ge){const Se=Ve();return o.createElement(Ie.Z,{...ge,primaryTypographyProps:{className:Se.monospace},secondaryTypographyProps:{className:Se.monospace}})}function $e(ge){const Se=Ve();return o.createElement(We.Z,{className:Se.monospace},ge.children)}function dt(ge){return o.createElement(W.Z,{mt:2},o.createElement(Ge.Z,{variant:"outlined"},o.createElement(yt.Z,null,o.createElement(Je.Z,{variant:"h6",gutterBottom:!0},ge.title,ge.helpLink&&o.createElement(ve,{to:ge.helpLink})),ge.children)))}function ut(ge){if(ge.match(/^url:https?:\/\//))return ge.slice(4);if(ge.match(/^https?:\/\//))return ge}function mt(ge){const[Se,Ye]=ge.entry,Ne=ut(Ye);return o.createElement(Pt.Z,null,ge.indent&&o.createElement(qe.Z,null),o.createElement(Ke,{primary:Se,secondary:Ne?o.createElement(s.rU,{to:Ne},Ye):Ye}))}function ve(ge){const Se=Ve();return o.createElement(s.rU,{to:ge.to,className:Se.helpIcon},o.createElement(et.Z,{fontSize:"inherit"}))}const G=(0,U.Z)({root:{display:"flex",flexDirection:"column"}});function V(ge){var Et,Dt;const Se=(0,le.h_)(K.A),Ye=(0,b.eE)(ge),Ne=(Et=ge.metadata.annotations)==null?void 0:Et[S.P1],He=(Dt=ge.metadata.annotations)==null?void 0:Dt[S.q1],{loading:at,error:tt,value:bt}=(0,se.Z)(async()=>!Ne&&!He?[]:(await Se.getEntities({filter:[...Ne?[{[`metadata.annotations.${S.P1}`]:Ne}]:[],...He?[{[`metadata.annotations.${S.q1}`]:He}]:[]]})).items,[Ne,He]);return{loading:at,error:tt,location:Ne,originLocation:He,colocatedEntities:bt==null?void 0:bt.filter(pt=>(0,b.eE)(pt)!==Ye)}}function me(ge){return o.createElement(ct.Z,{dense:!0},ge.header&&o.createElement(mt,{key:"header",entry:ge.header}),ge.entities.map(Se=>o.createElement(Pt.Z,{key:(0,b.eE)(Se)},o.createElement(Ke,{primary:o.createElement(B.d,{entityRef:Se})}))))}function be(ge){const{entity:Se}=ge,{loading:Ye,error:Ne,location:He,originLocation:at,colocatedEntities:tt}=V(Se);if(Ye)return o.createElement(l.E,null);if(Ne)return o.createElement(re.G,{error:Ne});if(!He&&!at)return o.createElement(Y.Z,{severity:"warning"},"Entity had no location information.");if(!(tt!=null&&tt.length))return o.createElement(Y.Z,{severity:"info"},"There were no other entities on this location.");if(He===at)return o.createElement(me,{entities:tt});const bt=tt.filter(Dt=>{var pt;return((pt=Dt.metadata.annotations)==null?void 0:pt[S.P1])===He}),Et=tt.filter(Dt=>{var pt;return((pt=Dt.metadata.annotations)==null?void 0:pt[S.q1])===at});return o.createElement(o.Fragment,null,bt.length>0&&o.createElement(me,{entities:bt,header:["At the same location",He]}),Et.length>0&&o.createElement(me,{entities:Et,header:["At the same origin",at]}))}function Oe(ge){const Se=G();return o.createElement(o.Fragment,null,o.createElement(Z.Z,{variant:"h2"},"Colocated"),o.createElement(Z.Z,null,"These are the entities that are colocated with this entity - as in, they originated from the same data source (e.g. came from the same YAML file), or from the same origin (e.g. the originally registered URL)."),o.createElement("div",{className:Se.root},o.createElement(be,{entity:ge.entity})))}var ot=e(67977);function Qe(ge){return Object.fromEntries([...Object.entries(ge)].sort((Se,Ye)=>Se[0]<Ye[0]?-1:1))}function St(ge){return o.createElement(o.Fragment,null,o.createElement(Z.Z,{variant:"h2"},"Entity as JSON"),o.createElement(Z.Z,null,"This is the raw entity data as received from the catalog, on JSON form."),o.createElement(Z.Z,null,o.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},o.createElement(ot.O,{text:JSON.stringify(Qe(ge.entity),void 0,2),language:"json",showCopyCodeButton:!0}))))}var Mt=e(9520),_t=e(3440),Yt=e.n(_t),ee=e(829),M=e.n(ee),j=e(35570);const ue=(0,U.Z)({root:{display:"flex",flexDirection:"column"}});function De(ge){var pt,Kt,xt;const Se=ue(),{apiVersion:Ye,kind:Ne,metadata:He,spec:at,relations:tt=[],status:bt={}}=ge.entity,Et=Yt()(M()(tt,Ot=>Ot.targetRef),"type"),Dt=(0,b.eE)(ge.entity);return o.createElement(o.Fragment,null,o.createElement(Z.Z,{variant:"h2"},"Overview"),o.createElement("div",{className:Se.root},o.createElement(dt,{title:"Identity"},o.createElement(ct.Z,{dense:!0},o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"apiVersion",secondary:Ye})),o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"kind",secondary:Ne})),(at==null?void 0:at.type)&&o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"spec.type",secondary:(pt=at.type)==null?void 0:pt.toString()})),He.uid&&o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"uid",secondary:He.uid}),o.createElement(Mt.Z,null,o.createElement(j.b,{text:He.uid}))),He.etag&&o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"etag",secondary:He.etag}),o.createElement(Mt.Z,null,o.createElement(j.b,{text:He.etag}))),o.createElement(Pt.Z,null,o.createElement(Ke,{primary:"entityRef",secondary:Dt}),o.createElement(Mt.Z,null,o.createElement(j.b,{text:Dt}))))),o.createElement(dt,{title:"Metadata"},!!Object.keys(He.annotations||{}).length&&o.createElement(ct.Z,{dense:!0,subheader:o.createElement($e,null,"Annotations",o.createElement(ve,{to:"https://backstage.io/docs/features/software-catalog/well-known-annotations"}))},Object.entries(He.annotations).map(Ot=>o.createElement(mt,{key:Ot[0],indent:!0,entry:Ot}))),!!Object.keys(He.labels||{}).length&&o.createElement(ct.Z,{dense:!0,subheader:o.createElement($e,null,"Labels")},Object.entries(He.labels).map(Ot=>o.createElement(mt,{key:Ot[0],indent:!0,entry:Ot}))),!!((Kt=He.tags)!=null&&Kt.length)&&o.createElement(ct.Z,{dense:!0,subheader:o.createElement($e,null,"Tags")},He.tags.map((Ot,$t)=>o.createElement(Pt.Z,{key:`${Ot}-${$t}`},o.createElement(qe.Z,null),o.createElement(Ke,{primary:Ot}))))),!!tt.length&&o.createElement(dt,{title:"Relations",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-relations"},Object.entries(Et).map(([Ot,$t],Jt)=>o.createElement("div",{key:Jt},o.createElement(ct.Z,{dense:!0,subheader:o.createElement($e,null,Ot)},$t.map(gt=>o.createElement(Pt.Z,{key:gt.targetRef},o.createElement(Ke,{primary:o.createElement(B.d,{entityRef:gt.targetRef})}))))))),!!((xt=bt.items)!=null&&xt.length)&&o.createElement(dt,{title:"Status",helpLink:"https://backstage.io/docs/features/software-catalog/well-known-statuses"},bt.items.map((Ot,$t)=>o.createElement("div",{key:$t},o.createElement(Je.Z,null,Ot.level,": ",Ot.type),o.createElement(W.Z,{ml:2},Ot.message))))))}var je=e(10921);function nt(ge){return o.createElement(o.Fragment,null,o.createElement(Z.Z,{variant:"h2"},"Entity as YAML"),o.createElement(Z.Z,null,"This is the raw entity data as received from the catalog, on YAML form."),o.createElement(Z.Z,null,o.createElement("div",{style:{fontSize:"75%"},"data-testid":"code-snippet"},o.createElement(ot.O,{text:je.ZP.stringify(Qe(ge.entity)),language:"yaml",showCopyCodeButton:!0}))))}const Nt=(0,U.Z)(ge=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",backgroundColor:ge.palette.background.paper},tabs:{borderRight:`1px solid ${ge.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"}}));function wt(ge){const{children:Se,value:Ye,index:Ne,...He}=ge,at=Nt();return o.createElement("div",{role:"tabpanel",hidden:Ye!==Ne,id:`vertical-tabpanel-${Ne}`,"aria-labelledby":`vertical-tab-${Ne}`,className:at.tabContents,...He},Ye===Ne&&o.createElement(W.Z,{pl:3,pr:3},Se))}function Ht(ge){return{id:`vertical-tab-${ge}`,"aria-controls":`vertical-tabpanel-${ge}`}}function tn(ge){const Se=Nt(),[Ye,Ne]=o.useState(0);return(0,o.useEffect)(()=>{Ne(0)},[ge.open]),ge.entity?o.createElement(H.Z,{fullWidth:!0,maxWidth:"xl",open:ge.open,onClose:ge.onClose,"aria-labelledby":"entity-inspector-dialog-title",PaperProps:{className:Se.fullHeightDialog}},o.createElement(L.Z,{id:"entity-inspector-dialog-title"},"Entity Inspector"),o.createElement(J.Z,{dividers:!0},o.createElement("div",{className:Se.root},o.createElement(ke.Z,{orientation:"vertical",variant:"scrollable",value:Ye,onChange:(He,at)=>Ne(at),"aria-label":"Inspector options",className:Se.tabs},o.createElement(Le.Z,{label:"Overview",...Ht(0)}),o.createElement(Le.Z,{label:"Ancestry",...Ht(1)}),o.createElement(Le.Z,{label:"Colocated",...Ht(2)}),o.createElement(Le.Z,{label:"Raw JSON",...Ht(3)}),o.createElement(Le.Z,{label:"Raw YAML",...Ht(4)})),o.createElement(wt,{value:Ye,index:0},o.createElement(De,{entity:ge.entity})),o.createElement(wt,{value:Ye,index:1},o.createElement(Xe,{entity:ge.entity})),o.createElement(wt,{value:Ye,index:2},o.createElement(Oe,{entity:ge.entity})),o.createElement(wt,{value:Ye,index:3},o.createElement(St,{entity:ge.entity})),o.createElement(wt,{value:Ye,index:4},o.createElement(nt,{entity:ge.entity})))),o.createElement(z.Z,null,o.createElement(F.Z,{onClick:ge.onClose,color:"primary"},"Close"))):null}var rn=e(61837),Ft=e(12231),Wt=e(50758),on=e(79784),sn=e(80030),dn=e(31654),hn=e(43054),wn=e(65759),Rn=e(75098),Wn=e(38571),un=e(49166);function nn(ge){var Et;const{unregisterEntityOptions:Se,isUnregisterAllowed:Ye,onUnregisterEntity:Ne,onClose:He}=ge,at=typeof(Se==null?void 0:Se.disableUnregister)=="boolean",tt=(Et=!Ye||(at?!!(Se!=null&&Se.disableUnregister):(Se==null?void 0:Se.disableUnregister)==="disable"))!=null?Et:!1;let bt=o.createElement(o.Fragment,null);return(Se==null?void 0:Se.disableUnregister)!=="hidden"&&(bt=o.createElement(Ft.Z,{onClick:()=>{He(),Ne()},disabled:tt},o.createElement(qe.Z,null,o.createElement(un.Z,{fontSize:"small"})),o.createElement(Ie.Z,{primary:"Unregister entity"}))),o.createElement(o.Fragment,null,bt)}var $n=e(99949);const kn=(0,U.Z)(ge=>({button:{color:ge.page.fontColor}}),{name:"PluginCatalogEntityContextMenu"});function cn(ge){const{UNSTABLE_extraContextMenuItems:Se,UNSTABLE_contextMenuOptions:Ye,onUnregisterEntity:Ne,onInspectEntity:He}=ge,[at,tt]=(0,o.useState)(),bt=kn(),Dt=(0,Rn.N)(Wn.j8).allowed,pt=gt=>{tt(gt.currentTarget)},Kt=()=>{tt(void 0)},xt=(0,le.h_)(te.$),[Ot,$t]=(0,$n.Z)();(0,o.useEffect)(()=>{!Ot.error&&Ot.value&&xt.post({message:"Copied!",severity:"info",display:"transient"})},[Ot,xt]);const Jt=Se&&[...Se.map(gt=>o.createElement(Ft.Z,{key:gt.title,onClick:()=>{Kt(),gt.onClick()}},o.createElement(qe.Z,null,o.createElement(gt.Icon,{fontSize:"small"})),o.createElement(Ie.Z,{primary:gt.title}))),o.createElement($.Z,{key:"the divider is here!"})];return o.createElement(o.Fragment,null,o.createElement(sn.ZP,{title:"More",arrow:!0},o.createElement(rn.Z,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true","aria-expanded":!!at,role:"button",onClick:pt,"data-testid":"menu-button",className:bt.button,id:"long-menu"},o.createElement(hn.Z,null))),o.createElement(on.ZP,{open:!!at,onClose:Kt,anchorEl:at,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},"aria-labelledby":"long-menu"},o.createElement(Wt.Z,{autoFocusItem:!!at},Jt,o.createElement(nn,{unregisterEntityOptions:Ye,isUnregisterAllowed:Dt,onUnregisterEntity:Ne,onClose:Kt}),o.createElement(Ft.Z,{onClick:()=>{Kt(),He()}},o.createElement(qe.Z,null,o.createElement(dn.Z,{fontSize:"small"})),o.createElement(Ie.Z,{primary:"Inspect entity"})),o.createElement(Ft.Z,{onClick:()=>{Kt(),$t(window.location.toString())}},o.createElement(qe.Z,null,o.createElement(wn.Z,{fontSize:"small"})),o.createElement(Ie.Z,{primary:"Copy entity URL"})))))}var ra=e(66351);const Mn="plugin.catalog.entityLayoutRoute",Sn=()=>null;(0,m.R)(Sn,Mn,!0),(0,m.R)(Sn,"core.gatherMountPoints",!0);function pn(ge){const{entity:Se,title:Ye}=ge;return o.createElement(W.Z,{display:"inline-flex",alignItems:"center",height:"1em",maxWidth:"100%"},o.createElement(W.Z,{component:"span",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},Se?o.createElement(C.c,{entityRef:Se,hideIcon:!0}):Ye),Se&&o.createElement(h.L,{entity:Se}))}function _n(ge,Se,Ye,Ne){var bt,Et,Dt,pt,Kt;const He=(bt=ge!=null?ge:Ne==null?void 0:Ne.kind)!=null?bt:"",at=(Et=Se!=null?Se:Ne==null?void 0:Ne.metadata.namespace)!=null?Et:"";return{headerTitle:`${(Kt=(pt=(Dt=Ne==null?void 0:Ne.metadata.title)!=null?Dt:Ye)!=null?pt:Ne==null?void 0:Ne.metadata.name)!=null?Kt:""}${at&&at!==t.zG?` in ${at}`:""}`,headerType:(()=>{let xt=He.toLocaleLowerCase("en-US");return Ne&&Ne.spec&&"type"in Ne.spec&&(xt+=" \u2014 ",xt+=Ne.spec.type.toLocaleLowerCase("en-US")),xt})()}}function Gn(ge){var Ne,He;const{entity:Se}=ge,Ye=(0,R.h)(Se,i.S4);return o.createElement(o.Fragment,null,Ye.length>0&&o.createElement(d.i,{label:"Owner",contentTypograpyRootComponent:"p",value:o.createElement(O.r,{entityRefs:Ye,defaultKind:"Group",color:"inherit"})}),((Ne=Se.spec)==null?void 0:Ne.lifecycle)&&o.createElement(d.i,{label:"Lifecycle",value:(He=Se.spec.lifecycle)==null?void 0:He.toString()}))}const mn=ge=>{var yn,Zn,Yn;const{UNSTABLE_extraContextMenuItems:Se,UNSTABLE_contextMenuOptions:Ye,children:Ne,NotFoundComponent:He}=ge,{kind:at,namespace:tt,name:bt}=(0,f.O)(D.w),{entity:Et,loading:Dt,error:pt}=(0,x.ce)(),Kt=(0,Ae.TH)(),xt=(0,p.v)(Ne,ln=>ln.selectByComponentData({key:Mn,withStrictError:"Child of EntityLayout must be an EntityLayout.Route"}).getElements().flatMap(({props:On})=>{if(Et){if(On.if&&!On.if(Et))return[]}else return[];return[{path:On.path,title:On.title,children:On.children,tabProps:On.tabProps}]}),[Et]),{headerTitle:Ot,headerType:$t}=_n(at,tt,bt,Et),[Jt,gt]=(0,o.useState)(!1),[en,Vt]=(0,o.useState)(!1),In=(0,Ae.s0)(),En=(0,y.t)(ra._Z),Hn=(0,y.t)(ra.kR),Vn=async()=>{gt(!1),Vt(!1),In(Hn?Hn():En())};return(0,o.useEffect)(()=>{gt(!1),Vt(!1)},[Kt.pathname]),o.createElement(n.T,{themeId:(Yn=(Zn=(yn=Et==null?void 0:Et.spec)==null?void 0:yn.type)==null?void 0:Zn.toString())!=null?Yn:"home"},o.createElement(E.h,{title:o.createElement(pn,{title:Ot,entity:Et}),pageTitleOverride:Ot,type:$t},Et&&o.createElement(o.Fragment,null,o.createElement(Gn,{entity:Et}),o.createElement(cn,{UNSTABLE_extraContextMenuItems:Se,UNSTABLE_contextMenuOptions:Ye,onUnregisterEntity:()=>gt(!0),onInspectEntity:()=>Vt(!0)}))),Dt&&o.createElement(l.E,null),Et&&o.createElement(u.t,{routes:xt}),pt&&o.createElement(c.V,null,o.createElement(Y.Z,{severity:"error"},pt.toString())),!Dt&&!pt&&!Et&&o.createElement(c.V,null,He||o.createElement(r.G,{title:"Entity not found"},"There is no ",at," with the requested"," ",o.createElement(s.rU,{to:"https://backstage.io/docs/features/software-catalog/references"},"kind, namespace, and name"),".")),o.createElement(he,{open:Jt,entity:Et,onConfirm:Vn,onClose:()=>gt(!1)}),o.createElement(tn,{open:en,entity:Et,onClose:()=>Vt(!1)}))};mn.Route=Sn},29538:(k,v,e)=>{e.d(v,{E:()=>R,P:()=>h});var t=e(89173),i=e(99688),d=e(2784),n=e(73557),E=e(23200),l=e(77277),u=e(8629),c=e(49429),r=e(79249),s=e(59274),m=e(95475),f=e(32272);function p(O){const{open:D,onClose:x,onConfirm:B,entity:o}=O,[T,W]=(0,d.useState)(!1),F=(0,s.h_)(E.A),H=(0,s.h_)(m.$),z=async()=>{W(!0);try{const J=o.metadata.uid;await F.removeEntityByUid(J),B()}catch(J){(0,f.BD)(J),H.post({message:J.message})}finally{W(!1)}};return d.createElement(u.Z,{open:D,onClose:x},d.createElement(r.Z,{id:"responsive-dialog-title"},"Are you sure you want to delete this entity?"),d.createElement(c.Z,null,d.createElement(l.Z,{variant:"contained",color:"secondary",disabled:T,onClick:z},"Delete"),d.createElement(l.Z,{onClick:x,color:"primary"},"Cancel")))}var y=e(51491),C=e(66351);function h(O){var D,x;return((x=(D=O==null?void 0:O.metadata)==null?void 0:D.annotations)==null?void 0:x["backstage.io/orphan"])==="true"}function R(){const O=(0,n.s0)(),D=(0,y.t)(C._Z),[x,B]=(0,d.useState)(!1),{entity:o}=(0,t.X2)(),T=async()=>{B(!1),O(D())};return d.createElement(d.Fragment,null,d.createElement(i.Z,{severity:"warning",onClick:()=>B(!0)},"This entity is not referenced by any location and is therefore not receiving updates. Click here to delete."),d.createElement(p,{open:x,entity:o,onConfirm:T,onClose:()=>B(!1)}))}},61638:(k,v,e)=>{e.d(v,{m:()=>y,i:()=>p});var t=e(8554),i=e(23200),d=e(89173),n=e(85056),E=e(95544),l=e(2784),u=e(67700);const c="backstage.io/catalog-processing";var r=e(59274),s=e(4812);const m=C=>C.error&&C.level==="error"&&C.type===c;async function f(C,h){return{items:(await h.getEntityAncestors({entityRef:C})).items.map(D=>{var o,T;return{errors:((T=(o=D.entity.status)==null?void 0:o.items)!=null?T:[]).filter(m).map(W=>W.error).filter(W=>!!W),entity:D.entity}}).filter(D=>D.errors.length>0)}}async function p(C,h){const R=h.apis.get(i.A);if(!R)throw new Error(`No implementation available for ${i.A}`);return(await f((0,t.eE)(C),R)).items.length>0}function y(){const{entity:C}=(0,d.X2)(),h=(0,t.eE)(C),R=(0,r.h_)(i.A),{loading:O,error:D,value:x}=(0,s.Z)(async()=>f(h,R),[h,R]);return D?l.createElement(E.Z,{mb:1},l.createElement(u.G,{error:D})):O||!x?null:l.createElement(l.Fragment,null,x.items.map((B,o)=>l.createElement(E.Z,{key:o,mb:1},(0,t.eE)(C)!==(0,t.eE)(B.entity)&&l.createElement(E.Z,{p:1},"The error below originates from"," ",l.createElement(n.d,{entityRef:B.entity})),B.errors.map((T,W)=>l.createElement(u.G,{key:W,error:T})))))}},84820:(k,v,e)=>{e.d(v,{V:()=>m,v:()=>s});var t=e(23200),i=e(89173),d=e(99688),n=e(2784),E=e(4812),l=e(95544),u=e(67700),c=e(59274);async function r(f,p){var h;const y=(h=f.relations)==null?void 0:h.map(R=>R.targetRef);if(!y||(y==null?void 0:y.length)<1||y.length>1e3)return[];const C=await p.getEntitiesByRefs({entityRefs:y,fields:["kind","metadata.name","metadata.namespace"]});return y.filter((R,O)=>C.items[O]===void 0)}async function s(f,p){const y=p.apis.get(t.A);if(!y)throw new Error(`No implementation available for ${t.A}`);return(await r(f,y)).length>0}function m(){const{entity:f}=(0,i.X2)(),p=(0,c.h_)(t.A),{loading:y,error:C,value:h}=(0,E.Z)(async()=>r(f,p),[f,p]);return C?n.createElement(l.Z,{mb:1},n.createElement(u.G,{error:C})):y||!h||h.length===0?null:n.createElement(n.Fragment,null,n.createElement(d.Z,{severity:"warning"},"This entity has relations to other entities, which can't be found in the catalog. ",n.createElement("br",null),"Entities not found are: ",h.join(", ")))}},13128:(k,v,e)=>{e.d(v,{p:()=>r});var t=e(89173),i=e(2784),d=e(22230),n=e(59274),E=e(32430),l=e(4812);const u="core.backstage.entitySwitch",c=f=>null;(0,d.R)(c,u,!0);const r=f=>{var O,D;const{entity:p,loading:y}=(0,t.ce)(),C=(0,n.I_)(),h=(0,E.v)(f.children,x=>x.selectByComponentData({key:u,withStrictError:"Child of EntitySwitch is not an EntitySwitch.Case"}).getElements().flatMap(B=>{if(y&&!p)return[];const{if:o,children:T}=B.props;return p?[{if:o==null?void 0:o(p,{apis:C}),children:T}]:[{if:o===void 0,children:T}]}),[C,p,y]);if(h.some(x=>typeof x.if=="object"&&"then"in x.if))return i.createElement(s,{results:h,renderMultipleMatches:f.renderMultipleMatches});if(f.renderMultipleMatches==="all"){const x=h.filter(B=>B.if).map(B=>B.children);return x.length===0?m(h):i.createElement(i.Fragment,null,x)}return(D=(O=h.find(x=>x.if))==null?void 0:O.children)!=null?D:m(h)};function s({results:f,renderMultipleMatches:p}){const{loading:y,value:C}=(0,l.Z)(async()=>{var R;const h=f.map(async({if:O,children:D})=>{try{if(await O)return D}catch{}return null});if(p==="all"){const O=(await Promise.all(h)).filter(Boolean);return O.length===0?m(f):i.createElement(i.Fragment,null,O)}return(R=(await Promise.all(h)).find(Boolean))!=null?R:m(f)},[f]);return y||!C?null:C}function m(f){var p,y;return(y=(p=f.filter(C=>C.if===void 0)[0])==null?void 0:p.children)!=null?y:null}r.Case=c},36498:(k,v,e)=>{e.d(v,{Kf:()=>n,_l:()=>d});function t(r,s){return!!(r&&typeof r=="string"&&(r==null?void 0:r.toLocaleLowerCase("en-US"))===(s==null?void 0:s.toLocaleLowerCase("en-US")))}function i(r,s){return typeof s=="string"?t(r,s):s.length===0||s.some(m=>t(r,m))}function d(r){return u({kind:r})}function n(r){return u({kind:"component",type:r})}function E(r){return u({kind:"resource",type:r})}function l(r){return u({kind:"api",type:r})}function u(r){return s=>{var m;return!(r.kind&&!i(s.kind,r.kind)||r.type&&!i((m=s.spec)==null?void 0:m.type,r.type))}}function c(r){return s=>{var m;return i((m=s.metadata)==null?void 0:m.namespace,r)}}},17785:(k,v,e)=>{var Ie,We,Je,et,Ve,Ke,qa,er,tr;e.d(v,{dN:()=>Lt,Tu:()=>ht,FZ:()=>qe,bM:()=>Bt,jF:()=>ct,o6:()=>Ge,yf:()=>we,Cy:()=>Xe,oU:()=>Ze,BL:()=>ie,f2:()=>ft,rR:()=>Be});var t=e(8554),i=e(17393),d=e(32272),n=e(73359);function E(ve){return!ve.cursor}var l=e(96279),u=e.n(l);const c="catalog";var r=e(23587),s=Object.defineProperty,m=(ve,G,V)=>G in ve?s(ve,G,{enumerable:!0,configurable:!0,writable:!0,value:V}):ve[G]=V,f=(ve,G,V)=>(m(ve,typeof G!="symbol"?G+"":G,V),V);class p{constructor(G){f(this,"discoveryApi"),f(this,"fetchApi"),this.discoveryApi=G.discoveryApi,this.fetchApi=G.fetchApi||{fetch:u()}}async analyzeLocation(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/analyze-location").expand({});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"POST",body:JSON.stringify(G.body)})}async createLocation(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/locations{?dryRun}").expand({...G.query});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"POST",body:JSON.stringify(G.body)})}async deleteEntityByUid(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-uid/{uid}").expand({uid:G.path.uid});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"DELETE"})}async deleteLocation(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/locations/{id}").expand({id:G.path.id});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"DELETE"})}async getEntities(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities{?fields,limit,filter*,offset,after,order*}").expand({...G.query});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getEntitiesByQuery(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-query{?fields,limit,orderField*,cursor,filter*,fullTextFilterTerm,fullTextFilterFields}").expand({...G.query});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getEntitiesByRefs(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-refs/{?filter*}").expand({...G.query});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"POST",body:JSON.stringify(G.body)})}async getEntityAncestryByName(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-name/{kind}/{namespace}/{name}/ancestry").expand({kind:G.path.kind,namespace:G.path.namespace,name:G.path.name});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getEntityByName(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-name/{kind}/{namespace}/{name}").expand({kind:G.path.kind,namespace:G.path.namespace,name:G.path.name});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getEntityByUid(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entities/by-uid/{uid}").expand({uid:G.path.uid});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getEntityFacets(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/entity-facets{?facet*,filter*}").expand({...G.query});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getLocation(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/locations/{id}").expand({id:G.path.id});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getLocationByEntity(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/locations/by-entity/{kind}/{namespace}/{name}").expand({kind:G.path.kind,namespace:G.path.namespace,name:G.path.name});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async getLocations(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/locations").expand({});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"GET"})}async refreshEntity(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/refresh").expand({});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"POST",body:JSON.stringify(G.body)})}async validateEntity(G,V){const me=await this.discoveryApi.getBaseUrl(c),Oe=r.parse("/validate-entity").expand({});return await this.fetchApi.fetch(`${me}${Oe}`,{headers:{"Content-Type":"application/json",...(V==null?void 0:V.token)&&{Authorization:`Bearer ${V==null?void 0:V.token}`}},method:"POST",body:JSON.stringify(G.body)})}}var y=Object.defineProperty,C=(ve,G,V)=>G in ve?y(ve,G,{enumerable:!0,configurable:!0,writable:!0,value:V}):ve[G]=V,h=(ve,G,V)=>(C(ve,G+"",V),V);class R{constructor(G){h(this,"apiClient"),this.apiClient=new p(G)}async getEntityAncestors(G,V){return await this.requestRequired(await this.apiClient.getEntityAncestryByName({path:(0,t.of)(G.entityRef)},V))}async getLocationById(G,V){return await this.requestOptional(await this.apiClient.getLocation({path:{id:G}},V))}async getLocationByEntity(G,V){return await this.requestOptional(await this.apiClient.getLocationByEntity({path:(0,t.of)(G)},V))}async getEntities(G,V){const{filter:me=[],fields:be=[],order:Oe,offset:ot,limit:Qe,after:St}=G!=null?G:{},Mt=[];if(Oe)for(const ee of[Oe].flat())ee&&Mt.push(`${ee.order}:${ee.field}`);const _t=await this.requestRequired(await this.apiClient.getEntities({query:{fields:be,limit:Qe,filter:this.getFilterValue(me),offset:ot,after:St,order:Oe?Mt:void 0}},V));if(Mt.length)return{items:_t};const Yt=(ee,M)=>{var j,ue;if(((j=ee.metadata)==null?void 0:j.name)===void 0||ee.kind===void 0||((ue=M.metadata)==null?void 0:ue.name)===void 0||M.kind===void 0)return 0;const De=(0,t.eE)(ee),je=(0,t.eE)(M);return De<je?-1:De>je?1:0};return{items:_t.sort(Yt)}}async getEntitiesByRefs(G,V){const me=await this.apiClient.getEntitiesByRefs({body:{entityRefs:G.entityRefs,fields:G.fields},query:{filter:this.getFilterValue(G.filter)}},V);if(!me.ok)throw await d.VL.fromResponse(me);const{items:be}=await me.json();return{items:be.map(Oe=>Oe!=null?Oe:void 0)}}async queryEntities(G={},V){var me,be;const Oe={};if(E(G)){const{fields:ot=[],filter:Qe,limit:St,orderFields:Mt,fullTextFilter:_t}=G;Oe.filter=this.getFilterValue(Qe),St!==void 0&&(Oe.limit=St),Mt!==void 0&&(Oe.orderField=(Array.isArray(Mt)?Mt:[Mt]).map(({field:ee,order:M})=>`${ee},${M}`)),ot.length&&(Oe.fields=ot);const Yt=(me=_t==null?void 0:_t.term)==null?void 0:me.trim();Yt&&(Oe.fullTextFilterTerm=Yt),(be=_t==null?void 0:_t.fields)!=null&&be.length&&(Oe.fullTextFilterFields=_t.fields)}else{const{fields:ot=[],limit:Qe,cursor:St}=G;Oe.cursor=St,Qe!==void 0&&(Oe.limit=Qe),ot.length&&(Oe.fields=ot)}return this.apiClient.getEntitiesByQuery({query:Oe},V).then(ot=>ot.json())}async getEntityByRef(G,V){return this.requestOptional(await this.apiClient.getEntityByName({path:(0,t.of)(G)},V))}async getEntityByName(G,V){const{kind:me,namespace:be="default",name:Oe}=G;return this.requestOptional(await this.apiClient.getEntityByName({path:{kind:me,namespace:be,name:Oe}},V))}async refreshEntity(G,V){const me=await this.apiClient.refreshEntity({body:{entityRef:G}},V);if(me.status!==200)throw new Error(await me.text())}async getEntityFacets(G,V){const{filter:me=[],facets:be}=G;return await this.requestOptional(await this.apiClient.getEntityFacets({query:{facet:be,filter:this.getFilterValue(me)}},V))}async addLocation(G,V){const{type:me="url",target:be,dryRun:Oe}=G,ot=await this.apiClient.createLocation({body:{type:me,target:be},query:{dryRun:Oe?"true":void 0}},V);if(ot.status!==201)throw new Error(await ot.text());const{location:Qe,entities:St,exists:Mt}=await ot.json();if(!Qe)throw new Error(`Location wasn't added: ${be}`);return{location:Qe,entities:St,exists:Mt}}async getLocationByRef(G,V){return(await this.requestRequired(await this.apiClient.getLocations({},V))).map(be=>be.data).find(be=>G===(0,i.NZ)(be))}async removeLocationById(G,V){await this.requestIgnored(await this.apiClient.deleteLocation({path:{id:G}},V))}async removeEntityByUid(G,V){await this.requestIgnored(await this.apiClient.deleteEntityByUid({path:{uid:G}},V))}async validateEntity(G,V,me){const be=await this.apiClient.validateEntity({body:{entity:G,location:V}},me);if(be.ok)return{valid:!0};if(be.status!==400)throw await d.VL.fromResponse(be);const{errors:Oe=[]}=await be.json();return{valid:!1,errors:Oe}}async requestIgnored(G){if(!G.ok)throw await d.VL.fromResponse(G)}async requestRequired(G){if(!G.ok)throw await d.VL.fromResponse(G);return G.json()}async requestOptional(G){if(!G.ok){if(G.status===404)return;throw await d.VL.fromResponse(G)}return await G.json()}getFilterValue(G=[]){const V=[];for(const me of[G].flat()){const be=[];for(const[Oe,ot]of Object.entries(me))for(const Qe of[ot].flat())Qe===n.n?be.push(Oe):typeof Qe=="string"&&be.push(`${Oe}=${Qe}`);be.length&&V.push(be.join(","))}return V}}var O=e(23200),D=e(78800),x=e(5971),B=e(96671),o=e(66351),T=e(72951),W=e(39798),F=e(86477),H=e(75341),z=e(86987),J=e(20802),Z=e(61109);function L(ve){const{years:G=0,months:V=0,weeks:me=0,days:be=0,hours:Oe=0,minutes:ot=0,seconds:Qe=0,milliseconds:St=0}=ve;return((((G*365+V*30+me*7+be)*24+Oe)*60+ot)*60+Qe)*1e3+St}var $=e(99798),U=e.n($),Y=e(12830),S=e.n(Y),b=e(82394),K=e.n(b),se=e(11061),le=e(43642),_=e(90941),te=e(15933),de=e(78258),re=e(4989),ae=e(44407),oe=e(84219),ne=e(98685),he=e(62607);const Le={seconds:10},ke={milliseconds:50},_e={api:te.Z,component:ae.Z,system:_.Z,resource:he.Z,domain:le.Z,location:re.Z,user:ne.Z,group:oe.Z,template:de.Z};function xe(ve){return{async:ve.async,render:({entityRef:G,entity:V,context:me})=>({snapshot:(0,se.n)(V||G,me),loadEntity:ve.async})}}const mt=class mt{constructor(G){Rt(this,Ke);Rt(this,Ie);Rt(this,We);Rt(this,Je);Rt(this,et);Rt(this,Ve);var ot,Qe,St,Mt;const V=(ot=G.cacheTtl)!=null?ot:Le,me=(Qe=G.batchDelay)!=null?Qe:ke,be=(St=G.renderer)!=null?St:xe({async:!0}),Oe={};if(Object.entries(_e).forEach(([_t,Yt])=>{Oe[_t.toLocaleLowerCase("en-US")]=Yt}),Object.entries((Mt=G.kindIcons)!=null?Mt:{}).forEach(([_t,Yt])=>{Oe[_t.toLocaleLowerCase("en-US")]=Yt}),be.async){if(!G.catalogApi)throw new TypeError("Asynchronous rendering requires a catalog API");Zt(this,Je,gn(this,Ke,er).call(this,{cacheTtl:V,batchDelay:me,renderer:be,catalogApi:G.catalogApi}))}Zt(this,We,L(V)),Zt(this,Ie,new Map),Zt(this,et,Oe),Zt(this,Ve,be)}static createLocal(){return new mt({renderer:xe({async:!1})})}static create(G){return new mt(G)}forEntity(G,V){const{entityRef:me,kind:be,entity:Oe,needsLoad:ot}=gn(this,Ke,qa).call(this,G),Qe=ee=>{const{snapshot:M}=Re(this,Ve).render({entityRef:me,loading:ee.loading,entity:ee.entity,context:V||{}});return{...M,entityRef:me,Icon:gn(this,Ke,tr).call(this,M.Icon,be)}};let St;try{St=Qe({loading:ot,entity:Oe})}catch{St={primaryTitle:me,entityRef:me}}if(!ot)return{snapshot:St,promise:Promise.resolve(St)};const Mt=Promise.resolve().then(()=>{var ee;return(ee=Re(this,Je))==null?void 0:ee.load(me)}).then(ee=>Qe({loading:!1,entity:ee!=null?ee:Oe})).catch(()=>{}),_t=new(K())(ee=>{let M=!1;return Mt.then(j=>{j&&ee.next(j)}).finally(()=>{M||ee.complete()}),()=>{M=!0}}),Yt=Mt.then(ee=>ee!=null?ee:St);return{snapshot:St,update$:_t,promise:Yt}}};Ie=new WeakMap,We=new WeakMap,Je=new WeakMap,et=new WeakMap,Ve=new WeakMap,Ke=new WeakSet,qa=function(G){if(typeof G!="string")return{entity:G,kind:G.kind,entityRef:(0,t.eE)(G),needsLoad:!1};const V=Re(this,Ie).get(G),me=V==null?void 0:V.entity,Oe=(!V||Date.now()-V.updatedAt>Re(this,We))&&Re(this,Ve).async!==!1&&Re(this,Je)!==void 0;return{entity:me,kind:(0,t.of)(G).kind,entityRef:G,needsLoad:Oe}},er=function(G){const V=L(G.cacheTtl),me=L(G.batchDelay);return new(U())(async be=>{const{items:Oe}=await G.catalogApi.getEntitiesByRefs({entityRefs:be}),ot=Date.now();return be.forEach((Qe,St)=>{Re(this,Ie).set(Qe,{updatedAt:ot,entity:Oe[St]})}),Oe},{name:"DefaultEntityPresentationApi",cacheMap:new(S())(V),maxBatchSize:100,batchScheduleFn:me?be=>setTimeout(be,me):void 0})},tr=function(G,V){return G||(G===!1?!1:Re(this,et)[V.toLocaleLowerCase("en-US")])};let fe=mt;var Me=e(76635);async function Ce({storageApi:ve}){var Oe;const G=ve.forBucket("settings"),V=ve.forBucket("starredEntities"),me=G.snapshot("starredEntities").value;if(!(0,Me.isArray)(me))return;const be=new Set((Oe=V.snapshot("entityRefs").value)!=null?Oe:[]);me.filter(Me.isString).map(ot=>ot.split(":")).filter(ot=>ot.length===4&&ot[0]==="entity").map(([ot,Qe,St,Mt])=>(0,t.eE)({kind:Qe,namespace:St,name:Mt})).forEach(ot=>be.add(ot)),await V.set("entityRefs",Array.from(be)),await G.remove("starredEntities")}class Ae{constructor(G){Ee(this,"settingsStore");Ee(this,"starredEntities");Ee(this,"subscribers",new Set);Ee(this,"observable",new(K())(G=>(G.next(new Set(this.starredEntities)),this.subscribers.add(G),()=>{this.subscribers.delete(G)})));var V;Ce(G).then(),this.settingsStore=G.storageApi.forBucket("starredEntities"),this.starredEntities=new Set((V=this.settingsStore.snapshot("entityRefs").value)!=null?V:[]),this.settingsStore.observe$("entityRefs").subscribe({next:me=>{var be;this.starredEntities=new Set((be=me.value)!=null?be:[]),this.notifyChanges()}})}async toggleStarred(G){this.starredEntities.has(G)?this.starredEntities.delete(G):this.starredEntities.add(G),await this.settingsStore.set("entityRefs",Array.from(this.starredEntities))}starredEntitie$(){return this.observable}notifyChanges(){for(const G of this.subscribers)G.next(new Set(this.starredEntities))}}const Be=(0,T.r)({id:"catalog",apis:[(0,W.n)({api:O.A,deps:{discoveryApi:F.N,fetchApi:H.g},factory:({discoveryApi:ve,fetchApi:G})=>new R({discoveryApi:ve,fetchApi:G})}),(0,W.n)({api:D.p,deps:{storageApi:z.E},factory:({storageApi:ve})=>new Ae({storageApi:ve})}),(0,W.n)({api:x.X,deps:{catalogApi:O.A},factory:({catalogApi:ve})=>fe.create({catalogApi:ve})})],routes:{catalogIndex:o._Z,catalogEntity:B.w},externalRoutes:{createComponent:o.yw,viewTechDoc:o.jU,createFromTemplate:o.ql,unregisterRedirect:o.kR}}),ht=Be.provide((0,J.P4)({name:"CatalogIndexPage",component:()=>Promise.all([e.e(4083),e.e(3313),e.e(1234)]).then(e.bind(e,91234)).then(ve=>ve.CatalogPage),mountPoint:o._Z})),Lt=Be.provide((0,J.P4)({name:"CatalogEntityPage",component:()=>e.e(8950).then(e.bind(e,88950)).then(ve=>ve.CatalogEntityPage),mountPoint:B.w})),Bt=Be.provide((0,J.CO)({name:"EntityAboutCard",component:{lazy:()=>Promise.all([e.e(651),e.e(1987)]).then(e.bind(e,21987)).then(ve=>ve.AboutCard)}})),ft=Be.provide((0,J.CO)({name:"EntityLinksCard",component:{lazy:()=>e.e(5745).then(e.bind(e,85745)).then(ve=>ve.EntityLinksCard)}})),ze=Be.provide((0,J.CO)({name:"EntityLabelsCard",component:{lazy:()=>e.e(2635).then(e.bind(e,82635)).then(ve=>ve.EntityLabelsCard)}})),ie=Be.provide((0,J.CO)({name:"EntityHasSystemsCard",component:{lazy:()=>e.e(9118).then(e.bind(e,69118)).then(ve=>ve.HasSystemsCard)}})),we=Be.provide((0,J.CO)({name:"EntityHasComponentsCard",component:{lazy:()=>e.e(1568).then(e.bind(e,91568)).then(ve=>ve.HasComponentsCard)}})),Ze=Be.provide((0,J.CO)({name:"EntityHasSubcomponentsCard",component:{lazy:()=>e.e(1629).then(e.bind(e,21629)).then(ve=>ve.HasSubcomponentsCard)}})),Xe=Be.provide((0,J.CO)({name:"EntityHasResourcesCard",component:{lazy:()=>e.e(7777).then(e.bind(e,17777)).then(ve=>ve.HasResourcesCard)}})),ct=Be.provide((0,J.CO)({name:"EntityDependsOnComponentsCard",component:{lazy:()=>e.e(5124).then(e.bind(e,15124)).then(ve=>ve.DependsOnComponentsCard)}})),Pt=Be.provide((0,J.CO)({name:"EntityDependencyOfComponentsCard",component:{lazy:()=>e.e(2857).then(e.bind(e,52857)).then(ve=>ve.DependencyOfComponentsCard)}})),Ge=Be.provide((0,J.CO)({name:"EntityDependsOnResourcesCard",component:{lazy:()=>e.e(6040).then(e.bind(e,46040)).then(ve=>ve.DependsOnResourcesCard)}})),yt=Be.provide((0,J.CO)({name:"RelatedEntitiesCard",component:{lazy:()=>e.e(4168).then(e.bind(e,94168)).then(ve=>ve.RelatedEntitiesCard)}})),qe=Be.provide((0,Z.E5)({name:"CatalogSearchResultListItem",component:()=>e.e(8423).then(e.bind(e,98423)).then(ve=>ve.CatalogSearchResultListItem),predicate:ve=>ve.type==="software-catalog"}))},66351:(k,v,e)=>{e.d(v,{_Z:()=>u,jU:()=>n,kR:()=>l,ql:()=>E,yw:()=>d});var t=e(31916),i=e(171);const d=(0,t.x)({id:"create-component",optional:!0,defaultTarget:"scaffolder.createComponent"}),n=(0,t.x)({id:"view-techdoc",optional:!0,params:["namespace","kind","name"],defaultTarget:"techdocs.docRoot"}),E=(0,t.x)({id:"create-from-template",optional:!0,params:["namespace","templateName"],defaultTarget:"scaffolder.selectedTemplate"}),l=(0,t.x)({id:"catalog:unregister-redirect",optional:!0}),u=(0,i.N)({id:"catalog"})},26622:(k,v,e)=>{e.d(v,{$M:()=>E,Eg:()=>u,jQ:()=>c,rw:()=>l,w1:()=>n});var t=e(72951),i=e(20802),d=e(91299);const n=(0,t.r)({id:"org",externalRoutes:{catalogIndex:d.x}}),E=n.provide((0,i.CO)({name:"EntityGroupProfileCard",component:{lazy:()=>e.e(4076).then(e.bind(e,64668)).then(r=>r.GroupProfileCard)}})),l=n.provide((0,i.CO)({name:"EntityMembersListCard",component:{lazy:()=>e.e(4076).then(e.bind(e,64668)).then(r=>r.MembersListCard)}})),u=n.provide((0,i.CO)({name:"EntityOwnershipCard",component:{lazy:()=>e.e(4076).then(e.bind(e,64668)).then(r=>r.OwnershipCard)}})),c=n.provide((0,i.CO)({name:"EntityUserProfileCard",component:{lazy:()=>e.e(4076).then(e.bind(e,64668)).then(r=>r.UserProfileCard)}}))},91299:(k,v,e)=>{e.d(v,{x:()=>i});var t=e(31916);const i=(0,t.x)({id:"catalog-index",optional:!0,defaultTarget:"catalog.catalogIndex"})},88850:(k,v,e)=>{e.d(v,{J:()=>t});function t({name:i,attributes:d,resourceType:n}){return n?{type:"resource",name:i,attributes:d,resourceType:n}:{type:"basic",name:i,attributes:d}}},67182:(k,v,e)=>{e.d(v,{g2:()=>i});function t(c,r){return c.name===r.name}function i(c,r){return"resourceType"in c?!r||c.resourceType===r:!1}function d(c){return c.attributes.action==="create"}function n(c){return c.attributes.action==="read"}function E(c){return c.attributes.action==="update"}function l(c){return c.attributes.action==="delete"}function u(c){return{authorize:async(r,s)=>await c.authorize(r,s),authorizeConditional(r,s){const m=r;return c.authorize(m,s)}}}},11025:(k,v,e)=>{e.d(v,{r:()=>t});var t=(i=>(i.DENY="DENY",i.ALLOW="ALLOW",i.CONDITIONAL="CONDITIONAL",i))(t||{})},20721:(k,v,e)=>{e.d(v,{R:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.permission.api"})},39644:(k,v,e)=>{e.d(v,{u:()=>E});var t=e(2784),i=e(70666),d=e(39203),n=e(67182);function E(l){const{permission:u,resourceRef:c}=l,r=(0,d.g)((0,n.g2)(u)?{permission:u,resourceRef:c}:{permission:u}),s=(0,i.q)();if(r.loading)return null;if(r.allowed)return t.createElement(t.Fragment,null,l.children);if(l.errorPage)return t.createElement(t.Fragment,null,l.errorPage);const{NotFoundErrorPage:m}=s.getComponents();return t.createElement(m,null)}},39203:(k,v,e)=>{e.d(v,{g:()=>l});var t=e(59274),i=e(20721),d=e(67182),n=e(11025),E=e(69984);function l(u){const c=(0,t.h_)(i.R),{data:r,error:s}=(0,E.ZP)(u,async m=>{if((0,d.g2)(m.permission)&&!m.resourceRef)return n.r.DENY;const{result:f}=await c.authorize(m);return f});return s?{error:s,loading:!1,allowed:!1}:r===void 0?{loading:!0,allowed:!1}:{loading:!1,allowed:r===n.r.ALLOW}}},31900:(k,v,e)=>{e.d(v,{l:()=>d});var t=e(45133),i=e(18473);const d=(0,i.uW)("scaffolder:scaffolder-api-ref",()=>(0,t.T)({id:"plugin.scaffolder.service"}))},8320:(k,v,e)=>{e.d(v,{n:()=>t,r:()=>i});const t="scaffolder.extensions.wrapper.v1",i="scaffolder.extensions.field.v1"},34202:(k,v,e)=>{e.d(v,{A:()=>n,T:()=>E});var t=e(18473),i=e(2784);const d=(0,t.CT)("secrets-context"),n=l=>{const{initialSecrets:u={}}=l,[c,r]=(0,i.useState)({...u});return i.createElement(d.Provider,{value:(0,t.EI)({1:{secrets:c,setSecrets:r}})},l.children)},E=()=>{var s;const l=(s=(0,i.useContext)(d))==null?void 0:s.atVersion(1);if(!l)throw new Error("useTemplateSecrets must be used within a SecretsContextProvider");const{setSecrets:u,secrets:c={}}=l;return{setSecrets:(0,i.useCallback)(m=>{u(f=>({...f,...m}))},[u]),secrets:c}}},52391:(k,v,e)=>{e.d(v,{p:()=>d});var t=e(2784),i=e(86619);const d=n=>{const{onChange:E,required:l,schema:{title:u="Name",description:c="Unique name of the component"},rawErrors:r,formData:s,uiSchema:{"ui:autofocus":m},idSchema:f,placeholder:p}=n;return t.createElement(i.Z,{id:f==null?void 0:f.$id,label:u,placeholder:p,helperText:c,required:l,value:s!=null?s:"",onChange:({target:{value:y}})=>E(y),margin:"normal",error:(r==null?void 0:r.length)>0&&!s,inputProps:{autoFocus:m}})}},35947:(k,v,e)=>{e.d(v,{K:()=>n});var t=e(30195),i=e(48836);const n=(0,i.M)(t.z.string()).schema},95133:(k,v,e)=>{e.d(v,{e:()=>i});var t=e(98679);const i=(d,n)=>{t.y.isValidObjectName(d)||n.addError("Must start and end with an alphanumeric character, and contain only alphanumeric characters, hyphens, underscores, and periods. Maximum length is 63 characters.")}},48828:(k,v,e)=>{e.d(v,{E:()=>y});var t=e(73359),i=e(8554),d=e(59274),n=e(23200),E=e(5971),l=e(77666),u=e(86619),c=e(42494),r=e(97570),s=e(11637),m=e(2784),f=e(4812),p=e(78893);const y=O=>{var le,_,te,de,re;const{onChange:D,schema:{title:x="Entity",description:B="An entity from the catalog"},required:o,uiSchema:T,rawErrors:W,formData:F,idSchema:H}=O,z=R(T),J=(le=T["ui:options"])==null?void 0:le.defaultKind,Z=((_=T["ui:options"])==null?void 0:_.defaultNamespace)||void 0,L=(0,d.h_)(n.A),$=(0,d.h_)(E.X),{value:U,loading:Y}=(0,f.Z)(async()=>{const ae=["metadata.name","metadata.namespace","metadata.title","kind"],{items:oe}=await L.getEntities(z?{filter:z,fields:ae}:{filter:void 0,fields:ae}),ne=new Map(await Promise.all(oe.map(async he=>{const Le=await $.forEntity(he).promise;return[(0,i.eE)(he),Le]})));return{catalogEntities:oe,entityRefToPresentation:ne}}),S=(de=(te=T["ui:options"])==null?void 0:te.allowArbitraryValues)!=null?de:!0,b=(0,m.useCallback)(ae=>{try{const oe=(0,i.of)(ae,{defaultKind:J,defaultNamespace:Z});return(0,i.eE)(oe)}catch{return ae}},[J,Z]),K=(0,m.useCallback)((ae,oe,ne)=>{if(typeof oe!="string")D(oe?(0,i.eE)(oe):void 0);else if(ne==="blur"||ne==="create-option"){let he=oe;try{he=(0,i.eE)((0,i.of)(oe,{defaultKind:J,defaultNamespace:Z}))}catch{}(F!==oe||S)&&D(he)}},[D,F,J,Z,S]),se=(re=U==null?void 0:U.catalogEntities.find(ae=>(0,i.eE)(ae)===F))!=null?re:S&&F?b(F):"";return(0,m.useEffect)(()=>{(U==null?void 0:U.catalogEntities.length)===1&&se===""&&D((0,i.eE)(U.catalogEntities[0]))},[U,D,se]),m.createElement(c.Z,{margin:"normal",required:o,error:(W==null?void 0:W.length)>0&&!F},m.createElement(r.ZP,{disabled:(U==null?void 0:U.catalogEntities.length)===1,id:H==null?void 0:H.$id,value:se,loading:Y,onChange:K,options:(U==null?void 0:U.catalogEntities)||[],getOptionLabel:ae=>{var oe;return typeof ae=="string"?ae:(oe=U==null?void 0:U.entityRefToPresentation.get((0,i.eE)(ae)))==null?void 0:oe.entityRef},autoSelect:!0,freeSolo:S,renderInput:ae=>m.createElement(u.Z,{...ae,label:x,margin:"dense",helperText:B,FormHelperTextProps:{margin:"dense",style:{marginLeft:0}},variant:"outlined",required:o,InputProps:ae.InputProps}),renderOption:ae=>m.createElement(l.c,{entityRef:ae}),filterOptions:(0,s.D)({stringify:ae=>{var oe;return(oe=U==null?void 0:U.entityRefToPresentation.get((0,i.eE)(ae)))==null?void 0:oe.primaryTitle}}),ListboxComponent:p.d}))};function C(O){return typeof O=="object"&&O.exists?t.n:O==null?void 0:O.toString()}function h(O){const D={};for(const[x,B]of Object.entries(O))Array.isArray(B)?D[x]=B:D[x]=C(B);return D}function R(O){var B,o;const D=(B=O["ui:options"])==null?void 0:B.allowedKinds,x=((o=O["ui:options"])==null?void 0:o.catalogFilter)||D&&{kind:D};if(x)return Array.isArray(x)?x.map(h):h(x)}},46076:(k,v,e)=>{e.d(v,{ks:()=>E,o0:()=>d});var t=e(30195),i=e(48836);const d=t.z.record(t.z.string().or(t.z.object({exists:t.z.boolean().optional()})).or(t.z.array(t.z.string()))),E=(0,i.M)(t.z.string(),t.z.object({allowedKinds:t.z.array(t.z.string()).optional().describe("DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from"),defaultKind:t.z.string().optional().describe("The default entity kind. Options of this kind will not be prefixed."),allowArbitraryValues:t.z.boolean().optional().describe("Whether to allow arbitrary user input. Defaults to true"),defaultNamespace:t.z.union([t.z.string(),t.z.literal(!1)]).optional().describe("The default namespace. Options with this namespace will not be prefixed."),catalogFilter:t.z.array(d).or(d).optional().describe("List of key-value filter expression for entities")})).schema},91865:(k,v,e)=>{e.d(v,{I:()=>f});var t=e(2784),i=e(4812),d=e(69904),n=e(98679);const E={isValidApiVersion:n.y.isValidApiVersion,isValidKind:n.y.isValidKind,isValidEntityName:n.y.isValidObjectName,isValidNamespace:n.y.isValidNamespace,isValidLabelKey:n.y.isValidLabelKey,isValidLabelValue:n.y.isValidLabelValue,isValidAnnotationKey:n.y.isValidAnnotationKey,isValidAnnotationValue:n.y.isValidAnnotationValue,isValidTag:p=>typeof p=="string"&&p.length>=1&&p.length<=63&&/^[a-z0-9:+#]+(\-[a-z0-9:+#]+)*$/.test(p)};function l(p={}){return{...E,...p}}var u=e(59274),c=e(23200),r=e(42494),s=e(86619),m=e(97570);const f=p=>{var $,U,Y;const{formData:y,onChange:C,uiSchema:h}=p,R=(0,u.h_)(c.A),[O,D]=(0,t.useState)([]),[x,B]=(0,t.useState)(""),[o,T]=(0,t.useState)(!1),W=l().isValidTag,F=($=h["ui:options"])==null?void 0:$.kinds,H=(U=h["ui:options"])==null?void 0:U.showCounts,z=(Y=h["ui:options"])==null?void 0:Y.helperText,{loading:J,value:Z}=(0,i.Z)(async()=>{const S="metadata.tags",b={facets:[S]};F&&(b.filter={kind:F});const{facets:K}=await R.getEntityFacets(b),se=Object.fromEntries(K[S].map(({value:le,count:_})=>[le,_]));return D(Object.keys(se).sort((le,_)=>H?se[_]-se[le]:le.localeCompare(_))),se}),L=(S,b)=>{let K=!1,se=!1;const le=y||[];if(b!=null&&b.length&&le.length<b.length){const _=b[b.length-1]=b[b.length-1].toLocaleLowerCase("en-US").trim();K=!W(_),se=le.indexOf(_)!==-1}T(K),B(K?x:""),!K&&!se&&C(b||[])};return(0,d.Z)(()=>C(y||[])),t.createElement(r.Z,{margin:"normal"},t.createElement(m.ZP,{multiple:!0,freeSolo:!0,filterSelectedOptions:!0,onChange:L,value:y||[],inputValue:x,loading:J,options:O,ChipProps:{size:"small"},renderOption:S=>H?`${S} (${Z==null?void 0:Z[S]})`:S,renderInput:S=>t.createElement(s.Z,{...S,label:"Tags",onChange:b=>B(b.target.value),error:o,helperText:z!=null?z:"Add any relevant tags, hit 'Enter' to add new tags. Valid format: [a-z0-9+#] separated by [-], at most 63 characters"})}))}},12448:(k,v,e)=>{e.d(v,{o:()=>n});var t=e(30195),i=e(48836);const n=(0,i.M)(t.z.array(t.z.string()),t.z.object({kinds:t.z.array(t.z.string()).optional().describe("List of kinds of entities to derive tags from"),showCounts:t.z.boolean().optional().describe("Whether to show usage counts per tag"),helperText:t.z.string().optional().describe("Helper text to display")})).schema},99155:(k,v,e)=>{e.d(v,{KM:()=>p,u8:()=>y});var t=e(73359),i=e(8554),d=e(59274),n=e(23200),E=e(5971),l=e(77666),u=e(86619),c=e(42494),r=e(97570),s=e(2784),m=e(4812),f=e(78893);const p=O=>{var K,se,le,_,te;const{onChange:D,schema:{title:x="Entity",description:B="An entity from the catalog"},required:o,uiSchema:T,rawErrors:W,formData:F,idSchema:H}=O,z=R(T),J=(K=T["ui:options"])==null?void 0:K.defaultKind,Z=((se=T["ui:options"])==null?void 0:se.defaultNamespace)||void 0,L=(0,d.h_)(n.A),$=(0,d.h_)(E.X),{value:U,loading:Y}=(0,m.Z)(async()=>{const{items:de}=await L.getEntities(z?{filter:z}:void 0),re=new Map(await Promise.all(de.map(async ae=>{const oe=await $.forEntity(ae).promise;return[(0,i.eE)(ae),oe]})));return{entities:de,entityRefToPresentation:re}}),S=(_=(le=T["ui:options"])==null?void 0:le.allowArbitraryValues)!=null?_:!0,b=(0,s.useCallback)((de,re,ae)=>{const oe=re.map(ne=>{if(typeof ne!="string")return ne?(0,i.eE)(ne):void 0;if(ae==="blur"||ae==="create-option"){let he=ne;try{he=(0,i.eE)((0,i.of)(ne,{defaultKind:J,defaultNamespace:Z}))}catch{}if(F!=null&&F.includes(ne)||S)return he}}).filter(ne=>ne!==void 0);D(oe)},[D,F,J,Z,S]);return(0,s.useEffect)(()=>{var de;((de=U==null?void 0:U.entities)==null?void 0:de.length)===1&&D([(0,i.eE)(U==null?void 0:U.entities[0])])},[U,D]),s.createElement(c.Z,{margin:"normal",required:o,error:(W==null?void 0:W.length)>0&&!F},s.createElement(r.ZP,{multiple:!0,filterSelectedOptions:!0,disabled:((te=U==null?void 0:U.entities)==null?void 0:te.length)===1,id:H==null?void 0:H.$id,loading:Y,onChange:b,options:(U==null?void 0:U.entities)||[],renderOption:de=>s.createElement(l.c,{entityRef:de}),getOptionLabel:de=>{var re;return typeof de=="string"?de:(re=U==null?void 0:U.entityRefToPresentation.get((0,i.eE)(de)))==null?void 0:re.entityRef},autoSelect:!0,freeSolo:S,renderInput:de=>s.createElement(u.Z,{...de,label:x,margin:"dense",helperText:B,FormHelperTextProps:{margin:"dense",style:{marginLeft:0}},variant:"outlined",required:o,InputProps:{...de.InputProps,required:(F==null?void 0:F.length)===0&&o}}),ListboxComponent:f.d}))},y=(O,D)=>{O.forEach(x=>{try{(0,i.of)(x)}catch{D.addError(`${x} is not a valid entity ref`)}})};function C(O){return typeof O=="object"&&O.exists?t.n:O==null?void 0:O.toString()}function h(O){const D={};for(const[x,B]of Object.entries(O))Array.isArray(B)?D[x]=B:D[x]=C(B);return D}function R(O){var x;const D=(x=O["ui:options"])==null?void 0:x.catalogFilter;if(D)return Array.isArray(D)?D.map(h):h(D)}},62787:(k,v,e)=>{e.d(v,{Vq:()=>E});var t=e(30195),i=e(48836);const d=t.z.record(t.z.string().or(t.z.object({exists:t.z.boolean().optional()})).or(t.z.array(t.z.string()))),E=(0,i.M)(t.z.array(t.z.string()),t.z.object({defaultKind:t.z.string().optional().describe("The default entity kind. Options of this kind will not be prefixed."),allowArbitraryValues:t.z.boolean().optional().describe("Whether to allow arbitrary user input. Defaults to true"),defaultNamespace:t.z.union([t.z.string(),t.z.literal(!1)]).optional().describe("The default namespace. Options with this namespace will not be prefixed."),catalogFilter:t.z.array(d).or(d).optional().describe("List of key-value filter expression for entities")})).schema},21594:(k,v,e)=>{e.d(v,{c:()=>f});var t=e(2784),i=e(59274),d=e(62039),n=e(5191),E=e(86619),l=e(42494),u=e(97570),c=e(23200),r=e(32272),s=e(4812),m=e(8554);const f=p=>{const{schema:{title:y,description:C},required:h,rawErrors:R,onChange:O,formData:D}=p,x=(0,i.h_)(d.$),B=(0,i.h_)(c.A),o=(0,i.h_)(n.V),[T,W]=(0,t.useState)([]);(0,s.Z)(async()=>{const{userEntityRef:z}=await x.getBackstageIdentity();if(!z){o.post(new r.dR("No user entity ref found"));return}const{items:J}=await B.getEntities({filter:{kind:"Group","relations.hasMember":[z]}}),Z=J.filter(L=>!!L).map(L=>{var $;return{label:($=L.metadata.title)!=null?$:L.metadata.name,ref:(0,m.eE)(L)}});W(Z)});const F=(z,J)=>{var Z;O((Z=J==null?void 0:J.ref)!=null?Z:"")},H=(T==null?void 0:T.find(z=>z.ref===D))||null;return t.createElement(l.Z,{margin:"normal",required:h,error:(R==null?void 0:R.length)>0},t.createElement(u.ZP,{id:"OwnershipEntityRefPicker-dropdown",options:T||[],value:H,onChange:F,getOptionLabel:z=>z.label,renderInput:z=>t.createElement(E.Z,{...z,label:y,margin:"dense",helperText:C,FormHelperTextProps:{margin:"dense",style:{marginLeft:0}},variant:"outlined",required:h})}))}},767:(k,v,e)=>{e.d(v,{E:()=>n});var t=e(30195),i=e(48836);const n=(0,i.M)(t.z.string(),t.z.object({title:t.z.string().default("Group").describe("Group"),description:t.z.string().default("A group you are part of").describe("The group to which the entity belongs")})).schema},80798:(k,v,e)=>{e.d(v,{X:()=>r});var t=e(9277),i=e(59274),d=e(62039),n=e(86619),E=e(97570),l=e(2784),u=e(4812),c=e(48828);const r=m=>{const{schema:{title:f="Entity",description:p="An entity from the catalog"},uiSchema:y,required:C}=m,h=(0,i.h_)(d.$),{loading:R,value:O}=(0,u.Z)(async()=>(await h.getBackstageIdentity()).ownershipEntityRefs);if(R)return l.createElement(E.ZP,{loading:R,renderInput:x=>l.createElement(n.Z,{...x,label:f,margin:"dense",helperText:p,FormHelperTextProps:{margin:"dense",style:{marginLeft:0}},variant:"outlined",required:C,InputProps:x.InputProps}),options:[]});const D=s(y,O);return l.createElement(c.E,{...m,uiSchema:D})};function s(m,f){const p=(m==null?void 0:m["ui:options"])||{},y=p.allowedKinds;return{"ui:options":{catalogFilter:{...p.catalogFilter,...y?{kind:y,[`relations.${t.S4}`]:f||[]}:{[`relations.${t.S4}`]:f||[]}}}}}},57378:(k,v,e)=>{e.d(v,{L:()=>E});var t=e(30195),i=e(48836),d=e(46076);const E=(0,i.M)(t.z.string(),t.z.object({allowedKinds:t.z.array(t.z.string()).optional().describe("DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from"),defaultKind:t.z.string().optional().describe("The default entity kind. Options of this kind will not be prefixed."),allowArbitraryValues:t.z.boolean().optional().describe("Whether to allow arbitrary user input. Defaults to true"),defaultNamespace:t.z.union([t.z.string(),t.z.literal(!1)]).optional().describe("The default namespace. Options with this namespace will not be prefixed."),catalogFilter:t.z.array(d.o0).or(d.o0).optional().describe("List of key-value filter expression for entities")})).schema},98449:(k,v,e)=>{e.d(v,{D:()=>d});var t=e(2784),i=e(48828);const d=n=>{var p,y,C,h,R;const{schema:{title:E="Owner",description:l="The owner of the component"},uiSchema:u,...c}=n,r=(p=u["ui:options"])==null?void 0:p.defaultNamespace,s=(y=u["ui:options"])==null?void 0:y.allowedKinds,m=((C=u["ui:options"])==null?void 0:C.catalogFilter)||{kind:s||["Group","User"]},f={...u,"ui:options":{catalogFilter:m,defaultKind:"Group",allowArbitraryValues:(R=(h=u["ui:options"])==null?void 0:h.allowArbitraryValues)!=null?R:!0,...r!==void 0?{defaultNamespace:r}:{}}};return t.createElement(i.E,{...c,schema:{title:E,description:l},uiSchema:f})}},72013:(k,v,e)=>{e.d(v,{f:()=>E});var t=e(30195),i=e(48836),d=e(46076);const E=(0,i.M)(t.z.string(),t.z.object({allowedKinds:t.z.array(t.z.string()).default(["Group","User"]).optional().describe("DEPRECATED: Use `catalogFilter` instead. List of kinds of entities to derive options from. Defaults to Group and User"),allowArbitraryValues:t.z.boolean().optional().describe("Whether to allow arbitrary user input. Defaults to true"),defaultNamespace:t.z.union([t.z.string(),t.z.literal(!1)]).optional().describe("The default namespace. Options with this namespace will not be prefixed."),catalogFilter:t.z.array(d.o0).or(d.o0).optional().describe("List of key-value filter expression for entities")})).schema},58674:(k,v,e)=>{e.d(v,{O:()=>J});var t=e(59274),i=e(38389),d=e(90861),n=e(2784),E=e(42494),l=e(74828),u=e(29611),c=e(56939),r=e(39802);const s=Z=>{const{allowedOwners:L=[],rawErrors:$,state:U,onChange:Y}=Z,S=L?L.map(K=>({label:K,value:K})):[{label:"Loading...",value:"loading"}],{owner:b}=U;return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:($==null?void 0:$.length)>0&&!b},L!=null&&L.length?n.createElement(r.H,{native:!0,label:"Owner Available",onChange:K=>Y({owner:String(Array.isArray(K)?K[0]:K)}),disabled:L.length===1,selected:b,items:S}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"ownerInput"},"Owner"),n.createElement(u.Z,{id:"ownerInput",onChange:K=>Y({owner:K.target.value}),value:b})),n.createElement(l.Z,null,"The organization, user or project that this repo will belong to")))},m=Z=>{const{allowedOwners:L=[],state:$,onChange:U,rawErrors:Y}=Z,S=L?L.map(K=>({label:K,value:K})):[{label:"Loading...",value:"loading"}],{owner:b}=$;return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!b},L!=null&&L.length?n.createElement(r.H,{native:!0,label:"Owner Available",onChange:K=>U({owner:String(Array.isArray(K)?K[0]:K)}),disabled:L.length===1,selected:b,items:S}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"ownerInput"},"Owner"),n.createElement(u.Z,{id:"ownerInput",onChange:K=>U({owner:K.target.value}),value:b})),n.createElement(l.Z,null,"Gitea namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.")))},f=Z=>{const{allowedOwners:L=[],state:$,onChange:U,rawErrors:Y}=Z,S=L?L.map(K=>({label:K,value:K})):[{label:"Loading...",value:"loading"}],{owner:b}=$;return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!b},L!=null&&L.length?n.createElement(r.H,{native:!0,label:"Owner Available",onChange:K=>U({owner:String(Array.isArray(K)?K[0]:K)}),disabled:L.length===1,selected:b,items:S}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"ownerInput"},"Owner"),n.createElement(u.Z,{id:"ownerInput",onChange:K=>U({owner:K.target.value}),value:b})),n.createElement(l.Z,null,"GitLab namespace where this repository will belong to. It can be the name of organization, group, subgroup, user, or the project.")))},p=Z=>{const{allowedOrganizations:L=[],allowedProject:$=[],rawErrors:U,state:Y,onChange:S}=Z,b=L?L.map(_=>({label:_,value:_})):[{label:"Loading...",value:"loading"}],K=$?$.map(_=>({label:_,value:_})):[{label:"Loading...",value:"loading"}],{organization:se,project:le}=Y;return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:(U==null?void 0:U.length)>0&&!se},L!=null&&L.length?n.createElement(r.H,{native:!0,label:"Organization",onChange:_=>S({organization:String(Array.isArray(_)?_[0]:_)}),disabled:L.length===1,selected:se,items:b}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"orgInput"},"Organization"),n.createElement(u.Z,{id:"orgInput",onChange:_=>S({organization:_.target.value}),value:se})),n.createElement(l.Z,null,"The Organization that this repo will belong to")),n.createElement(E.Z,{margin:"normal",required:!0,error:(U==null?void 0:U.length)>0&&!le},$!=null&&$.length?n.createElement(r.H,{native:!0,label:"Project",onChange:_=>S({project:String(Array.isArray(_)?_[0]:_)}),disabled:$.length===1,selected:le,items:K}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"projectInput"},"Project"),n.createElement(u.Z,{id:"projectInput",onChange:_=>S({project:_.target.value}),value:le})),n.createElement(l.Z,null,"The Project that this repo will belong to")))},y=Z=>{const{allowedOwners:L=[],allowedProjects:$=[],onChange:U,rawErrors:Y,state:S}=Z,{host:b,workspace:K,project:se}=S,le=L?L==null?void 0:L.map(te=>({label:te,value:te})):[],_=$?$==null?void 0:$.map(te=>({label:te,value:te})):[];return(0,n.useEffect)(()=>{b==="bitbucket.org"&&L.length&&U({workspace:L[0]})},[L,b,U]),n.createElement(n.Fragment,null,b==="bitbucket.org"&&n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!K},L!=null&&L.length?n.createElement(r.H,{native:!0,label:"Allowed Workspaces",onChange:te=>U({workspace:String(Array.isArray(te)?te[0]:te)}),disabled:L.length===1,selected:K,items:le}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"workspaceInput"},"Workspace"),n.createElement(u.Z,{id:"workspaceInput",onChange:te=>U({workspace:te.target.value}),value:K})),n.createElement(l.Z,null,"The Workspace that this repo will belong to")),n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!se},$!=null&&$.length?n.createElement(r.H,{native:!0,label:"Allowed Projects",onChange:te=>U({project:String(Array.isArray(te)?te[0]:te)}),disabled:$.length===1,selected:se,items:_}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"projectInput"},"Project"),n.createElement(u.Z,{id:"projectInput",onChange:te=>U({project:te.target.value}),value:se})),n.createElement(l.Z,null,"The Project that this repo will belong to")))},C=Z=>{const{onChange:L,rawErrors:$,state:U}=Z,{workspace:Y,owner:S}=U;return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",error:($==null?void 0:$.length)>0&&!Y},n.createElement(c.Z,{htmlFor:"ownerInput"},"Owner"),n.createElement(u.Z,{id:"ownerInput",onChange:b=>L({owner:b.target.value}),value:S}),n.createElement(l.Z,null,"The owner of the project (optional)")),n.createElement(E.Z,{margin:"normal",required:!0,error:($==null?void 0:$.length)>0&&!Y},n.createElement(c.Z,{htmlFor:"parentInput"},"Parent"),n.createElement(u.Z,{id:"parentInput",onChange:b=>L({workspace:b.target.value}),value:Y}),n.createElement(l.Z,null,"The project parent that the repo will belong to")))};var h=e(37630),R=e(31900),O=e(4812);const D=Z=>{const{host:L,hosts:$,onChange:U,rawErrors:Y}=Z,S=(0,t.h_)(R.l),{value:{integrations:b}={integrations:[]},loading:K}=(0,O.Z)(async()=>await S.getIntegrationsList({allowedHosts:$!=null?$:[]}));(0,n.useEffect)(()=>{L||($!=null&&$.length?U($[0]):b!=null&&b.length&&U(b[0].host))},[$,L,U,b]);const se=b?b.filter(le=>$!=null&&$.length?$==null?void 0:$.includes(le.host):!0).map(le=>({label:le.title,value:le.host})):[{label:"Loading...",value:"loading"}];return K?n.createElement(h.E,null):n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!L},n.createElement(r.H,{native:!0,disabled:($==null?void 0:$.length)===1,label:"Host",onChange:le=>U(String(Array.isArray(le)?le[0]:le)),selected:L,items:se,"data-testid":"host-select"}),n.createElement(l.Z,null,"The host where the repository will be created")))},x=Z=>{const{repoName:L,allowedRepos:$,onChange:U,rawErrors:Y}=Z;(0,n.useEffect)(()=>{L||$!=null&&$.length&&U($[0])},[$,L,U]);const S=$?$.map(b=>({label:b,value:b})):[{label:"Loading...",value:"loading"}];return n.createElement(n.Fragment,null,n.createElement(E.Z,{margin:"normal",required:!0,error:(Y==null?void 0:Y.length)>0&&!L},$!=null&&$.length?n.createElement(r.H,{native:!0,label:"Repositories Available",onChange:b=>U(String(Array.isArray(b)?b[0]:b)),disabled:$.length===1,selected:L,items:S}):n.createElement(n.Fragment,null,n.createElement(c.Z,{htmlFor:"repoNameInput"},"Repository"),n.createElement(u.Z,{id:"repoNameInput",onChange:b=>U(String(b.target.value)),value:L})),n.createElement(l.Z,null,"The name of the repository")))};function B(Z){if(!Z.host)return;const L=new URLSearchParams;return Z.owner&&L.set("owner",Z.owner),Z.repoName&&L.set("repo",Z.repoName),Z.organization&&L.set("organization",Z.organization),Z.workspace&&L.set("workspace",Z.workspace),Z.project&&L.set("project",Z.project),`${Z.host}?${L.toString()}`}function o(Z){let L="",$="",U="",Y="",S="",b="";try{if(Z){const K=new URL(`https://${Z}`);L=K.host,$=K.searchParams.get("owner")||"",U=K.searchParams.get("repo")||"",Y=K.searchParams.get("organization")||"",S=K.searchParams.get("workspace")||"",b=K.searchParams.get("project")||""}}catch{}return{host:L,owner:$,repoName:U,organization:Y,workspace:S,project:b}}var T=e(98331),W=e(34202),F=e(95544),H=e(85256),z=e(90436);const J=Z=>{var Me,Ce;const{uiSchema:L,onChange:$,rawErrors:U,formData:Y,schema:S}=Z,[b,K]=(0,n.useState)(o(Y)),se=(0,t.h_)(i.q),le=(0,t.h_)(d.O),{secrets:_,setSecrets:te}=(0,W.T)(),de=(0,n.useMemo)(()=>{var Ae,Be;return(Be=(Ae=L==null?void 0:L["ui:options"])==null?void 0:Ae.allowedHosts)!=null?Be:[]},[L]),re=(0,n.useMemo)(()=>{var Ae,Be;return(Be=(Ae=L==null?void 0:L["ui:options"])==null?void 0:Ae.allowedOrganizations)!=null?Be:[]},[L]),ae=(0,n.useMemo)(()=>{var Ae,Be;return(Be=(Ae=L==null?void 0:L["ui:options"])==null?void 0:Ae.allowedOwners)!=null?Be:[]},[L]),oe=(0,n.useMemo)(()=>{var Ae,Be;return(Be=(Ae=L==null?void 0:L["ui:options"])==null?void 0:Ae.allowedProjects)!=null?Be:[]},[L]),ne=(0,n.useMemo)(()=>{var Ae,Be;return(Be=(Ae=L==null?void 0:L["ui:options"])==null?void 0:Ae.allowedRepos)!=null?Be:[]},[L]),{owner:he,organization:Le,project:ke,repoName:_e}=b;(0,n.useEffect)(()=>{$(B(b))},[b,$]),(0,n.useEffect)(()=>{re.length>0&&!Le&&K(Ae=>({...Ae,organization:re[0]}))},[K,re,Le]),(0,n.useEffect)(()=>{ae.length>0&&!he&&K(Ae=>({...Ae,owner:ae[0]}))},[K,ae,he]),(0,n.useEffect)(()=>{oe.length>0&&!ke&&K(Ae=>({...Ae,project:oe[0]}))},[K,oe,ke]),(0,n.useEffect)(()=>{ne.length>0&&!_e&&K(Ae=>({...Ae,repoName:ne[0]}))},[K,ne,_e]);const xe=(0,n.useCallback)(Ae=>{K(Be=>({...Be,...Ae}))},[K]);(0,T.Z)(async()=>{var ht;const{requestUserCredentials:Ae}=(ht=L==null?void 0:L["ui:options"])!=null?ht:{};if(!Ae||!b.host||_[Ae.secretsKey])return;const{token:Be}=await le.getCredentials({url:`https://${b.host}`,additionalScope:{repoWrite:!0,customScopes:Ae.additionalScopes}});te({[Ae.secretsKey]:Be})},500,[b,L]);const fe=(Ce=b.host&&((Me=se.byHost(b.host))==null?void 0:Me.type))!=null?Ce:null;return n.createElement(n.Fragment,null,S.title&&n.createElement(F.Z,{my:1},n.createElement(z.Z,{variant:"h5"},S.title),n.createElement(H.Z,null)),S.description&&n.createElement(z.Z,{variant:"body1"},S.description),n.createElement(D,{host:b.host,hosts:de,onChange:Ae=>K(Be=>({...Be,host:Ae})),rawErrors:U}),fe==="github"&&n.createElement(s,{allowedOwners:ae,onChange:xe,rawErrors:U,state:b}),fe==="gitea"&&n.createElement(m,{allowedOwners:ae,allowedRepos:ne,rawErrors:U,state:b,onChange:xe}),fe==="gitlab"&&n.createElement(f,{allowedOwners:ae,rawErrors:U,state:b,onChange:xe}),fe==="bitbucket"&&n.createElement(y,{allowedOwners:ae,allowedProjects:oe,rawErrors:U,state:b,onChange:xe}),fe==="azure"&&n.createElement(p,{allowedOrganizations:re,allowedProject:oe,rawErrors:U,state:b,onChange:xe}),fe==="gerrit"&&n.createElement(C,{rawErrors:U,state:b,onChange:xe}),n.createElement(x,{repoName:b.repoName,allowedRepos:ne,onChange:Ae=>K(Be=>({...Be,repoName:Ae})),rawErrors:U}))}},61411:(k,v,e)=>{e.d(v,{k:()=>n});var t=e(30195),i=e(48836);const n=(0,i.M)(t.z.string(),t.z.object({allowedHosts:t.z.array(t.z.string()).optional().describe("List of allowed SCM platform hosts"),allowedOrganizations:t.z.array(t.z.string()).optional().describe("List of allowed organizations in the given SCM platform"),allowedOwners:t.z.array(t.z.string()).optional().describe("List of allowed owners in the given SCM platform"),allowedProjects:t.z.array(t.z.string()).optional().describe("List of allowed projects in the given SCM platform"),allowedRepos:t.z.array(t.z.string()).optional().describe("List of allowed repos in the given SCM platform"),requestUserCredentials:t.z.object({secretsKey:t.z.string().describe("Key used within the template secrets context to store the credential"),additionalScopes:t.z.object({gitea:t.z.array(t.z.string()).optional().describe("Additional Gitea scopes to request"),gerrit:t.z.array(t.z.string()).optional().describe("Additional Gerrit scopes to request"),github:t.z.array(t.z.string()).optional().describe("Additional GitHub scopes to request"),gitlab:t.z.array(t.z.string()).optional().describe("Additional GitLab scopes to request"),bitbucket:t.z.array(t.z.string()).optional().describe("Additional BitBucket scopes to request"),azure:t.z.array(t.z.string()).optional().describe("Additional Azure scopes to request")}).optional().describe("Additional permission scopes to request")}).optional().describe("If defined will request user credentials to auth against the given SCM platform")})).schema},44798:(k,v,e)=>{e.d(v,{h:()=>i});var t=e(38389);const i=(d,n,E)=>{var l,u,c;try{const{host:r,searchParams:s}=new URL(`https://${d}`),m=E.apiHolder.get(t.q);r?(((l=m==null?void 0:m.byHost(r))==null?void 0:l.type)==="bitbucket"?(r==="bitbucket.org"&&!s.get("workspace")&&n.addError("Incomplete repository location provided, workspace not provided"),s.get("project")||n.addError("Incomplete repository location provided, project not provided")):((u=m==null?void 0:m.byHost(r))==null?void 0:u.type)==="azure"?s.get("project")||n.addError("Incomplete repository location provided, project not provided"):((c=m==null?void 0:m.byHost(r))==null?void 0:c.type)!=="gerrit"&&(s.get("owner")||n.addError("Incomplete repository location provided, owner not provided")),s.get("repo")||n.addError("Incomplete repository location provided, repo not provided")):n.addError("Incomplete repository location provided, host not provided")}catch{n.addError("Unable to parse the Repository URL")}}},78893:(k,v,e)=>{e.d(v,{d:()=>n});var t=e(2784),i=e(50166);const d=E=>{const{data:l,index:u,style:c}=E;return t.cloneElement(l[u],{style:c})},n=t.forwardRef((E,l)=>{const u=t.Children.toArray(E.children),c=u.length,r=36,s=Math.min(10,c),m=Math.max(r,s*r-.5*r);return t.createElement("div",{ref:l},t.createElement(i.t7,{height:m,itemData:u,itemCount:c,itemSize:r,width:"100%"},d))})},48836:(k,v,e)=>{e.d(v,{M:()=>i});var t=e(29641);function i(d,n){return{schema:{returnValue:(0,t.ZP)(d),uiOptions:n?(0,t.ZP)(n):void 0},type:null,uiOptionsType:null}}},43738:(k,v,e)=>{e.d(v,{sG:()=>Le,Ho:()=>te});var t=e(38389),i=e(31900),d=e(22230),n=e(8320);function E(xe){return{expose(){const fe=()=>null;return(0,d.R)(fe,n.r,xe),fe}}}const l=()=>null;(0,d.R)(l,n.n,!0);var u=e(8554),c=e(32272),r=e(19126),s=e.n(r),m=e(82394),f=e.n(m),p=e(34686);class y{constructor(fe){Ee(this,"discoveryApi");Ee(this,"scmIntegrationsApi");Ee(this,"fetchApi");Ee(this,"identityApi");Ee(this,"useLongPollingLogs");var Me,Ce;this.discoveryApi=fe.discoveryApi,this.fetchApi=(Me=fe.fetchApi)!=null?Me:{fetch},this.scmIntegrationsApi=fe.scmIntegrationsApi,this.useLongPollingLogs=(Ce=fe.useLongPollingLogs)!=null?Ce:!1,this.identityApi=fe.identityApi}async listTasks(fe){if(!this.identityApi)throw new Error("IdentityApi is not available in the ScaffolderClient, please pass through the IdentityApi to the ScaffolderClient constructor in order to use the listTasks method");const Me=await this.discoveryApi.getBaseUrl("scaffolder"),{userEntityRef:Ce}=await this.identityApi.getBackstageIdentity(),Ae=s().stringify(fe.filterByOwnership==="owned"?{createdBy:Ce}:{}),Be=await this.fetchApi.fetch(`${Me}/v2/tasks?${Ae}`);if(!Be.ok)throw await c.VL.fromResponse(Be);return await Be.json()}async getIntegrationsList(fe){return{integrations:[...this.scmIntegrationsApi.azure.list(),...this.scmIntegrationsApi.bitbucket.list().filter(Ce=>!this.scmIntegrationsApi.bitbucketCloud.byHost(Ce.config.host)&&!this.scmIntegrationsApi.bitbucketServer.byHost(Ce.config.host)),...this.scmIntegrationsApi.bitbucketCloud.list(),...this.scmIntegrationsApi.bitbucketServer.list(),...this.scmIntegrationsApi.gerrit.list(),...this.scmIntegrationsApi.gitea.list(),...this.scmIntegrationsApi.github.list(),...this.scmIntegrationsApi.gitlab.list()].map(Ce=>({type:Ce.type,title:Ce.title,host:Ce.config.host})).filter(Ce=>fe.allowedHosts.includes(Ce.host))}}async getTemplateParameterSchema(fe){const{namespace:Me,kind:Ce,name:Ae}=(0,u.of)(fe,{defaultKind:"template"}),Be=await this.discoveryApi.getBaseUrl("scaffolder"),ht=[Me,Ce,Ae].map(ze=>encodeURIComponent(ze)).join("/"),Lt=`${Be}/v2/templates/${ht}/parameter-schema`,Bt=await this.fetchApi.fetch(Lt);if(!Bt.ok)throw await c.VL.fromResponse(Bt);return await Bt.json()}async scaffold(fe){const{templateRef:Me,values:Ce,secrets:Ae={}}=fe,Be=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks`,ht=await this.fetchApi.fetch(Be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateRef:Me,values:{...Ce},secrets:Ae})});if(ht.status!==201){const Bt=`${ht.status} ${ht.statusText}`,ft=await ht.text();throw new Error(`Backend request failed, ${Bt} ${ft.trim()}`)}const{id:Lt}=await ht.json();return{taskId:Lt}}async getTask(fe){const Ce=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks/${encodeURIComponent(fe)}`,Ae=await this.fetchApi.fetch(Ce);if(!Ae.ok)throw await c.VL.fromResponse(Ae);return await Ae.json()}streamLogs(fe){return this.useLongPollingLogs?this.streamLogsPolling(fe):this.streamLogsEventStream(fe)}async dryRun(fe){const Me=await this.discoveryApi.getBaseUrl("scaffolder"),Ce=await this.fetchApi.fetch(`${Me}/v2/dry-run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:fe.template,values:fe.values,secrets:fe.secrets,directoryContents:fe.directoryContents})});if(!Ce.ok)throw await c.VL.fromResponse(Ce);return Ce.json()}streamLogsEventStream({taskId:fe,after:Me}){return new(f())(Ce=>{const Ae=new URLSearchParams;Me!==void 0&&Ae.set("after",String(Number(Me))),this.discoveryApi.getBaseUrl("scaffolder").then(Be=>{const ht=`${Be}/v2/tasks/${encodeURIComponent(fe)}/eventstream`,Lt=ft=>{if(ft.data)try{Ce.next(JSON.parse(ft.data))}catch(ze){Ce.error(ze)}},Bt=new AbortController;(0,p.L)(ht,{fetch:this.fetchApi.fetch,signal:Bt.signal,onmessage(ft){if(ft.event==="log"){Lt(ft);return}else if(ft.event==="completion"){Lt(ft),Ce.complete(),Bt.abort();return}Lt(ft)},onerror(ft){Ce.error(ft)}})},Be=>{Ce.error(Be)})})}streamLogsPolling({taskId:fe,after:Me}){let Ce=Me;return new(f())(Ae=>{this.discoveryApi.getBaseUrl("scaffolder").then(async Be=>{for(;!Ae.closed;){const ht=`${Be}/v2/tasks/${encodeURIComponent(fe)}/events?${s().stringify({after:Ce})}`,Lt=await this.fetchApi.fetch(ht);if(!Lt.ok){await new Promise(ft=>setTimeout(ft,1e3));continue}const Bt=await Lt.json();for(const ft of Bt)if(Ce=Number(ft.id),Ae.next(ft),ft.type==="completion"){Ae.complete();return}}})})}async listActions(){const fe=await this.discoveryApi.getBaseUrl("scaffolder"),Me=await this.fetchApi.fetch(`${fe}/v2/actions`);if(!Me.ok)throw await c.VL.fromResponse(Me);return await Me.json()}async cancelTask(fe){const Ce=`${await this.discoveryApi.getBaseUrl("scaffolder")}/v2/tasks/${encodeURIComponent(fe)}/cancel`,Ae=await this.fetchApi.fetch(Ce,{method:"POST"});if(!Ae.ok)throw await c.VL.fromResponse(Ae);return await Ae.json()}}var C=e(48828),h=e(95133),R=e(52391),O=e(98449),D=e(99155),x=e(61411),B=e(44798),o=e(58674),T=e(72951),W=e(39798),F=e(86477),H=e(75341),z=e(62039),J=e(20802),Z=e(80798),L=e(91865),$=e(67869),U=e(21594),Y=e(46076),S=e(35947),b=e(62787),K=e(72013),se=e(767),le=e(57378),_=e(12448);const te=(0,T.r)({id:"scaffolder",apis:[(0,W.n)({api:i.l,deps:{discoveryApi:F.N,scmIntegrationsApi:t.q,fetchApi:H.g,identityApi:z.$},factory:({discoveryApi:xe,scmIntegrationsApi:fe,fetchApi:Me,identityApi:Ce})=>new y({discoveryApi:xe,scmIntegrationsApi:fe,fetchApi:Me,identityApi:Ce})})],routes:{root:$._Z,selectedTemplate:$.QQ,ongoingTask:$.gV,actions:$._H,listTasks:$.p3,edit:$.Wp},externalRoutes:{registerComponent:$.Jd,viewTechDoc:$.jU}}),de=te.provide(E({component:C.E,name:"EntityPicker",schema:Y.ks})),re=te.provide(E({component:R.p,name:"EntityNamePicker",validation:h.e,schema:S.K})),ae=te.provide(E({component:D.KM,name:"MultiEntityPicker",schema:b.Vq,validation:D.u8})),oe=te.provide(E({component:o.O,name:"RepoUrlPicker",validation:B.h,schema:x.k})),ne=te.provide(E({component:O.D,name:"OwnerPicker",schema:K.f})),he=te.provide(E({component:U.c,name:"MyGroupsPicker",schema:se.E})),Le=te.provide((0,J.P4)({name:"ScaffolderPage",component:()=>Promise.all([e.e(4083),e.e(651),e.e(8157)]).then(e.bind(e,18157)).then(xe=>xe.Router),mountPoint:$._Z})),ke=te.provide(E({component:Z.X,name:"OwnedEntityPicker",schema:le.L})),_e=te.provide(E({component:L.I,name:"EntityTagsPicker",schema:_.o}))},67869:(k,v,e)=>{e.d(v,{Jd:()=>n,QQ:()=>u,Wp:()=>m,_H:()=>s,_Z:()=>l,gV:()=>c,jU:()=>E,p3:()=>r});var t=e(31916),i=e(171),d=e(47322);const n=(0,t.x)({id:"register-component",optional:!0,defaultTarget:"catalog-import.importPage"}),E=(0,t.x)({id:"view-techdoc",optional:!0,params:["namespace","kind","name"],defaultTarget:"techdocs.docRoot"}),l=(0,i.N)({id:"scaffolder"});(0,d.R)({id:"scaffolder/legacy/selected-template",parent:l,path:"/templates/:templateName"});const u=(0,d.R)({id:"scaffolder/selected-template",parent:l,path:"/templates/:namespace/:templateName"}),c=(0,d.R)({id:"scaffolder/task",parent:l,path:"/tasks/:taskId"}),r=(0,d.R)({id:"scaffolder/list-tasks",parent:l,path:"/tasks"}),s=(0,d.R)({id:"scaffolder/actions",parent:l,path:"/actions"}),m=(0,d.R)({id:"scaffolder/edit",parent:l,path:"/edit"})},72140:(k,v,e)=>{e.d(v,{g:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.search.queryservice"});class d{constructor(E){this.mockedResults=E}query(){return Promise.resolve(this.mockedResults||{results:[]})}}},32284:(k,v,e)=>{e.d(v,{F:()=>n});var t=e(2784),i=e(79692);const d=(0,i.Z)(()=>({highlight:{}}),{name:"BackstageHighlightedSearchResultText"}),n=E=>{const{text:l,preTag:u,postTag:c}=E,r=d(),s=(0,t.useMemo)(()=>l.split(new RegExp(`(${u}.+?${c})`)),[c,u,l]);return t.createElement(t.Fragment,null,s.map((m,f)=>m.includes(u)?t.createElement("mark",{className:r.highlight,key:f},m.replace(new RegExp(`${u}|${c}`,"g"),"")):m))}},48260:(k,v,e)=>{e.d(v,{E:()=>y,U:()=>p});var t=e(59274),i=e(58185),d=e(76777),n=e(61837),E=e(50581),l=e(86619),u=e(77277),c=e(21853),r=e(2784),s=e(98331),m=e(43852);function f(C){return(0,r.forwardRef)((h,R)=>r.createElement(m.Nd,{inheritParentContextIfAvailable:!0},r.createElement(C,{...h,ref:R})))}const p=f((0,r.forwardRef)((C,h)=>{const{onChange:R,onKeyDown:O=()=>{},onClear:D=()=>{},onSubmit:x=()=>{},debounceTime:B=200,clearButton:o=!0,fullWidth:T=!0,value:W,label:F,placeholder:H,inputProps:z={},InputProps:J={},endAdornment:Z,...L}=C,$=(0,t.h_)(i.D),[U,Y]=(0,r.useState)(""),S=(0,r.useRef)("");(0,r.useEffect)(()=>{Y(re=>re===S.current?String(W):re)},[W,S]),(0,s.Z)(()=>{S.current=U,R(U)},B,[U]);const b=(0,r.useCallback)(re=>{Y(re.target.value)},[Y]),K=(0,r.useCallback)(re=>{O&&O(re),x&&re.key==="Enter"&&x()},[O,x]),se=(0,r.useCallback)(()=>{S.current="",R(""),Y(""),D&&D()},[R,D]),le=F?void 0:"Search",_=H!=null?H:`Search in ${$.getOptionalString("app.title")||"Backstage"}`,te=r.createElement(E.Z,{position:"start"},r.createElement(n.Z,{"aria-label":"Query",size:"small",disabled:!0},r.createElement(c.Z,null))),de=r.createElement(E.Z,{position:"end"},r.createElement(u.Z,{"aria-label":"Clear",size:"small",onClick:se,onKeyDown:re=>{re.key==="Enter"&&re.stopPropagation()}},"Clear"));return r.createElement(l.Z,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:U,label:F,placeholder:_,InputProps:{startAdornment:te,endAdornment:o?de:Z,...J},inputProps:{"aria-label":le,...z},fullWidth:T,onChange:b,onKeyDown:K,...L})})),y=f((0,r.forwardRef)((C,h)=>{const{value:R="",onChange:O,...D}=C,{term:x,setTerm:B}=(0,m.Rx)();(0,r.useEffect)(()=>{R&&B(String(R))},[R,B]);const o=(0,r.useCallback)(T=>{O?O(T):B(T)},[O,B]);return r.createElement(d.f,{attributes:{pluginId:"search",extension:"SearchBar"}},r.createElement(p,{...D,ref:h,value:x,onChange:o}))}))},88161:(k,v,e)=>{e.d(v,{ay:()=>T});var t=e(2784),i=e(42494),d=e(5806),n=e(56939),E=e(21324),l=e(73698),u=e(12231),c=e(84899),r=e(90436),s=e(79692),m=e(43852),f=e(7089),p=e(86619),y=e(97570),C=e(66088),h=e(98331);const R=(W,F,H=[],z=250)=>{const J=(0,t.useRef)({}),Z=W||(()=>Promise.resolve([])),[L,$]=(0,C.Z)(Z,[F],{loading:!0});if((0,h.Z)(()=>{J.current[F]===void 0&&(J.current[F]=$(F).then(Y=>(J.current[F]=Y,Y)))},z,[$,F]),H.length)return{loading:!1,value:H};const U=J.current[F];return Array.isArray(U)?{loading:!1,value:U}:L},O=(W,F)=>{const{setFilters:H}=(0,m.Rx)();(0,t.useEffect)(()=>{F&&[F].flat().length>0&&H(z=>({...z,[W]:F}))},[])},D=W=>{const{className:F,defaultValue:H,name:z,values:J,valuesDebounceMs:Z,label:L,filterSelectedOptions:$,limitTags:U,multiple:Y}=W,[S,b]=(0,t.useState)("");O(z,H);const K=typeof J=="function"?J:void 0,se=typeof J=="function"?void 0:J,{value:le,loading:_}=R(K,S,se,Z),{filters:te,setFilters:de}=(0,m.Rx)(),re=te[z]||(Y?[]:null),ae=(he,Le)=>{de(ke=>{const{[z]:_e,...xe}=ke;return Le?{...xe,[z]:Le}:{...xe}})},oe=he=>t.createElement(p.Z,{...he,name:"search",variant:"outlined",label:L,fullWidth:!0}),ne=(he,Le)=>he.map((ke,_e)=>t.createElement(f.Z,{label:ke,color:"primary",...Le({index:_e})}));return t.createElement(y.ZP,{filterSelectedOptions:$,limitTags:U,multiple:Y,className:F,id:`${Y?"multi-":""}select-filter-${z}--select`,options:le||[],loading:_,value:re,onChange:ae,onInputChange:(he,Le)=>b(Le),renderInput:oe,renderTags:ne})},x=(0,s.Z)({label:{textTransform:"capitalize"},checkboxWrapper:{display:"flex",alignItems:"center",width:"100%"},textWrapper:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),B=W=>{const{className:F,defaultValue:H,label:z,name:J,values:Z=[],valuesDebounceMs:L}=W,$=x(),{filters:U,setFilters:Y}=(0,m.Rx)();O(J,H);const S=typeof Z=="function"?Z:void 0,b=typeof Z=="function"?void 0:Z,{value:K=[],loading:se}=R(S,"",b,L),le=_=>{const{target:{value:te,checked:de}}=_;Y(re=>{const{[J]:ae,...oe}=re,ne=(ae||[]).filter(Le=>Le!==te),he=de?[...ne,te]:ne;return he.length?{...oe,[J]:he}:oe})};return t.createElement(i.Z,{className:F,disabled:se,fullWidth:!0,"data-testid":"search-checkboxfilter-next"},z?t.createElement(c.Z,{className:$.label},z):null,K.map(_=>{var te;return t.createElement(d.Z,{key:_,classes:{root:$.checkboxWrapper,label:$.textWrapper},label:_,control:t.createElement(E.Z,{color:"primary",inputProps:{"aria-labelledby":_},value:_,name:_,onChange:le,checked:((te=U[J])!=null?te:[]).includes(_)})})}))},o=W=>{const{className:F,defaultValue:H,label:z,name:J,values:Z,valuesDebounceMs:L}=W,$=x();O(J,H);const U=typeof Z=="function"?Z:void 0,Y=typeof Z=="function"?void 0:Z,{value:S=[],loading:b}=R(U,"",Y,L),{filters:K,setFilters:se}=(0,m.Rx)(),le=_=>{const{target:{value:te}}=_;se(de=>{const{[J]:re,...ae}=de;return te?{...ae,[J]:te}:ae})};return t.createElement(i.Z,{disabled:b,className:F,variant:"filled",fullWidth:!0,"data-testid":"search-selectfilter-next"},z?t.createElement(n.Z,{className:$.label,margin:"dense"},z):null,t.createElement(l.Z,{variant:"outlined",value:K[J]||"",onChange:le},t.createElement(u.Z,{value:""},t.createElement("em",null,"All")),S.map(_=>t.createElement(u.Z,{key:_,value:_},t.createElement(r.Z,{variant:"inherit",noWrap:!0},_)))))},T=W=>{const{component:F,...H}=W;return t.createElement(F,{...H})};T.Checkbox=W=>t.createElement(T,{...W,component:B}),T.Select=W=>t.createElement(T,{...W,component:o}),T.Autocomplete=W=>t.createElement(T,{...W,component:D})},8501:(k,v,e)=>{e.d(v,{w:()=>c});var t=e(2784),i=e(28899),d=e(43852),n=e(48834).Buffer;const E=r=>n.from(r.toString(),"utf-8").toString("base64"),l=r=>r?Number(n.from(r,"base64").toString("utf-8")):0,u=r=>{const{total:s=-1,cursor:m,hasNextPage:f,onCursorChange:p,limit:y=25,limitLabel:C="Results per page:",limitText:h=({from:T,to:W})=>s>0?`of ${s}`:`${T}-${W}`,limitOptions:R,onLimitChange:O,...D}=r,x=(0,t.useMemo)(()=>l(m),[m]),B=(0,t.useCallback)((T,W)=>{p==null||p(E(W))},[p]),o=(0,t.useCallback)(T=>{const W=T.target.value;O==null||O(parseInt(W,10))},[O]);return t.createElement(i.Z,{...D,component:"div",count:s,page:x,nextIconButtonProps:{...f!==void 0&&{disabled:!f}},onPageChange:B,rowsPerPage:y,labelRowsPerPage:C,labelDisplayedRows:h,rowsPerPageOptions:R,onRowsPerPageChange:o})},c=r=>{const{pageLimit:s,setPageLimit:m,pageCursor:f,setPageCursor:p,fetchNextPage:y}=(0,d.Rx)(),C=(0,t.useCallback)(h=>{m(h),p(void 0)},[m,p]);return t.createElement(u,{...r,hasNextPage:!!y,limit:s,onLimitChange:C,cursor:f,onCursorChange:p})}},16364:(k,v,e)=>{e.d(v,{lt:()=>R});var t=e(2784),i=e(4812),d=e(76635),n=e.n(d),E=e(15698),l=e(37630),u=e(67700),c=e(59274),r=e(76777),s=e(72140),m=e(43852),f=e(61109);const p=O=>{const{children:D}=O,x=(0,m.Rx)(),{result:B,...o}=x;return D(B,o)},y=O=>{const{query:D,children:x}=O,B=(0,c.h_)(s.g),o=(0,i.Z)(()=>{const{term:T="",types:W=[],filters:F={},...H}=D;return B.query({...H,term:T,types:W,filters:F})},[D]);return x(o,D)},C=O=>{const{query:D,children:x}=O;return D?t.createElement(y,{query:D},x):t.createElement(p,null,x)},h=O=>{const{query:D,children:x,noResultsComponent:B=t.createElement(E.u,{missing:"data",title:"Sorry, no results were found"}),...o}=O;return t.createElement(C,{query:D},({loading:T,error:W,value:F})=>T?t.createElement(l.E,null):W?t.createElement(u.G,{title:"Error encountered while fetching search results",error:W}):F!=null&&F.results.length?(0,d.isFunction)(x)?x(F):t.createElement(f.OH,{...o,results:F.results},x):B)},R=O=>t.createElement(r.f,{attributes:{pluginId:"search",extension:"SearchResult"}},t.createElement(h,{...O}))},43852:(k,v,e)=>{e.d(v,{Nd:()=>O,Rx:()=>p});var t=e(76635),i=e.n(t),d=e(2784),n=e(4812),E=e(76539),l=e(18473),u=e(59274),c=e(92641),r=e(76777),s=e(58185),m=e(72140);const f=(0,l.CT)("search-context"),p=()=>{const D=(0,d.useContext)(f);if(!D)throw new Error("useSearch must be used within a SearchContextProvider");const x=D.atVersion(1);if(!x)throw new Error("No SearchContext v1 found");return x},y=()=>(0,d.useContext)(f)!==void 0,C={term:"",types:[],filters:{},pageLimit:void 0,pageCursor:void 0},h=(D=C)=>{var te,de,re,ae;const x=(0,u.h_)(m.g),B=(0,c.z)(),[o,T]=(0,d.useState)(D.term),[W,F]=(0,d.useState)(D.types),[H,z]=(0,d.useState)(D.filters),[J,Z]=(0,d.useState)(D.pageLimit),[L,$]=(0,d.useState)(D.pageCursor),U=(0,E.Z)(o),Y=(0,E.Z)(H),S=(0,n.Z)(async()=>{var ne,he;const oe=await x.query({term:o,types:W,filters:H,pageLimit:J,pageCursor:L});return o&&B.captureEvent("search",o,{value:(he=(ne=S.value)==null?void 0:ne.numberOfResults)!=null?he:void 0}),oe},[o,W,H,J,L]),b=!S.loading&&!S.error&&((te=S.value)==null?void 0:te.nextPageCursor),K=!S.loading&&!S.error&&((de=S.value)==null?void 0:de.previousPageCursor),se=(0,d.useCallback)(()=>{var oe;$((oe=S.value)==null?void 0:oe.nextPageCursor)},[(re=S.value)==null?void 0:re.nextPageCursor]),le=(0,d.useCallback)(()=>{var oe;$((oe=S.value)==null?void 0:oe.previousPageCursor)},[(ae=S.value)==null?void 0:ae.previousPageCursor]);return(0,d.useEffect)(()=>{U!==void 0&&o!==U&&$(void 0)},[o,U,$]),(0,d.useEffect)(()=>{Y!==void 0&&!(0,t.isEqual)(H,Y)&&$(void 0)},[H,Y,$]),{result:S,term:o,setTerm:T,types:W,setTypes:F,filters:H,setFilters:z,pageLimit:J,setPageLimit:Z,pageCursor:L,setPageCursor:$,fetchNextPage:b?se:void 0,fetchPreviousPage:K?le:void 0}},R=D=>{const{initialState:x,children:B}=D,o=h(x);return d.createElement(r.f,{attributes:{searchTypes:o.types.sort().join(",")}},d.createElement(f.Provider,{value:(0,l.EI)({1:o})},B))},O=D=>{const{initialState:x,inheritParentContextIfAvailable:B,children:o}=D,T=y(),W=(0,u.h_)(s.D),F=x!=null?x:{},H=W.has("search.query.pageLimit")?{pageLimit:W.getNumber("search.query.pageLimit")}:{},z={...C,...F,...H};return T&&B?d.createElement(d.Fragment,null,o):d.createElement(R,{initialState:z},o)}},61109:(k,v,e)=>{e.d(v,{OH:()=>o,E5:()=>x});var t=e(2784),i=e(22230),d=e(92641),n=e(20802),E=e(32430),l=e(11776),u=e(38402),c=e(76777),r=e(32284),s=e(86136),m=e(49378),f=e(95544),p=e(90436),y=e(87603);const C=({result:T,highlight:W,icon:F,secondaryAction:H,lineClamp:z=5})=>T?t.createElement(t.Fragment,null,F&&t.createElement(s.Z,null,F),t.createElement(m.Z,{primaryTypographyProps:{variant:"h6"},primary:t.createElement(y.rU,{noTrack:!0,to:T.location},W!=null&&W.fields.title?t.createElement(r.F,{text:(W==null?void 0:W.fields.title)||"",preTag:(W==null?void 0:W.preTag)||"",postTag:(W==null?void 0:W.postTag)||""}):T.title),secondary:t.createElement(p.Z,{component:"span",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:z,overflow:"hidden"},color:"textSecondary",variant:"body2"},W!=null&&W.fields.text?t.createElement(r.F,{text:W.fields.text,preTag:W.preTag,postTag:W.postTag}):T.text)}),H&&t.createElement(f.Z,{alignItems:"flex-end"},H)):null,h=T=>t.createElement(c.f,{attributes:{pluginId:"search",extension:"DefaultResultListItem"}},t.createElement(C,{...T})),R="search.results.list.items.extensions.v1",O=(T,W)=>{for(const F of T){if(!(0,t.isValidElement)(F))continue;const H=(0,i.I)(F,R);if(H!=null&&H(W))return(0,t.cloneElement)(F,{rank:W.rank,highlight:W.highlight,result:W.document,...F.props})}return null},D=T=>{const{rank:W,result:F,noTrack:H,children:z,alignItems:J="flex-start",...Z}=T,L=(0,d.z)(),$=(0,t.useCallback)(()=>{H||F&&L.captureEvent("discover",F.title,{attributes:{to:F.location},value:W})},[W,F,H,L]);return t.createElement(u.Z,{divider:!0,alignItems:J,onClickCapture:$,...Z},z)},x=T=>{const{name:W,component:F,predicate:H=()=>!0}=T;return(0,n.YO)({name:W,component:{lazy:()=>F().then(z=>J=>t.createElement(D,{rank:J.rank,result:J.result,noTrack:J.noTrack},(0,t.createElement)(z,J)))},data:{[R]:H}})},B=T=>{const W=(0,E.v)(T,F=>F.selectByComponentData({key:R}).getElements(),[T]);return(0,t.useCallback)((F,H)=>{const z=O(W,F);return t.createElement(t.Fragment,{key:H},z!=null?z:t.createElement(D,{rank:F.rank,result:F.document},t.createElement(h,{rank:F.rank,highlight:F.highlight,result:F.document})))},[W])},o=T=>{const{results:W,children:F,...H}=T,z=B(F);return t.createElement(l.Z,{...H},W.map(z))}},36762:(k,v,e)=>{e.d(v,{S:()=>S});var t=e(21324),i=e(7089),d=e(42494),n=e(56939),E=e(49378),l=e(12231),u=e(73698),c=e(79692),r=e(2784),s=e(69904),m=e(59274),f=e(43852),p=e(72140),y=e(27616),C=e(8284),h=e(70660),R=e(94339),O=e(24579),D=e(32552),x=e(85256),B=e(11776),o=e(38402),T=e(86136),W=e(38016),F=e(56881),H=e(4812);const z=(0,c.Z)(b=>({card:{backgroundColor:"rgba(0, 0, 0, .11)"},cardContent:{paddingTop:b.spacing(1)},icon:{color:b.palette.text.primary},list:{width:"100%"},listItemIcon:{width:"24px",height:"24px"},accordion:{backgroundColor:b.palette.background.paper},accordionSummary:{minHeight:"auto","&.Mui-expanded":{minHeight:"auto"}},accordionSummaryContent:{margin:b.spacing(2,0),"&.Mui-expanded":{margin:b.spacing(2,0)}},accordionDetails:{padding:b.spacing(0,0,1)}})),J=b=>{const K=z(),{filters:se,setPageCursor:le,setTypes:_,term:te,types:de}=(0,f.Rx)(),re=(0,m.h_)(p.g),[ae,oe]=(0,r.useState)(!0),{defaultValue:ne,name:he,showCounts:Le,types:ke}=b,_e=()=>oe(Ae=>!Ae),xe=Ae=>()=>{_(Ae!==""?[Ae]:[]),le(void 0),oe(!1)};(0,r.useEffect)(()=>{ne&&_([ne])},[]);const fe=[{value:"",name:"All",icon:r.createElement(F.Z,null)},...ke],Me=de[0]||"",{value:Ce}=(0,H.Z)(async()=>{if(!Le)return{};const Ae=await Promise.all(fe.map(Be=>Be.value).map(async Be=>{const{numberOfResults:ht}=await re.query({term:te,types:Be?[Be]:[],filters:de.includes(Be)||!de.length&&!Be?se:{},pageLimit:0});return[Be,ht!==void 0?`${ht>=1e4?">10000":ht} results`:" -- "]}));return Object.fromEntries(Ae)},[se,Le,te,de]);return r.createElement(R.Z,{className:K.card},r.createElement(D.Z,{title:he,titleTypographyProps:{variant:"overline"}}),r.createElement(O.Z,{className:K.cardContent},r.createElement(y.Z,{className:K.accordion,expanded:ae,onChange:_e},r.createElement(C.Z,{classes:{root:K.accordionSummary,content:K.accordionSummaryContent},expandIcon:r.createElement(W.Z,{className:K.icon}),IconButtonProps:{size:"small"}},ae?"Collapse":fe.filter(Ae=>Ae.value===Me)[0].name),r.createElement(h.Z,{classes:{root:K.accordionDetails}},r.createElement(B.Z,{className:K.list,component:"nav","aria-label":"filter by type",disablePadding:!0,dense:!0},fe.map(Ae=>r.createElement(r.Fragment,{key:Ae.value},r.createElement(x.Z,null),r.createElement(o.Z,{selected:de[0]===Ae.value||de.length===0&&Ae.value==="",onClick:xe(Ae.value),button:!0},r.createElement(T.Z,null,(0,r.cloneElement)(Ae.icon,{className:K.listItemIcon})),r.createElement(E.Z,{primary:Ae.name,secondary:Ce&&Ce[Ae.value]})))))))))};var Z=e(6487),L=e(99152);const $=(0,c.Z)(b=>({tabs:{borderBottom:`1px solid ${b.palette.textVerySubtle}`},tab:{height:"50px",fontWeight:b.typography.fontWeightBold,fontSize:b.typography.pxToRem(13),color:b.palette.text.primary,minWidth:"130px"}})),U=b=>{const K=$(),{setPageCursor:se,setTypes:le,types:_}=(0,f.Rx)(),{defaultValue:te,types:de}=b,re=(oe,ne)=>{le(ne!==""?[ne]:[]),se(void 0)};(0,r.useEffect)(()=>{te&&le([te])},[]);const ae=[{value:"",name:"All"},...de];return r.createElement(L.Z,{"aria-label":"List of search types tabs",className:K.tabs,indicatorColor:"primary",value:_.length===0?"":_[0],onChange:re},ae.map((oe,ne)=>r.createElement(Z.Z,{key:ne,className:K.tab,label:oe.name,value:oe.value})))},Y=(0,c.Z)(b=>({label:{textTransform:"capitalize"},chips:{display:"flex",flexWrap:"wrap",marginTop:b.spacing(1)},chip:{margin:2}})),S=b=>{const{className:K,defaultValue:se,name:le,values:_=[]}=b,te=Y(),{types:de,setTypes:re}=(0,f.Rx)();(0,s.Z)(()=>{de.length||(se&&Array.isArray(se)?re(se):se&&re([se]))});const ae=oe=>{const ne=oe.target.value;re(ne)};return r.createElement(d.Z,{className:K,variant:"filled",fullWidth:!0,"data-testid":"search-typefilter-next"},r.createElement(n.Z,{className:te.label,margin:"dense"},le),r.createElement(u.Z,{multiple:!0,variant:"outlined",value:de,onChange:ae,placeholder:"All Results",renderValue:oe=>r.createElement("div",{className:te.chips},oe.map(ne=>r.createElement(i.Z,{key:ne,label:ne,className:te.chip,size:"small"})))},_.map(oe=>r.createElement(l.Z,{key:oe,value:oe},r.createElement(t.Z,{checked:de.indexOf(oe)>-1}),r.createElement(E.Z,{primary:oe})))))};S.Accordion=b=>r.createElement(J,{...b}),S.Tabs=b=>r.createElement(U,{...b})},93735:(k,v,e)=>{e.d(v,{Z9:()=>y,YC:()=>C,_Z:()=>f});var t=e(32272),i=e(19126),d=e.n(i);class n{constructor(O){Ee(this,"discoveryApi");Ee(this,"fetchApi");this.discoveryApi=O.discoveryApi,this.fetchApi=O.fetchApi}async query(O){const D=d().stringify(O),x=`${await this.discoveryApi.getBaseUrl("search")}/query?${D}`,B=await this.fetchApi.fetch(x);if(!B.ok)throw await t.VL.fromResponse(B);return B.json()}}var E=e(72140),l=e(171),u=e(72951),c=e(39798),r=e(86477),s=e(75341),m=e(20802);const f=(0,l.N)({id:"search"}),p=(0,u.r)({id:"search",apis:[(0,c.n)({api:E.g,deps:{discoveryApi:r.N,fetchApi:s.g},factory:({discoveryApi:R,fetchApi:O})=>new n({discoveryApi:R,fetchApi:O})})],routes:{root:f}}),y=p.provide((0,m.P4)({name:"SearchPage",component:()=>e.e(3165).then(e.bind(e,13165)).then(R=>R.SearchPage),mountPoint:f})),C=p.provide((0,m.CO)({name:"SidebarSearchModal",component:{lazy:()=>e.e(9950).then(e.bind(e,39950)).then(R=>R.SidebarSearchModal)}})),h=p.provide((0,m.CO)({name:"HomePageSearchBar",component:{lazy:()=>e.e(897).then(e.bind(e,50897)).then(R=>R.HomePageSearchBar)}}))},60322:(k,v,e)=>{e.d(v,{EU:()=>Ge});var t=e(72951),i=e(7524),d=e(50816),n=e(2784),E=e(47099),l=e(15459),u=e(77277),c=e(51209),r=e(38016),s=e(6224);const m=".md-nav__item--nested .md-toggle",f="@backstage/techdocs-addons/nav-expanded",p=(0,l.Z)({root:{position:"absolute",left:"220px",top:"19px",padding:0,minWidth:0}})(u.Z),y=(0,l.Z)({root:{height:"20px",width:"20px"}})(c.Z),C=(0,l.Z)({root:{height:"20px",width:"20px"}})(r.Z),h=()=>{const Ie={expandAllNestedNavs:!1},{value:We,set:Je}=(0,E.Z)(f,{defaultValue:Ie}),[et,Ve]=(0,n.useState)(!1),[...Ke]=(0,s.pV)([m]),$e=(0,n.useCallback)(ut=>{const mt=ut.checked,ve=We==null?void 0:We.expandAllNestedNavs;return!!(ve&&!mt||!ve&&mt)},[We]);(0,n.useEffect)(()=>{Ke!=null&&Ke.length&&(Ve(!0),Ke.forEach(ut=>{$e(ut)&&ut.click()}))},[We,$e,Ke]);const dt=()=>{Je(ut=>({expandAllNestedNavs:!(ut!=null&&ut.expandAllNestedNavs)}))};return n.createElement(n.Fragment,null,et?n.createElement(p,{size:"small",onClick:dt,"aria-label":We!=null&&We.expandAllNestedNavs?"collapse-nav":"expand-nav"},We!=null&&We.expandAllNestedNavs?n.createElement(C,null):n.createElement(y,null)):null)};var R=e(79692),O=e(8560),D=e(27556),x=e(82717),B=e.n(x),o=e(59274),T=e(58185),W=e(13173),F=e(95741),H=e(38389);const z="techdocs-report-issue",J=`#${z}`,Z='[title^="Edit this page"]',L='[title^="Leave feedback for"]',$='[data-md-component="main"] .md-content',U=(Ie,We)=>We==="github"?(0,W.B)(Ie,"blob"):We==="gitlab"?(0,F.a)(Ie,"blob"):(console.error(`Invalid SCM type ${We} found in ReportIssue addon for URL ${Ie}!`),Ie),Y=Ie=>{const We=Ie.toString().substring(0,70),Je=We.length===70?"...":"";return`Documentation feedback: ${We}${Je}`},S=(Ie,We,Je)=>{const et="## Documentation Feedback \u{1F4DD}",Ve="#### The highlighted text:",Ke="#### The comment on the text:",$e="_>replace this line with your comment<_",dt=Ie.toString().trim().split(`
`).map(mt=>`> ${mt.trim()}`).join(`
`),ut=[`${Je} URL: <${window.location.href}> 
Markdown URL: <${We}>`];return`${et}

 ${Ve} 

 ${dt}

 ${Ke} 
 ${$e}

 ___
${ut}`},b=Ie=>{var mt,ve;const We={title:"",body:""},Je=(0,s.oi)(Ie),[et]=(0,s.pV)([Z]),Ve=(mt=et==null?void 0:et.href)!=null?mt:"",Ke=(0,o.h_)(H.q),dt=(0,o.h_)(T.D).getOptionalString("app.title")||"Backstage";if(!Je||!Ve)return We;const ut=(ve=Ke.byUrl(Ve))==null?void 0:ve.type;return ut?{title:Y(Je),body:S(Je,U(Ve,ut),dt)}:We},K=()=>{var Ve,Ke;const Ie=(0,o.h_)(H.q),[We]=(0,s.pV)([Z]),Je=(Ve=We==null?void 0:We.href)!=null?Ve:"";if(!Je)return null;const et=(Ke=Ie.byUrl(Je))==null?void 0:Ke.type;return et?{...B()(U(Je,et)),type:et}:null};var se=e(31654),le=e(52267),_=e(87603);const te=(0,R.Z)(Ie=>({root:{display:"grid",gridGap:Ie.spacing(1),gridAutoFlow:"column",justifyContent:"center",alignItems:"center",color:Ie.palette.common.black,fontSize:Ie.typography.button.fontSize}})),de=({type:Ie})=>Ie==="github"?le.fy:se.Z,re=({type:Ie})=>Ie==="github"?"Github":"Gitlab",ae=(Ie,We)=>{const{title:Je,body:et}=We,Ve=encodeURIComponent(Je),Ke=encodeURIComponent(et),{protocol:$e,resource:dt,owner:ut,name:mt,type:ve}=Ie,G=`${$e}://${dt}/${ut}/${mt}`,V=encodeURI(G);return ve==="github"?`${V}/issues/new?title=${Ve}&body=${Ke}`:`${V}/issues/new?issue[title]=${Ve}&issue[description]=${Ke}`},oe=({template:Ie,repository:We})=>{const Je=te(),et=de(We),Ve=ae(We,Ie);return n.createElement(_.rU,{className:Je.root,to:Ve,target:"_blank"},n.createElement(et,null)," Open new ",re(We)," issue")},ne=(0,R.Z)(Ie=>({root:{transform:"translate(-100%, -100%)",position:"absolute",padding:Ie.spacing(1),zIndex:Ie.zIndex.tooltip,background:Ie.palette.common.white}})),he=({debounceTime:Ie=500,templateBuilder:We})=>{const Je=ne(),[et,Ve]=(0,n.useState)(),Ke=K(),$e=b(Ie),dt=(0,s.oi)(Ie),[ut,mt]=(0,s.pV)([$,L]);let[ve]=(0,s.pV)([J]);return mt&&(mt.style.display="none"),(0,n.useEffect)(()=>{if(!Ke||!dt||!dt.containsNode(ut,!0)||dt!=null&&dt.containsNode(ve,!0))return;const G=ut.getBoundingClientRect(),V=dt.getRangeAt(0).getBoundingClientRect(),me=V.top-G.top,be=50;let Oe=me<be?101:me-16;if(G.top<0){const ot=Math.abs(G.top);me-ot<be&&(Oe+=89)}Ve({top:`${Oe}px`,left:`${V.left+V.width/2}px`})},[dt,ut,ve]),!dt||!Ke||!["github","gitlab"].includes(Ke.type)?null:(ve||(ve=document.createElement("div"),ve.setAttribute("id",z),ut.prepend(ve)),n.createElement(O.Z,{container:ve},n.createElement(D.Z,{"data-testid":"report-issue-addon",className:Je.root,style:et},n.createElement(oe,{repository:Ke,template:We?We({selection:dt}):$e}))))};var Le=e(11433),ke=e(60364),_e=e(12231),xe=e(49378),fe=e(90436),Me=e(95544),Ce=e(61837),Ae=e(65549),Be=e(17373);const ht="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",Lt=(0,l.Z)(Ie=>({root:{height:2,padding:"15px 0"},thumb:{height:18,width:18,backgroundColor:Ie.palette.common.white,boxShadow:ht,marginTop:-9,marginLeft:-9,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:ht}}},active:{},valueLabel:{top:"100%",left:"50%",transform:"scale(1) translate(-50%, -5px) !important","& *":{color:Ie.palette.textSubtle,fontSize:Ie.typography.caption.fontSize,background:"transparent"}},track:{height:2},rail:{height:2,opacity:.5},mark:{height:10,width:1,marginTop:-4},markActive:{opacity:1,backgroundColor:"currentColor"}}))(Le.Z),Bt={key:"techdocs.addons.settings.textsize",defaultValue:100},ft=[{value:90},{value:100},{value:115},{value:130},{value:150}],ze=(0,R.Z)(Ie=>({container:{color:Ie.palette.textSubtle,display:"flex",alignItems:"center",margin:0,minWidth:200},menuItem:{"&:hover":{background:"transparent"}},decreaseButton:{marginRight:Ie.spacing(1)},increaseButton:{marginLeft:Ie.spacing(1)}})),ie=()=>{const Ie=ze(),We=(0,ke.Z)(),[Je]=(0,s.pV)(["body"]),[et,Ve]=(0,n.useState)(()=>{const me=localStorage==null?void 0:localStorage.getItem(Bt.key);return me?parseInt(me,10):Bt.defaultValue}),Ke=(0,n.useMemo)(()=>ft.map(me=>me.value),[]),$e=(0,n.useMemo)(()=>Ke.indexOf(et),[Ke,et]),dt=(0,n.useMemo)(()=>Ke[0],[Ke]),ut=(0,n.useMemo)(()=>Ke[Ke.length-1],[Ke]),mt=(0,n.useCallback)(()=>`${et}%`,[et]),ve=(0,n.useCallback)((me,be)=>{Array.isArray(be)||(Ve(be),localStorage==null||localStorage.setItem(Bt.key,String(be)))},[Ve]),G=(0,n.useCallback)(me=>{ve(me,Ke[$e-1])},[$e,Ke,ve]),V=(0,n.useCallback)(me=>{ve(me,Ke[$e+1])},[$e,Ke,ve]);return(0,n.useEffect)(()=>{var be,Oe;if(!Je)return;const me=(Oe=(be=We.typography)==null?void 0:be.htmlFontSize)!=null?Oe:16;Je.style.setProperty("--md-typeset-font-size",`${me*(et/100)}px`)},[Je,et,We]),n.createElement(_e.Z,{className:Ie.menuItem,button:!0,disableRipple:!0},n.createElement(xe.Z,{primary:n.createElement(fe.Z,{variant:"subtitle2",color:"textPrimary"},"Text size"),secondary:n.createElement(Me.Z,{className:Ie.container},n.createElement(Ce.Z,{className:Ie.decreaseButton,size:"small",edge:"start",disabled:et===dt,onClick:G,"aria-label":"Decrease text size"},n.createElement(Be.Z,null)),n.createElement(Lt,{value:et,"aria-labelledby":"text-size-slider",getAriaValueText:mt,valueLabelDisplay:"on",valueLabelFormat:mt,marks:ft,step:null,min:dt,max:ut,onChangeCommitted:ve}),n.createElement(Ce.Z,{className:Ie.increaseButton,size:"small",edge:"end",disabled:et===ut,onClick:V,"aria-label":"Increase text size"},n.createElement(Ae.Z,null))),disableTypography:!0}))};var we=e(85224),Ze=e(96103);const Xe=()=>{const Ie=(0,s.pV)(["img"]);return(0,n.useEffect)(()=>{let We=null,Je=new we.Z({pswpModule:Ze.Z,initialZoomLevel:1,secondaryZoomLevel:et=>{const Ve=et.elementSize.x,Ke=et.elementSize.y,$e=et.panAreaSize.x,dt=et.panAreaSize.y,ut=$e/Ve,mt=dt/Ke;return Math.min(ut,mt)},wheelToZoom:!0,arrowPrevSVG:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowBackIosIcon" aria-label="fontSize large"><path d="M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"></path></svg>',arrowNextSVG:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ArrowForwardIosIcon" aria-label="fontSize large"><path d="M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"></path></svg>',closeSVG:'<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="CloseIcon" aria-label="fontSize large"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>',zoomSVG:`<svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeLarge  css-c1sh5i" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ZoomIcon" aria-label="fontSize large">
          <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" id="photoswipe-zoom-icon-zoomin-path"></path><path d="M12 10H 7 V 9 H 12 Z" id="photoswipe-zoom-icon-zoomout-path">
        </svg>`});return Ie.forEach((et,Ve)=>{et.onclick=()=>(We===null&&(We=Ie.map(Ke=>({element:Ke,src:Ke.src,msrc:Ke.src,alt:Ke.alt,width:Ke.clientWidth,height:Ke.clientHeight}))),Je.loadAndOpen(Ve,We),!1)}),Je.init(),()=>{Je.destroy(),Je=null}},[Ie]),null},ct=(0,t.r)({id:"techdocsModuleAddonsContrib"}),Pt=ct.provide((0,i.KY)({name:"ExpandableNavigation",location:d.o.PrimarySidebar,component:h})),Ge=ct.provide((0,i.KY)({name:"ReportIssue",location:d.o.Content,component:he})),yt=ct.provide((0,i.KY)({name:"TextSize",location:d.o.Settings,component:ie})),qe=ct.provide((0,i.KY)({name:"LightBox",location:d.o.Content,component:Xe}))},7524:(k,v,e)=>{e.d(v,{$L:()=>y,DR:()=>c,KY:()=>s,Zz:()=>u,jM:()=>l});var t=e(2784),i=e(73557),d=e(22230),n=e(20802),E=e(32430);const l="techdocs.addons.addon.v1",u="techdocs.addons.wrapper.v1",c=()=>null;(0,d.R)(c,u,!0);const r=C=>`${l}.${C.toLocaleLowerCase("en-US")}`;function s(C){const{name:h,component:R}=C;return(0,n.YO)({name:h,component:{sync:O=>t.createElement(R,{...O})},data:{[l]:C,[r(h)]:!0}})}const m=(C,h)=>C.selectByComponentData({key:h}).getElements()[0],f=C=>C.selectByComponentData({key:u}).selectByComponentData({key:l}),p=C=>C.selectByComponentData({key:u}).findComponentData({key:l}),y=()=>{const C=(0,i.pC)(),h=(0,E.v)(C,f),R=(0,E.v)(C,p),O=(0,t.useCallback)(B=>{var T;if(!h||!B)return null;const o=r(B.name);return(T=m(h,o))!=null?T:null},[h]),D=(0,t.useCallback)(B=>{const o=R.find(T=>T.name===B);return o?O(o):null},[R,O]),x=(0,t.useCallback)(B=>{const o=R.filter(T=>T.location===B);return o.length?o.map(O):null},[R,O]);return{renderComponentByName:D,renderComponentsByLocation:x}}},38182:(k,v,e)=>{e.d(v,{D:()=>d,g:()=>i});var t=e(45133);const i=(0,t.T)({id:"plugin.techdocs.service"}),d=(0,t.T)({id:"plugin.techdocs.storageservice"})},7754:(k,v,e)=>{e.d(v,{Z:()=>y,x:()=>C});var t=e(2784),i=e(4812),d=e(84767),n=e(8554),E=e(18473),l=e(59274),u=e(58185),c=e(76777),r=e(38182);function s(h,R){return R.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")||(h.kind=h.kind.toLocaleLowerCase(),h.name=h.name.toLocaleLowerCase(),h.namespace=h.namespace.toLocaleLowerCase()),h}const m=(h,R)=>(0,n.eE)(h)===(0,n.eE)(R),f={title:"",subtitle:"",setTitle:()=>{},setSubtitle:()=>{},setShadowRoot:()=>{},metadata:{loading:!0},entityMetadata:{loading:!0},entityRef:{kind:"",name:"",namespace:""}},p=(0,E.CT)("techdocs-reader-page-context"),y=(0,t.memo)(h=>{const{entityRef:R,children:O}=h,D=(0,l.h_)(r.g),x=(0,l.h_)(u.D),B=(0,i.Z)(async()=>D.getEntityMetadata(R),[R]),o=(0,d.Z)(async()=>D.getTechDocsMetadata(R),[R]),[T,W]=(0,t.useState)(f.title),[F,H]=(0,t.useState)(f.subtitle),[z,J]=(0,t.useState)(f.shadowRoot);(0,t.useEffect)(()=>{z&&!o.value&&!o.loading&&o.retry()},[o.value,o.loading,z,o.retry,o]);const Z={metadata:o,entityRef:s(R,x),entityMetadata:B,shadowRoot:z,setShadowRoot:J,title:T,setTitle:W,subtitle:F,setSubtitle:H},L=(0,E.EI)({1:Z});return t.createElement(c.f,{attributes:{entityRef:(0,n.eE)(R)}},t.createElement(p.Provider,{value:L},O instanceof Function?O(Z):O))},(h,R)=>m(h.entityRef,R.entityRef)),C=()=>{const h=(0,t.useContext)(p);if(h===void 0)return f;const R=h.atVersion(1);if(R===void 0)throw new Error("No context found for version 1.");return R}},6224:(k,v,e)=>{e.d(v,{oi:()=>c,pV:()=>l});var t=e(2784),i=e(54073),d=e.n(i),n=e(7754);const E=()=>{const{shadowRoot:r}=(0,n.x)();return r},l=r=>{const s=E();return s?r.map(m=>s==null?void 0:s.querySelectorAll(m)).filter(m=>m.length).map(m=>Array.from(m)).flat():[]},u=r=>r.toString()&&r.rangeCount&&r.getRangeAt(0).getBoundingClientRect().top,c=(r=0)=>{const s=E(),[m,f]=(0,t.useState)(null),p=(0,t.useMemo)(()=>d()(()=>{const y=s,C=y.getSelection?y.getSelection():document.getSelection();C&&u(C)?f(C):f(null)},r),[s,f,r]);return(0,t.useEffect)(()=>(window.document.addEventListener("selectionchange",p),()=>{p.cancel(),window.document.removeEventListener("selectionchange",p)}),[p]),m}},50816:(k,v,e)=>{e.d(v,{o:()=>t});const t=Object.freeze({Header:"Header",Subheader:"Subheader",Settings:"Settings",PrimarySidebar:"PrimarySidebar",SecondarySidebar:"SecondarySidebar",Content:"Content"})},47933:(k,v,e)=>{e.d(v,{$d:()=>h,Jl:()=>O,I6:()=>D,bf:()=>x,s4:()=>y});var t=e(38182),i=e(32272),d=e(34686);class n{constructor(o){Ee(this,"configApi");Ee(this,"discoveryApi");Ee(this,"fetchApi");this.configApi=o.configApi,this.discoveryApi=o.discoveryApi,this.fetchApi=o.fetchApi}async getCookie(){const T=`${await this.getApiOrigin()}/cookie`,W=await this.fetchApi.fetch(`${T}`,{credentials:"include"});if(!W.ok)throw await i.VL.fromResponse(W);return await W.json()}async getApiOrigin(){return await this.discoveryApi.getBaseUrl("techdocs")}async getTechDocsMetadata(o){const{kind:T,namespace:W,name:F}=o,z=`${await this.getApiOrigin()}/metadata/techdocs/${W}/${T}/${F}`,J=await this.fetchApi.fetch(`${z}`);if(!J.ok)throw await i.VL.fromResponse(J);return await J.json()}async getEntityMetadata(o){const{kind:T,namespace:W,name:F}=o,z=`${await this.getApiOrigin()}/metadata/entity/${W}/${T}/${F}`,J=await this.fetchApi.fetch(`${z}`);if(!J.ok)throw await i.VL.fromResponse(J);return await J.json()}}class E{constructor(o){Ee(this,"configApi");Ee(this,"discoveryApi");Ee(this,"fetchApi");this.configApi=o.configApi,this.discoveryApi=o.discoveryApi,this.fetchApi=o.fetchApi}async getApiOrigin(){return await this.discoveryApi.getBaseUrl("techdocs")}async getStorageUrl(){var o;return(o=this.configApi.getOptionalString("techdocs.storageUrl"))!=null?o:`${await this.discoveryApi.getBaseUrl("techdocs")}/static/docs`}async getBuilder(){return this.configApi.getOptionalString("techdocs.builder")||"local"}async getEntityDocs(o,T){const{kind:W,namespace:F,name:H}=o,J=`${await this.getStorageUrl()}/${F}/${W}/${H}/${T}`,Z=await this.fetchApi.fetch(`${J.endsWith("/")?J:`${J}/`}index.html`);let L="";switch(Z.status){case 404:throw L="Page not found. ",T||(L+="This could be because there is no index.md file in the root of the docs directory of this repository."),new i.dR(L);case 500:throw L="Could not generate documentation or an error in the TechDocs backend. ",new Error(L)}return Z.text()}async syncEntityDocs(o,T=()=>{}){const{kind:W,namespace:F,name:H}=o,J=`${await this.getApiOrigin()}/sync/${F}/${W}/${H}`;return new Promise((Z,L)=>{const $=new AbortController;(0,d.L)(J,{fetch:this.fetchApi.fetch,signal:$.signal,onmessage(U){if(U.event==="log")U.data&&T(JSON.parse(U.data));else if(U.event==="finish"){let Y=!1;U.data&&({updated:Y}=JSON.parse(U.data)),Z(Y?"updated":"cached")}else U.event==="error"&&L(new Error(U.data))},onerror(U){$.abort(),L(U)}})})}async getBaseUrl(o,T,W){const{kind:F,namespace:H,name:z}=T,Z=`${await this.getApiOrigin()}/static/docs/${H}/${F}/${z}/${W}`;return new URL(o,Z.endsWith("/")?Z:`${Z}/`).toString()}}var l=e(12864),u=e(72951),c=e(39798),r=e(58185),s=e(86477),m=e(75341),f=e(20802),p=e(61109);const y=(0,u.r)({id:"techdocs",apis:[(0,c.n)({api:t.D,deps:{configApi:r.D,discoveryApi:s.N,fetchApi:m.g},factory:({configApi:B,discoveryApi:o,fetchApi:T})=>new E({configApi:B,discoveryApi:o,fetchApi:T})}),(0,c.n)({api:t.g,deps:{configApi:r.D,discoveryApi:s.N,fetchApi:m.g},factory:({configApi:B,discoveryApi:o,fetchApi:T})=>new n({configApi:B,discoveryApi:o,fetchApi:T})})],routes:{root:l._Z,docRoot:l.Fw,entityContent:l.pd}}),C=y.provide((0,f.P4)({name:"TechdocsPage",component:()=>Promise.all([e.e(4083),e.e(8803),e.e(5337)]).then(e.bind(e,55337)).then(B=>B.Router),mountPoint:l._Z})),h=y.provide((0,f.P4)({name:"EntityTechdocsContent",component:()=>Promise.all([e.e(4083),e.e(8803),e.e(5337)]).then(e.bind(e,55337)).then(B=>B.EmbeddedDocsRouter),mountPoint:l.pd})),R=y.provide((0,f.P4)({name:"TechDocsCustomHome",component:()=>e.e(410).then(e.bind(e,30410)).then(B=>B.TechDocsCustomHome),mountPoint:l._Z})),O=y.provide((0,f.P4)({name:"TechDocsIndexPage",component:()=>Promise.all([e.e(4083),e.e(3368)]).then(e.bind(e,53368)).then(B=>B.TechDocsIndexPage),mountPoint:l._Z})),D=y.provide((0,f.P4)({name:"TechDocsReaderPage",component:()=>Promise.all([e.e(8803),e.e(7270)]).then(e.bind(e,17270)).then(B=>B.TechDocsReaderPage),mountPoint:l.Fw})),x=y.provide((0,p.E5)({name:"TechDocsSearchResultListItem",component:()=>e.e(7164).then(e.bind(e,37164)).then(B=>B.TechDocsSearchResultListItem),predicate:B=>B.type==="techdocs"}))},12864:(k,v,e)=>{e.d(v,{Fw:()=>d,_Z:()=>i,pd:()=>n});var t=e(171);const i=(0,t.N)({id:"techdocs:index-page"}),d=(0,t.N)({id:"techdocs:reader-page",params:["namespace","kind","name"]}),n=(0,t.N)({id:"techdocs:catalog-reader-view"})},46117:(k,v,e)=>{e.d(v,{k:()=>u});var t=e(2784),i=e(43434),d=e(79692),n=e(48066),E=e(91825);const l=(0,d.Z)(c=>({avatar:{width:({size:r})=>r,height:({size:r})=>r,fontSize:({size:r})=>r*.7,border:`1px solid ${c.palette.textSubtle}`}})),u=c=>{const{size:r}=c,{iconSize:s}=E.sidebarConfig,m=l(r?{size:r}:{size:s}),{profile:f}=(0,n.G)();return t.createElement(i.Z,{src:f.picture,className:m.avatar,alt:"Profile picture"})}},49518:(k,v,e)=>{e.d(v,{Z:()=>l});var t=e(2784),i=e(47603),d=e(46126),n=e(78447),E=e(51491);const l=u=>{const c=(0,E.t)(d.Kp),r=u.icon?u.icon:i.Z;return t.createElement(n.R6,{text:"Settings",to:c(),icon:r})}},48066:(k,v,e)=>{e.d(v,{G:()=>l});var t=e(59274),i=e(62039),d=e(95475),n=e(2784),E=e(4812);const l=()=>{var f;const u=(0,t.h_)(i.$),c=(0,t.h_)(d.$),{value:r,loading:s,error:m}=(0,E.Z)(async()=>({profile:await u.getProfileInfo(),identity:await u.getBackstageIdentity()}),[]);return(0,n.useEffect)(()=>{m&&c.post({message:`Failed to load user identity: ${m}`,severity:"error"})},[m,c]),s||m?{profile:{},displayName:"",loading:s}:{profile:r.profile,backstageIdentity:r.identity,displayName:(f=r.profile.displayName)!=null?f:r.identity.userEntityRef,loading:s}}},46126:(k,v,e)=>{e.d(v,{H2:()=>l,Kp:()=>n});var t=e(171),i=e(72951),d=e(20802);const n=(0,t.N)({id:"user-settings"}),l=(0,i.r)({id:"user-settings",routes:{settingsPage:n}}).provide((0,d.P4)({name:"UserSettingsPage",component:()=>e.e(7120).then(e.bind(e,57120)).then(u=>u.SettingsPage),mountPoint:n}))},22341:(k,v,e)=>{e.d(v,{_:()=>l});var t=e(48236);const i=16,d='"Helvetica Neue", Helvetica, Roboto, Arial, sans-serif',n="home",E={htmlFontSize:i,fontFamily:d,h1:{fontSize:54,fontWeight:700,marginBottom:10},h2:{fontSize:40,fontWeight:700,marginBottom:8},h3:{fontSize:32,fontWeight:700,marginBottom:6},h4:{fontWeight:700,fontSize:28,marginBottom:6},h5:{fontWeight:700,fontSize:24,marginBottom:4},h6:{fontWeight:700,fontSize:20,marginBottom:2}};function l(u){const{palette:c,htmlFontSize:r=i,fontFamily:s=d,defaultPageTheme:m=n,pageTheme:f=t.g4,typography:p}=u;if(!f[m])throw new Error(`${m} is not defined in pageTheme.`);return E.htmlFontSize=r,E.fontFamily=s,{palette:c,typography:p!=null?p:E,page:f[m],getPageTheme:({themeId:y})=>{var C;return(C=f[y])!=null?C:f[m]}}}},48236:(k,v,e)=>{e.d(v,{JZ:()=>t,cY:()=>d,g4:()=>n});const t={wave:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1368' height='401' x='0' y='0' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M437 116C223 116 112 0 112 0h1256v400c-82 0-225-21-282-109-112-175-436-175-649-175z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1368 400V282C891-29 788 40 711 161 608 324 121 372 0 361v39h1368z'/%3e%3cpath fill='url(%23paint2_linear)' d='M1368 244v156H0V94c92-24 198-46 375 0l135 41c176 51 195 109 858 109z'/%3e%3cpath fill='url(%23paint3_linear)' d='M1252 400h116c-14-7-35-14-116-16-663-14-837-128-1013-258l-85-61C98 28 46 8 0 0v400h1252z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M-172-98h1671v601H-172z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='602' x2='1093.5' y1='-960.5' y2='272' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='482' x2='480' y1='1058.5' y2='70.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='424' x2='446.1' y1='-587.5' y2='274.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='587' x2='349' y1='-1120.5' y2='341' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,wave2:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='1764' height='479' x='-229' y='-6' maskUnits='userSpaceOnUse'%3e%3cpath fill='url(%23paint0_linear)' d='M0 400h1350C1321 336 525 33 179-2c-345-34-395 236-408 402H0z'/%3e%3cpath fill='url(%23paint1_linear)' d='M1378 177v223H0V217s219 75 327 52C436 246 717-35 965 45s254 144 413 132z'/%3e%3cpath fill='url(%23paint2_linear)' d='M26 400l-78-16c-170 205-44-6-137-30l-4-1 4 1 137 30c37-45 89-110 159-201 399-514-45 238 1176-50 275-65 354-39 91 267H26z'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='431' x2='397.3' y1='-599' y2='372.8' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='236.5' x2='446.6' y1='-586' y2='381.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='851.8' x2='640.4' y1='-867.2' y2='363.7' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`,round:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='1368' height='400' fill='none'%3e%3cmask id='a' width='2269' height='1408' x='-610' y='-509' maskUnits='userSpaceOnUse'%3e%3ccircle cx='1212.8' cy='74.8' r='317.5' fill='url(%23paint0_linear)' transform='rotate(-52 1213 75)'/%3e%3ccircle cx='737.8' cy='445.8' r='317.5' fill='url(%23paint1_linear)' transform='rotate(-116 738 446)'/%3e%3ccircle cx='601.8' cy='52.8' r='418.6' fill='url(%23paint2_linear)' transform='rotate(-117 602 53)'/%3e%3ccircle cx='999.8' cy='364' r='389.1' fill='url(%23paint3_linear)' transform='rotate(31 1000 364)'/%3e%3cellipse cx='-109.2' cy='263.5' fill='url(%23paint4_linear)' rx='429.2' ry='465.8' transform='rotate(-85 -109 264)'/%3e%3c/mask%3e%3cg mask='url(%23a)'%3e%3cpath fill='white' d='M0 0h1368v400H0z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear' x1='1301.2' x2='161.4' y1='-1879.7' y2='-969.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear' x1='826.2' x2='-313.6' y1='-1508.7' y2='-598.6' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear' x1='718.4' x2='-784.3' y1='-2524' y2='-1324.2' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear' x1='1108.2' x2='-288.6' y1='-2031.1' y2='-915.9' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear' x1='10.4' x2='-1626.5' y1='-2603.8' y2='-1399.5' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='1' stop-color='white' stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e")`},i={darkGrey:["#171717","#383838"],marineBlue:["#006D8F","#0049A1"],veryBlue:["#0027AF","#270094"],rubyRed:["#98002B","#8D1134"],toastyOrange:["#BE2200","#A41D00"],purpleSky:["#8912CA","#3E00EA"],eveningSea:["#00FFF2","#035355"],teal:["#005B4B"],pinkSea:["#C8077A","#C2297D"],greens:["#4BB8A5","#187656"]};function d(E){var p;const{colors:l,shape:u,options:c}=E,s=`linear-gradient(90deg, ${(l.length===1?[l[0],l[0]]:l).join(", ")})`,m=`${u},  ${s}`,f=(p=c==null?void 0:c.fontColor)!=null?p:"#FFFFFF";return{colors:l,shape:u,backgroundImage:m,fontColor:f}}const n={home:d({colors:i.teal,shape:t.wave}),documentation:d({colors:i.pinkSea,shape:t.wave2}),tool:d({colors:i.purpleSky,shape:t.round}),service:d({colors:i.marineBlue,shape:t.wave}),website:d({colors:i.veryBlue,shape:t.wave}),library:d({colors:i.rubyRed,shape:t.wave}),other:d({colors:i.darkGrey,shape:t.wave}),app:d({colors:i.toastyOrange,shape:t.wave}),apis:d({colors:i.teal,shape:t.wave2}),card:d({colors:i.greens,shape:t.wave})}},18939:(k,v,e)=>{e.d(v,{z:()=>t});const t={light:{type:"light",mode:"light",background:{default:"#F8F8F8",paper:"#FFFFFF"},status:{ok:"#1DB954",warning:"#FF9800",error:"#E22134",running:"#1F5493",pending:"#FFED51",aborted:"#757575"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#1F5493"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",closeButtonColor:"#FFFFFF",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#000000",textVerySubtle:"#DDD",textSubtle:"#6E6E6E",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#2196F3",link:"#0A6EBE",gold:"#FFD600",navigation:{background:"#171717",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#181818",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}},dark:{type:"dark",mode:"dark",background:{default:"#333333",paper:"#424242"},status:{ok:"#71CF88",warning:"#FFB84D",error:"#F84C55",running:"#3488E3",pending:"#FEF071",aborted:"#9E9E9E"},bursts:{fontColor:"#FEFEFE",slackChannelText:"#ddd",backgroundColor:{default:"#7C3699"},gradient:{linear:"linear-gradient(-137deg, #4BB8A5 0%, #187656 100%)"}},primary:{main:"#9CC9FF",dark:"#82BAFD"},secondary:{main:"#FF88B2"},banner:{info:"#2E77D0",error:"#E22134",text:"#FFFFFF",link:"#000000",closeButtonColor:"#FFFFFF",warning:"#FF9800"},border:"#E6E6E6",textContrast:"#FFFFFF",textVerySubtle:"#727272",textSubtle:"#CCCCCC",highlight:"#FFFBCC",errorBackground:"#FFEBEE",warningBackground:"#F59B23",infoBackground:"#ebf5ff",errorText:"#CA001B",infoText:"#004e8a",warningText:"#000000",linkHover:"#82BAFD",link:"#9CC9FF",gold:"#FFD600",navigation:{background:"#424242",indicator:"#9BF0E1",color:"#b5b5b5",selectedColor:"#FFF",navItem:{hoverBackground:"#404040"},submenu:{background:"#404040"}},pinSidebarButton:{icon:"#404040",background:"#BDBDBD"},tabbar:{indicator:"#9BF0E1"}}}},10619:(k,v,e)=>{var Tn;e.d(v,{ay:()=>Na});var t=e(73689),i=e(7896),d=e(31461),n=e(99623),E=e(48970);const l=["values","unit","step"],u=null,c=P=>{const N=Object.keys(P).map(X=>({key:X,val:P[X]}))||[];return N.sort((X,q)=>X.val-q.val),N.reduce((X,q)=>(0,i.Z)({},X,{[q.key]:q.val}),{})};function r(P){const{values:N={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:X="px",step:q=5}=P,ye=(0,d.Z)(P,l),Pe=c(N),Ue=Object.keys(Pe);function st(it){return`@media (min-width:${typeof N[it]=="number"?N[it]:it}${X})`}function lt(it){return`@media (max-width:${(typeof N[it]=="number"?N[it]:it)-q/100}${X})`}function Ct(it,Xt){const Gt=Ue.indexOf(Xt);return`@media (min-width:${typeof N[it]=="number"?N[it]:it}${X}) and (max-width:${(Gt!==-1&&typeof N[Ue[Gt]]=="number"?N[Ue[Gt]]:Xt)-q/100}${X})`}function Ut(it){return Ue.indexOf(it)+1<Ue.length?Ct(it,Ue[Ue.indexOf(it)+1]):st(it)}function It(it){const Xt=Ue.indexOf(it);return Xt===0?st(Ue[1]):Xt===Ue.length-1?lt(Ue[Xt]):Ct(it,Ue[Ue.indexOf(it)+1]).replace("@media","@media not all and")}return(0,i.Z)({keys:Ue,values:Pe,up:st,down:lt,between:Ct,only:Ut,not:It,unit:X},ye)}const m={borderRadius:4},f={xs:0,sm:600,md:900,lg:1200,xl:1536},p={keys:["xs","sm","md","lg","xl"],up:P=>`@media (min-width:${f[P]}px)`};function y(P,N,X){const q=P.theme||{};if(Array.isArray(N)){const Pe=q.breakpoints||p;return N.reduce((Ue,st,lt)=>(Ue[Pe.up(Pe.keys[lt])]=X(N[lt]),Ue),{})}if(typeof N=="object"){const Pe=q.breakpoints||p;return Object.keys(N).reduce((Ue,st)=>{if(Object.keys(Pe.values||f).indexOf(st)!==-1){const lt=Pe.up(st);Ue[lt]=X(N[st],st)}else{const lt=st;Ue[lt]=N[lt]}return Ue},{})}return X(N)}function C(P){const N=X=>{const q=X.theme||{},ye=P(X),Pe=q.breakpoints||p,Ue=Pe.keys.reduce((st,lt)=>(X[lt]&&(st=st||{},st[Pe.up(lt)]=P(_extends({theme:q},X[lt]))),st),null);return merge(ye,Ue)};return N.propTypes={},N.filterProps=["xs","sm","md","lg","xl",...P.filterProps],N}function h(P={}){var N;return((N=P.keys)==null?void 0:N.reduce((q,ye)=>{const Pe=P.up(ye);return q[Pe]={},q},{}))||{}}function R(P,N){return P.reduce((X,q)=>{const ye=X[q];return(!ye||Object.keys(ye).length===0)&&delete X[q],X},N)}function O(P,...N){const X=h(P),q=[X,...N].reduce((ye,Pe)=>deepmerge(ye,Pe),{});return R(Object.keys(X),q)}function D(P,N){if(typeof P!="object")return{};const X={},q=Object.keys(N);return Array.isArray(P)?q.forEach((ye,Pe)=>{Pe<P.length&&(X[ye]=!0)}):q.forEach(ye=>{P[ye]!=null&&(X[ye]=!0)}),X}function x({values:P,breakpoints:N,base:X}){const q=X||D(P,N),ye=Object.keys(q);if(ye.length===0)return P;let Pe;return ye.reduce((Ue,st,lt)=>(Array.isArray(P)?(Ue[st]=P[lt]!=null?P[lt]:P[Pe],Pe=lt):typeof P=="object"?(Ue[st]=P[st]!=null?P[st]:P[Pe],Pe=st):Ue[st]=P,Ue),{})}const B=null;var o=e(2651);function T(P,N,X=!0){if(!N||typeof N!="string")return null;if(P&&P.vars&&X){const q=`vars.${N}`.split(".").reduce((ye,Pe)=>ye&&ye[Pe]?ye[Pe]:null,P);if(q!=null)return q}return N.split(".").reduce((q,ye)=>q&&q[ye]!=null?q[ye]:null,P)}function W(P,N,X,q=X){let ye;return typeof P=="function"?ye=P(X):Array.isArray(P)?ye=P[X]||q:ye=T(P,X)||q,N&&(ye=N(ye,q,P)),ye}function F(P){const{prop:N,cssProperty:X=P.prop,themeKey:q,transform:ye}=P,Pe=Ue=>{if(Ue[N]==null)return null;const st=Ue[N],lt=Ue.theme,Ct=T(lt,q)||{};return y(Ue,st,It=>{let it=W(Ct,ye,It);return It===it&&typeof It=="string"&&(it=W(Ct,ye,`${N}${It==="default"?"":(0,o.Z)(It)}`,It)),X===!1?it:{[X]:it}})};return Pe.propTypes={},Pe.filterProps=[N],Pe}const H=F;function z(P,N){return N?(0,E.Z)(P,N,{clone:!1}):P}const J=z;function Z(P){const N={};return X=>(N[X]===void 0&&(N[X]=P(X)),N[X])}const L={m:"margin",p:"padding"},$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},U={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Y=Z(P=>{if(P.length>2)if(U[P])P=U[P];else return[P];const[N,X]=P.split(""),q=L[N],ye=$[X]||"";return Array.isArray(ye)?ye.map(Pe=>q+Pe):[q+ye]}),S=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],b=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],K=[...S,...b];function se(P,N,X,q){var ye;const Pe=(ye=T(P,N,!1))!=null?ye:X;return typeof Pe=="number"?Ue=>typeof Ue=="string"?Ue:Pe*Ue:Array.isArray(Pe)?Ue=>typeof Ue=="string"?Ue:Pe[Ue]:typeof Pe=="function"?Pe:()=>{}}function le(P){return se(P,"spacing",8,"spacing")}function _(P,N){if(typeof N=="string"||N==null)return N;const X=Math.abs(N),q=P(X);return N>=0?q:typeof q=="number"?-q:`-${q}`}function te(P,N){return X=>P.reduce((q,ye)=>(q[ye]=_(N,X),q),{})}function de(P,N,X,q){if(N.indexOf(X)===-1)return null;const ye=Y(X),Pe=te(ye,q),Ue=P[X];return y(P,Ue,Pe)}function re(P,N){const X=le(P.theme);return Object.keys(P).map(q=>de(P,N,q,X)).reduce(J,{})}function ae(P){return re(P,S)}ae.propTypes={},ae.filterProps=S;function oe(P){return re(P,b)}oe.propTypes={},oe.filterProps=b;function ne(P){return re(P,K)}ne.propTypes={},ne.filterProps=K;const he=null;function Le(P=8){if(P.mui)return P;const N=le({spacing:P}),X=(...q)=>(q.length===0?[1]:q).map(Pe=>{const Ue=N(Pe);return typeof Ue=="number"?`${Ue}px`:Ue}).join(" ");return X.mui=!0,X}function ke(...P){const N=P.reduce((q,ye)=>(ye.filterProps.forEach(Pe=>{q[Pe]=ye}),q),{}),X=q=>Object.keys(q).reduce((ye,Pe)=>N[Pe]?J(ye,N[Pe](q)):ye,{});return X.propTypes={},X.filterProps=P.reduce((q,ye)=>q.concat(ye.filterProps),[]),X}const _e=ke;function xe(P){return typeof P!="number"?P:`${P}px solid`}function fe(P,N){return H({prop:P,themeKey:"borders",transform:N})}const Me=fe("border",xe),Ce=fe("borderTop",xe),Ae=fe("borderRight",xe),Be=fe("borderBottom",xe),ht=fe("borderLeft",xe),Lt=fe("borderColor"),Bt=fe("borderTopColor"),ft=fe("borderRightColor"),ze=fe("borderBottomColor"),ie=fe("borderLeftColor"),we=fe("outline",xe),Ze=fe("outlineColor"),Xe=P=>{if(P.borderRadius!==void 0&&P.borderRadius!==null){const N=se(P.theme,"shape.borderRadius",4,"borderRadius"),X=q=>({borderRadius:_(N,q)});return y(P,P.borderRadius,X)}return null};Xe.propTypes={},Xe.filterProps=["borderRadius"];const ct=_e(Me,Ce,Ae,Be,ht,Lt,Bt,ft,ze,ie,Xe,we,Ze),Pt=null,Ge=P=>{if(P.gap!==void 0&&P.gap!==null){const N=se(P.theme,"spacing",8,"gap"),X=q=>({gap:_(N,q)});return y(P,P.gap,X)}return null};Ge.propTypes={},Ge.filterProps=["gap"];const yt=P=>{if(P.columnGap!==void 0&&P.columnGap!==null){const N=se(P.theme,"spacing",8,"columnGap"),X=q=>({columnGap:_(N,q)});return y(P,P.columnGap,X)}return null};yt.propTypes={},yt.filterProps=["columnGap"];const qe=P=>{if(P.rowGap!==void 0&&P.rowGap!==null){const N=se(P.theme,"spacing",8,"rowGap"),X=q=>({rowGap:_(N,q)});return y(P,P.rowGap,X)}return null};qe.propTypes={},qe.filterProps=["rowGap"];const Ie=H({prop:"gridColumn"}),We=H({prop:"gridRow"}),Je=H({prop:"gridAutoFlow"}),et=H({prop:"gridAutoColumns"}),Ve=H({prop:"gridAutoRows"}),Ke=H({prop:"gridTemplateColumns"}),$e=H({prop:"gridTemplateRows"}),dt=H({prop:"gridTemplateAreas"}),ut=H({prop:"gridArea"}),mt=_e(Ge,yt,qe,Ie,We,Je,et,Ve,Ke,$e,dt,ut),ve=null;function G(P,N){return N==="grey"?N:P}const V=H({prop:"color",themeKey:"palette",transform:G}),me=H({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:G}),be=H({prop:"backgroundColor",themeKey:"palette",transform:G}),Oe=_e(V,me,be),ot=null;function Qe(P){return P<=1&&P!==0?`${P*100}%`:P}const St=H({prop:"width",transform:Qe}),Mt=P=>{if(P.maxWidth!==void 0&&P.maxWidth!==null){const N=X=>{var q,ye;const Pe=((q=P.theme)==null||(q=q.breakpoints)==null||(q=q.values)==null?void 0:q[X])||f[X];return Pe?((ye=P.theme)==null||(ye=ye.breakpoints)==null?void 0:ye.unit)!=="px"?{maxWidth:`${Pe}${P.theme.breakpoints.unit}`}:{maxWidth:Pe}:{maxWidth:Qe(X)}};return y(P,P.maxWidth,N)}return null};Mt.filterProps=["maxWidth"];const _t=H({prop:"minWidth",transform:Qe}),Yt=H({prop:"height",transform:Qe}),ee=H({prop:"maxHeight",transform:Qe}),M=H({prop:"minHeight",transform:Qe}),j=H({prop:"size",cssProperty:"width",transform:Qe}),ue=H({prop:"size",cssProperty:"height",transform:Qe}),De=H({prop:"boxSizing"}),je=_e(St,Mt,_t,Yt,ee,M,De),nt=null,wt={border:{themeKey:"borders",transform:xe},borderTop:{themeKey:"borders",transform:xe},borderRight:{themeKey:"borders",transform:xe},borderBottom:{themeKey:"borders",transform:xe},borderLeft:{themeKey:"borders",transform:xe},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xe},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xe},color:{themeKey:"palette",transform:G},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:G},backgroundColor:{themeKey:"palette",transform:G},p:{style:oe},pt:{style:oe},pr:{style:oe},pb:{style:oe},pl:{style:oe},px:{style:oe},py:{style:oe},padding:{style:oe},paddingTop:{style:oe},paddingRight:{style:oe},paddingBottom:{style:oe},paddingLeft:{style:oe},paddingX:{style:oe},paddingY:{style:oe},paddingInline:{style:oe},paddingInlineStart:{style:oe},paddingInlineEnd:{style:oe},paddingBlock:{style:oe},paddingBlockStart:{style:oe},paddingBlockEnd:{style:oe},m:{style:ae},mt:{style:ae},mr:{style:ae},mb:{style:ae},ml:{style:ae},mx:{style:ae},my:{style:ae},margin:{style:ae},marginTop:{style:ae},marginRight:{style:ae},marginBottom:{style:ae},marginLeft:{style:ae},marginX:{style:ae},marginY:{style:ae},marginInline:{style:ae},marginInlineStart:{style:ae},marginInlineEnd:{style:ae},marginBlock:{style:ae},marginBlockStart:{style:ae},marginBlockEnd:{style:ae},displayPrint:{cssProperty:!1,transform:P=>({"@media print":{display:P}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ge},rowGap:{style:qe},columnGap:{style:yt},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qe},maxWidth:{style:Mt},minWidth:{transform:Qe},height:{transform:Qe},maxHeight:{transform:Qe},minHeight:{transform:Qe},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ht(...P){const N=P.reduce((q,ye)=>q.concat(Object.keys(ye)),[]),X=new Set(N);return P.every(q=>X.size===Object.keys(q).length)}function tn(P,N){return typeof P=="function"?P(N):P}function rn(){function P(X,q,ye,Pe){const Ue={[X]:q,theme:ye},st=Pe[X];if(!st)return{[X]:q};const{cssProperty:lt=X,themeKey:Ct,transform:Ut,style:It}=st;if(q==null)return null;if(Ct==="typography"&&q==="inherit")return{[X]:q};const it=T(ye,Ct)||{};return It?It(Ue):y(Ue,q,Gt=>{let vt=W(it,Ut,Gt);return Gt===vt&&typeof Gt=="string"&&(vt=W(it,Ut,`${X}${Gt==="default"?"":(0,o.Z)(Gt)}`,Gt)),lt===!1?vt:{[lt]:vt}})}function N(X){var q;const{sx:ye,theme:Pe={}}=X||{};if(!ye)return null;const Ue=(q=Pe.unstable_sxConfig)!=null?q:wt;function st(lt){let Ct=lt;if(typeof lt=="function")Ct=lt(Pe);else if(typeof lt!="object")return lt;if(!Ct)return null;const Ut=h(Pe.breakpoints),It=Object.keys(Ut);let it=Ut;return Object.keys(Ct).forEach(Xt=>{const Gt=tn(Ct[Xt],Pe);if(Gt!=null)if(typeof Gt=="object")if(Ue[Xt])it=J(it,P(Xt,Gt,Pe,Ue));else{const vt=y({theme:Pe},Gt,fn=>({[Xt]:fn}));Ht(vt,Gt)?it[Xt]=N({sx:Gt,theme:Pe}):it=J(it,vt)}else it=J(it,P(Xt,Gt,Pe,Ue))}),R(It,it)}return Array.isArray(ye)?ye.map(st):st(ye)}return N}const Ft=rn();Ft.filterProps=["sx"];const Wt=Ft,on=["breakpoints","palette","spacing","shape"];function sn(P={},...N){const{breakpoints:X={},palette:q={},spacing:ye,shape:Pe={}}=P,Ue=(0,d.Z)(P,on),st=r(X),lt=Le(ye);let Ct=(0,E.Z)({breakpoints:st,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},q),spacing:lt,shape:(0,i.Z)({},m,Pe)},Ue);return Ct=N.reduce((Ut,It)=>(0,E.Z)(Ut,It),Ct),Ct.unstable_sxConfig=(0,i.Z)({},wt,Ue==null?void 0:Ue.unstable_sxConfig),Ct.unstable_sx=function(It){return Wt({sx:It,theme:this})},Ct}const dn=sn;function hn(P,N){return(0,i.Z)({toolbar:{minHeight:56,[P.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[P.up("sm")]:{minHeight:64}}},N)}var wn=e(83863);function Rn(P,N=0,X=1){return(0,wn.Z)(P,N,X)}function Wn(P){P=P.slice(1);const N=new RegExp(`.{1,${P.length>=6?2:1}}`,"g");let X=P.match(N);return X&&X[0].length===1&&(X=X.map(q=>q+q)),X?`rgb${X.length===4?"a":""}(${X.map((q,ye)=>ye<3?parseInt(q,16):Math.round(parseInt(q,16)/255*1e3)/1e3).join(", ")})`:""}function un(P){const N=P.toString(16);return N.length===1?`0${N}`:N}function nn(P){if(P.type)return P;if(P.charAt(0)==="#")return nn(Wn(P));const N=P.indexOf("("),X=P.substring(0,N);if(["rgb","rgba","hsl","hsla","color"].indexOf(X)===-1)throw new Error((0,n.Z)(9,P));let q=P.substring(N+1,P.length-1),ye;if(X==="color"){if(q=q.split(" "),ye=q.shift(),q.length===4&&q[3].charAt(0)==="/"&&(q[3]=q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ye)===-1)throw new Error((0,n.Z)(10,ye))}else q=q.split(",");return q=q.map(Pe=>parseFloat(Pe)),{type:X,values:q,colorSpace:ye}}const $n=P=>{const N=nn(P);return N.values.slice(0,3).map((X,q)=>N.type.indexOf("hsl")!==-1&&q!==0?`${X}%`:X).join(" ")},kn=(P,N)=>{try{return $n(P)}catch{return P}};function cn(P){const{type:N,colorSpace:X}=P;let{values:q}=P;return N.indexOf("rgb")!==-1?q=q.map((ye,Pe)=>Pe<3?parseInt(ye,10):ye):N.indexOf("hsl")!==-1&&(q[1]=`${q[1]}%`,q[2]=`${q[2]}%`),N.indexOf("color")!==-1?q=`${X} ${q.join(" ")}`:q=`${q.join(", ")}`,`${N}(${q})`}function ra(P){if(P.indexOf("#")===0)return P;const{values:N}=nn(P);return`#${N.map((X,q)=>un(q===3?Math.round(255*X):X)).join("")}`}function Mn(P){P=nn(P);const{values:N}=P,X=N[0],q=N[1]/100,ye=N[2]/100,Pe=q*Math.min(ye,1-ye),Ue=(Ct,Ut=(Ct+X/30)%12)=>ye-Pe*Math.max(Math.min(Ut-3,9-Ut,1),-1);let st="rgb";const lt=[Math.round(Ue(0)*255),Math.round(Ue(8)*255),Math.round(Ue(4)*255)];return P.type==="hsla"&&(st+="a",lt.push(N[3])),cn({type:st,values:lt})}function Sn(P){P=nn(P);let N=P.type==="hsl"||P.type==="hsla"?nn(Mn(P)).values:P.values;return N=N.map(X=>(P.type!=="color"&&(X/=255),X<=.03928?X/12.92:((X+.055)/1.055)**2.4)),Number((.2126*N[0]+.7152*N[1]+.0722*N[2]).toFixed(3))}function pn(P,N){const X=Sn(P),q=Sn(N);return(Math.max(X,q)+.05)/(Math.min(X,q)+.05)}function _n(P,N){return P=nn(P),N=Rn(N),(P.type==="rgb"||P.type==="hsl")&&(P.type+="a"),P.type==="color"?P.values[3]=`/${N}`:P.values[3]=N,cn(P)}function Gn(P,N,X){try{return _n(P,N)}catch{return P}}function mn(P,N){if(P=nn(P),N=Rn(N),P.type.indexOf("hsl")!==-1)P.values[2]*=1-N;else if(P.type.indexOf("rgb")!==-1||P.type.indexOf("color")!==-1)for(let X=0;X<3;X+=1)P.values[X]*=1-N;return cn(P)}function ge(P,N,X){try{return mn(P,N)}catch{return P}}function Se(P,N){if(P=nn(P),N=Rn(N),P.type.indexOf("hsl")!==-1)P.values[2]+=(100-P.values[2])*N;else if(P.type.indexOf("rgb")!==-1)for(let X=0;X<3;X+=1)P.values[X]+=(255-P.values[X])*N;else if(P.type.indexOf("color")!==-1)for(let X=0;X<3;X+=1)P.values[X]+=(1-P.values[X])*N;return cn(P)}function Ye(P,N,X){try{return Se(P,N)}catch{return P}}function Ne(P,N=.15){return Sn(P)>.5?mn(P,N):Se(P,N)}function He(P,N,X){try{return He(P,N)}catch{return P}}const tt={black:"#000",white:"#fff"},Et={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pt={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xt={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$t={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},gt={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Vt={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},En={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Hn=["mode","contrastThreshold","tonalOffset"],Vn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tt.white,default:tt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},yn={text:{primary:tt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Zn(P,N,X,q){const ye=q.light||q,Pe=q.dark||q*1.5;P[N]||(P.hasOwnProperty(X)?P[N]=P[X]:N==="light"?P.light=Se(P.main,ye):N==="dark"&&(P.dark=mn(P.main,Pe)))}function Yn(P="light"){return P==="dark"?{main:gt[200],light:gt[50],dark:gt[400]}:{main:gt[700],light:gt[400],dark:gt[800]}}function ln(P="light"){return P==="dark"?{main:pt[200],light:pt[50],dark:pt[400]}:{main:pt[500],light:pt[300],dark:pt[700]}}function On(P="light"){return P==="dark"?{main:xt[500],light:xt[300],dark:xt[700]}:{main:xt[700],light:xt[400],dark:xt[800]}}function ca(P="light"){return P==="dark"?{main:Vt[400],light:Vt[300],dark:Vt[700]}:{main:Vt[700],light:Vt[500],dark:Vt[900]}}function da(P="light"){return P==="dark"?{main:En[400],light:En[300],dark:En[700]}:{main:En[800],light:En[500],dark:En[900]}}function Jn(P="light"){return P==="dark"?{main:$t[400],light:$t[300],dark:$t[700]}:{main:"#ed6c02",light:$t[500],dark:$t[900]}}function Xn(P){const{mode:N="light",contrastThreshold:X=3,tonalOffset:q=.2}=P,ye=(0,d.Z)(P,Hn),Pe=P.primary||Yn(N),Ue=P.secondary||ln(N),st=P.error||On(N),lt=P.info||ca(N),Ct=P.success||da(N),Ut=P.warning||Jn(N);function It(vt){return pn(vt,yn.text.primary)>=X?yn.text.primary:Vn.text.primary}const it=({color:vt,name:fn,mainShade:Dn=500,lightShade:Ln=300,darkShade:qn=700})=>{if(vt=(0,i.Z)({},vt),!vt.main&&vt[Dn]&&(vt.main=vt[Dn]),!vt.hasOwnProperty("main"))throw new Error((0,n.Z)(11,fn?` (${fn})`:"",Dn));if(typeof vt.main!="string")throw new Error((0,n.Z)(12,fn?` (${fn})`:"",JSON.stringify(vt.main)));return Zn(vt,"light",Ln,q),Zn(vt,"dark",qn,q),vt.contrastText||(vt.contrastText=It(vt.main)),vt},Xt={dark:yn,light:Vn};return(0,E.Z)((0,i.Z)({common:(0,i.Z)({},tt),mode:N,primary:it({color:Pe,name:"primary"}),secondary:it({color:Ue,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:it({color:st,name:"error"}),warning:it({color:Ut,name:"warning"}),info:it({color:lt,name:"info"}),success:it({color:Ct,name:"success"}),grey:Et,contrastThreshold:X,getContrastText:It,augmentColor:it,tonalOffset:q},Xt[N]),ye)}const ua=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ma(P){return Math.round(P*1e5)/1e5}const ga={textTransform:"uppercase"},ha='"Roboto", "Helvetica", "Arial", sans-serif';function Ra(P,N){const X=typeof N=="function"?N(P):N,{fontFamily:q=ha,fontSize:ye=14,fontWeightLight:Pe=300,fontWeightRegular:Ue=400,fontWeightMedium:st=500,fontWeightBold:lt=700,htmlFontSize:Ct=16,allVariants:Ut,pxToRem:It}=X,it=(0,d.Z)(X,ua),Xt=ye/14,Gt=It||(Dn=>`${Dn/Ct*Xt}rem`),vt=(Dn,Ln,qn,Fa,za)=>(0,i.Z)({fontFamily:q,fontWeight:Dn,fontSize:Gt(Ln),lineHeight:qn},q===ha?{letterSpacing:`${ma(Fa/Ln)}em`}:{},za,Ut),fn={h1:vt(Pe,96,1.167,-1.5),h2:vt(Pe,60,1.2,-.5),h3:vt(Ue,48,1.167,0),h4:vt(Ue,34,1.235,.25),h5:vt(Ue,24,1.334,0),h6:vt(st,20,1.6,.15),subtitle1:vt(Ue,16,1.75,.15),subtitle2:vt(st,14,1.57,.1),body1:vt(Ue,16,1.5,.15),body2:vt(Ue,14,1.43,.15),button:vt(st,14,1.75,.4,ga),caption:vt(Ue,12,1.66,.4),overline:vt(Ue,12,2.66,1,ga),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,E.Z)((0,i.Z)({htmlFontSize:Ct,pxToRem:Gt,fontFamily:q,fontSize:ye,fontWeightLight:Pe,fontWeightRegular:Ue,fontWeightMedium:st,fontWeightBold:lt},fn),it,{clone:!1})}const fa=.2,Kn=.14,pa=.12;function kt(...P){return[`${P[0]}px ${P[1]}px ${P[2]}px ${P[3]}px rgba(0,0,0,${fa})`,`${P[4]}px ${P[5]}px ${P[6]}px ${P[7]}px rgba(0,0,0,${Kn})`,`${P[8]}px ${P[9]}px ${P[10]}px ${P[11]}px rgba(0,0,0,${pa})`].join(",")}const Qn=["none",kt(0,2,1,-1,0,1,1,0,0,1,3,0),kt(0,3,1,-2,0,2,2,0,0,1,5,0),kt(0,3,3,-2,0,3,4,0,0,1,8,0),kt(0,2,4,-1,0,4,5,0,0,1,10,0),kt(0,3,5,-1,0,5,8,0,0,1,14,0),kt(0,3,5,-1,0,6,10,0,0,1,18,0),kt(0,4,5,-2,0,7,10,1,0,2,16,1),kt(0,5,5,-3,0,8,10,1,0,3,14,2),kt(0,5,6,-3,0,9,12,1,0,3,16,2),kt(0,6,6,-3,0,10,14,1,0,4,18,3),kt(0,6,7,-4,0,11,15,1,0,4,20,3),kt(0,7,8,-4,0,12,17,2,0,5,22,4),kt(0,7,8,-4,0,13,19,2,0,5,24,4),kt(0,7,9,-4,0,14,21,2,0,5,26,4),kt(0,8,9,-5,0,15,22,2,0,6,28,5),kt(0,8,10,-5,0,16,24,2,0,6,30,5),kt(0,8,11,-5,0,17,26,2,0,6,32,5),kt(0,9,11,-5,0,18,28,2,0,7,34,6),kt(0,9,12,-6,0,19,29,2,0,7,36,6),kt(0,10,13,-6,0,20,31,3,0,8,38,7),kt(0,10,13,-6,0,21,33,3,0,8,40,7),kt(0,10,14,-6,0,22,35,3,0,8,42,7),kt(0,11,14,-7,0,23,36,3,0,9,44,8),kt(0,11,15,-7,0,24,38,3,0,9,46,8)],Sa=["duration","easing","delay"],Ia={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Da={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ea(P){return`${Math.round(P)}ms`}function ba(P){if(!P)return 0;const N=P/36;return Math.round((4+15*N**.25+N/5)*10)}function Ma(P){const N=(0,i.Z)({},Ia,P.easing),X=(0,i.Z)({},Da,P.duration),q=(ye=["all"],Pe={})=>{const{duration:Ue=X.standard,easing:st=N.easeInOut,delay:lt=0}=Pe,Ct=(0,d.Z)(Pe,Sa);return(Array.isArray(ye)?ye:[ye]).map(Ut=>`${Ut} ${typeof Ue=="string"?Ue:Ea(Ue)} ${st} ${typeof lt=="string"?lt:Ea(lt)}`).join(",")};return(0,i.Z)({getAutoHeightDuration:ba,create:q},P,{easing:N,duration:X})}const La={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ba=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ya(P={},...N){const{mixins:X={},palette:q={},transitions:ye={},typography:Pe={}}=P,Ue=(0,d.Z)(P,Ba);if(P.vars)throw new Error((0,n.Z)(18));const st=Xn(q),lt=dn(P);let Ct=(0,E.Z)(lt,{mixins:hn(lt.breakpoints,X),palette:st,shadows:Qn.slice(),typography:Ra(st,Pe),transitions:Ma(ye),zIndex:(0,i.Z)({},La),applyDarkStyles(Ut){return this.vars?{[this.getColorSchemeSelector("dark").replace(/(\[[^\]]+\])/,":where($1)")]:Ut}:this.palette.mode==="dark"?Ut:{}}});return Ct=(0,E.Z)(Ct,Ue),Ct=N.reduce((Ut,It)=>(0,E.Z)(Ut,It),Ct),Ct.unstable_sxConfig=(0,i.Z)({},wt,Ue==null?void 0:Ue.unstable_sxConfig),Ct.unstable_sx=function(It){return Wt({sx:It,theme:this})},Ct}let Va=!1;function xa(...P){return ya(...P)}const Ua=ya;var wa=e(22341);const va={MuiCssBaseline:{styleOverrides:P=>({html:{height:"100%",fontFamily:P.typography.fontFamily},body:{height:"100%",fontFamily:P.typography.fontFamily,overscrollBehaviorY:"none",fontSize:"0.875rem",lineHeight:1.43,"&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:P.palette.background.paper,width:"1em"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:P.palette.textVerySubtle,border:`3px solid ${P.palette.background.paper}`},"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active":{backgroundColor:P.palette.mode==="dark"?Se(P.palette.textVerySubtle,.2):mn(P.palette.textVerySubtle,.2)},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:P.palette.mode==="dark"?Se(P.palette.textVerySubtle,.2):mn(P.palette.textVerySubtle,.2)}},a:{color:"inherit",textDecoration:"none"}})},MuiGrid:{defaultProps:{spacing:2}},MuiSwitch:{defaultProps:{color:"primary"}},MuiTableRow:{styleOverrides:{root:({theme:P})=>({"&:nth-of-type(odd)":{backgroundColor:P.palette.background.default}}),hover:{"&:hover":{cursor:"pointer"}},head:({theme:P})=>({"&:nth-of-type(odd)":{backgroundColor:P.palette.background.paper}})}},MuiTableCell:{styleOverrides:{root:({theme:P})=>({wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:P.spacing(3,2,3,2.5),borderBottom:0}),sizeSmall:({theme:P})=>({padding:P.spacing(1.5,2,1.5,2.5)}),head:({theme:P})=>({wordBreak:"break-word",overflow:"hidden",color:P.palette.textSubtle,fontWeight:"normal",lineHeight:"1"})}},MuiTabs:{styleOverrides:{root:{minHeight:24}}},MuiTab:{styleOverrides:{root:({theme:P})=>({color:P.palette.link,minHeight:24,textTransform:"initial",letterSpacing:"0.07em","&:hover":{color:mn(P.palette.link,.3),background:Se(P.palette.link,.95)},[P.breakpoints.up("md")]:{minWidth:120,fontSize:P.typography.pxToRem(14),fontWeight:500}}),textColorPrimary:({theme:P})=>({color:P.palette.link})}},MuiTableSortLabel:{styleOverrides:{root:{color:"inherit","&:hover":{color:"inherit"},"&:focus":{color:"inherit"},"&.Mui-active":{fontWeight:"bold",color:"inherit"}}}},MuiListItemText:{styleOverrides:{dense:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}},MuiButton:{styleOverrides:{text:{padding:void 0}}},MuiChip:{styleOverrides:{root:({theme:P})=>({marginRight:P.spacing(1),marginBottom:P.spacing(1)}),label:({theme:P})=>({lineHeight:P.spacing(2.5),fontWeight:P.typography.fontWeightMedium,fontSize:P.spacing(1.75)}),labelSmall:({theme:P})=>({fontSize:P.spacing(1.5)}),deleteIcon:({theme:P})=>({width:P.spacing(3),height:P.spacing(3),margin:P.spacing(0,.75,0,-.75)}),deleteIconSmall:({theme:P})=>({width:P.spacing(2),height:P.spacing(2),margin:P.spacing(0,.5,0,-.5)})}},MuiCard:{styleOverrides:{root:{display:"flex",flexDirection:"column"}}},MuiCardHeader:{styleOverrides:{root:{paddingBottom:0}}},MuiCardContent:{styleOverrides:{root:{flexGrow:1,"&:last-child":{paddingBottom:void 0}}}},MuiCardActions:{styleOverrides:{root:{justifyContent:"flex-end"}}},MuiLink:{defaultProps:{underline:"hover"}},MuiPaper:{styleOverrides:{root:{backgroundImage:"unset"}}}},Wa=P=>(...N)=>{const X=N.length===0?[1]:N,q=(ye,Pe)=>typeof ye=="string"?ye:Pe*ye;return X.map(ye=>{const Pe=q(ye,P);return typeof Pe=="number"?`${Pe}px`:Pe}).join(" ")};function $a(P,N){if(!N||typeof N=="string")return;const X=typeof N=="function"?N(P):N;if(X)return{"@global":X}}function Za(P,N){if(!(!N||typeof N=="string")){if(typeof N=="object"){const X={...P},q=P.spacing(1);return typeof q=="number"&&(X.spacing=Wa(q)),Object.fromEntries(Object.entries(N).map(([ye,Pe])=>typeof Pe=="function"?[ye,Pe({theme:X})]:[ye,Pe]))}return N}}const Pa=/^&.Mui-([\w-]+)$/;function oa(P){let N=P;if(!P||typeof P!="object")return N;for(const X of Object.keys(P)){const q=P[X];if(!(!q||typeof q!="object"))for(const ye of Object.keys(q)){const Pe=ye,Ue=Pe.match(Pa);if(Ue){const[,st]=Ue,{[Pe]:lt,...Ct}=q;lt&&(N={...N,[X]:Ct,[st]:lt})}}}return N}function Ka(P,N={}){const X={},q={};for(const ye of Object.keys(N)){const Pe=N[ye];Pe&&("styleOverrides"in Pe&&(ye==="MuiCssBaseline"?X[ye]=$a(P,Pe.styleOverrides):X[ye]=oa(Za(P,Pe.styleOverrides))),"defaultProps"in Pe&&(q[ye]=Pe.defaultProps))}return{overrides:X,props:q}}class Ca{constructor(N,X){Rt(this,Tn,new Map);Zt(this,Tn,new Map),N&&Re(this,Tn).set("v4",N),X&&Re(this,Tn).set("v5",X)}getTheme(N){return Re(this,Tn).get(N)}}Tn=new WeakMap;function Na(P){const N=(0,wa._)(P),X={...va,...P.components},q=Ua({...N,components:X}),ye=Ka(q,X),Pe={...(0,t.Z)(N),...ye};return new Ca(Pe,q)}function Ya(P){const N=adaptV4Theme(P),X=createTheme$1(P);return new Ca(X,createTheme(N))}},42648:(k,v,e)=>{e.d(v,{I:()=>Y});var t=e(2784),i=e(87561),d=e(12536),n=e(19219),E=e(41547),l=e(63887),u=e(39721),c=e(52322);let r;typeof document=="object"&&(r=(0,u.Z)({key:"css",prepend:!0}));function s(S){const{injectFirst:b,children:K}=S;return b&&r?(0,c.jsx)(l.C,{value:r,children:K}):K}var m=e(7896),f=e(31461);const y=t.createContext(null);function C(){return t.useContext(y)}const R=typeof Symbol=="function"&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";function O(S,b){return typeof b=="function"?b(S):(0,m.Z)({},S,b)}function D(S){const{children:b,theme:K}=S,se=C(),le=t.useMemo(()=>{const _=se===null?K:O(se,K);return _!=null&&(_[R]=se!==null),_},[K,se]);return(0,c.jsx)(y.Provider,{value:le,children:b})}const x=D;function B(S){return Object.keys(S).length===0}function o(S=null){const b=t.useContext(l.T);return!b||B(b)?S:b}const T=o,W={};function F(S,b,K,se=!1){return t.useMemo(()=>{const le=S&&b[S]||b;if(typeof K=="function"){const _=K(le),te=S?(0,m.Z)({},b,{[S]:_}):_;return se?()=>te:te}return S?(0,m.Z)({},b,{[S]:K}):(0,m.Z)({},b,K)},[S,b,K,se])}function H(S){const{children:b,theme:K,themeId:se}=S,le=T(W),_=C()||W,te=F(se,le,K),de=F(se,_,K,!0);return(0,c.jsx)(x,{theme:de,children:(0,c.jsx)(l.T.Provider,{value:te,children:b})})}const z=H,J="$$material",Z=["theme"];function L(S){let{theme:b}=S,K=(0,f.Z)(S,Z);const se=b[J];return(0,c.jsx)(z,(0,m.Z)({},K,{themeId:se?J:void 0,theme:se||b}))}var $=e(68542);$.Z.configure(S=>`v5-${S}`);const U=(0,d.Z)({productionPrefix:"jss4-"});function Y(S){const{children:b,theme:K,noCssBaseline:se=!1}=S,le=K.getTheme("v4"),_=K.getTheme("v5");let te;se||(te=t.createElement(i.ZP,null));let de=t.createElement(t.Fragment,null,te,b);return le&&(de=t.createElement(n.ZP,{generateClassName:U},t.createElement(E.Z,{theme:le},de))),_&&(de=t.createElement(s,{injectFirst:!0},t.createElement(L,{theme:_},de))),de}},18473:(k,v,e)=>{e.d(v,{CT:()=>u,EI:()=>l,Vt:()=>c,uW:()=>E});var t=e(2784);function i(){return typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")()}const d=i(),n=s=>`__@backstage/${s}__`;function E(s,m){const f=n(s);let p=d[f];return p||(p=m(),d[f]=p,p)}function l(s){Object.freeze(s);const m={atVersion(f){return s[f]}};return Object.defineProperty(m,"$map",{configurable:!0,enumerable:!0,get(){return s}}),m}function u(s){return E(s,()=>(0,t.createContext)(void 0))}function c(s){return(0,t.useContext)(u(s))}function r(s){return{set(m){globalThis[`__@backstage/${s}__`]=createContext(l(m))},reset(){delete globalThis[`__@backstage/${s}__`]}}}}}]);})();

//# sourceMappingURL=module-backstage.151a581b.js.map